(function(){"use strict";var e={9636:function(e,t,a){var l=a(5130),o=a(6768);function r(e,t,a,l,r,s){const n=(0,o.g2)("v-toolbar-title"),i=(0,o.g2)("v-spacer"),d=(0,o.g2)("v-icon"),c=(0,o.g2)("v-btn"),u=(0,o.g2)("v-app-bar"),h=(0,o.g2)("router-view"),m=(0,o.g2)("v-main"),g=(0,o.g2)("v-app");return(0,o.uX)(),(0,o.Wv)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(u,{color:"primary",dark:"",prominent:""},{default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[0]||(t[0]=[(0,o.eW)("Distributed Inventory and Sales Management System",-1)])]),_:1}),(0,o.bF)(i),(0,o.bF)(c,{to:{name:"Selling"},color:"white",variant:"text",class:"mr-2"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{left:""},{default:(0,o.k6)(()=>[...t[1]||(t[1]=[(0,o.eW)("mdi-cash-register",-1)])]),_:1}),t[2]||(t[2]=(0,o.eW)(" selling ",-1))]),_:1}),(0,o.bF)(c,{to:{name:"Inventory"},color:"white",variant:"text",class:"mr-2"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{left:""},{default:(0,o.k6)(()=>[...t[3]||(t[3]=[(0,o.eW)("mdi-warehouse",-1)])]),_:1}),t[4]||(t[4]=(0,o.eW)(" Inventory ",-1))]),_:1}),(0,o.bF)(c,{to:{name:"SalesRecord"},color:"white",variant:"text",class:"mr-2"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{left:""},{default:(0,o.k6)(()=>[...t[5]||(t[5]=[(0,o.eW)("mdi-chart-line",-1)])]),_:1}),t[6]||(t[6]=(0,o.eW)(" sales record ",-1))]),_:1}),(0,o.bF)(c,{icon:""},{default:(0,o.k6)(()=>[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[...t[7]||(t[7]=[(0,o.eW)("mdi-account",-1)])]),_:1})]),_:1})]),_:1}),(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(h)]),_:1})]),_:1})}var s={name:"App"},n=a(1241);const i=(0,n.A)(s,[["render",r]]);var d=i,c=a(5753),u=(a(5524),a(2801)),h=a(3425),m=a(1387),g=a(4232);function p(e,t,a,l,r,s){const n=(0,o.g2)("v-icon"),i=(0,o.g2)("v-spacer"),d=(0,o.g2)("v-btn"),c=(0,o.g2)("v-card-title"),u=(0,o.g2)("v-card-text"),h=(0,o.g2)("v-card"),m=(0,o.g2)("SalesRecordFilters"),p=(0,o.g2)("SalesRecordList"),f=(0,o.g2)("v-col"),y=(0,o.g2)("v-row"),v=(0,o.g2)("v-card-actions"),b=(0,o.g2)("v-dialog"),k=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(k,{fluid:""},{default:(0,o.k6)(()=>[(0,o.bF)(y,null,{default:(0,o.k6)(()=>[(0,o.bF)(f,{cols:"12"},{default:(0,o.k6)(()=>[(0,o.bF)(h,{class:"mb-4"},{default:(0,o.k6)(()=>[(0,o.bF)(c,{class:"d-flex align-center"},{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:"",size:"large",color:"primary"},{default:(0,o.k6)(()=>[...t[2]||(t[2]=[(0,o.eW)("mdi-chart-line",-1)])]),_:1}),t[5]||(t[5]=(0,o.Lk)("h1",{class:"text-h4"},"Sales Records Query",-1)),(0,o.bF)(i),(0,o.bF)(d,{color:"primary",variant:"outlined",onClick:s.refreshData,loading:r.isRefreshing},{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:""},{default:(0,o.k6)(()=>[...t[3]||(t[3]=[(0,o.eW)("mdi-refresh",-1)])]),_:1}),t[4]||(t[4]=(0,o.eW)(" Refresh Data ",-1))]),_:1},8,["onClick","loading"])]),_:1}),(0,o.bF)(u,null,{default:(0,o.k6)(()=>[...t[6]||(t[6]=[(0,o.Lk)("p",{class:"text-body-1 text-grey-darken-1"}," View and manage all sales records with filtering by date, product, and store ",-1)])]),_:1})]),_:1}),(0,o.bF)(m,{onFiltersChange:s.onFiltersChange,onError:s.onFilterError,class:"mb-4"},null,8,["onFiltersChange","onError"]),(0,o.bF)(p,{"sales-records":r.salesRecords,stats:r.salesStats,loading:r.loading,error:r.error},null,8,["sales-records","stats","loading","error"])]),_:1})]),_:1}),(0,o.bF)(b,{modelValue:r.showErrorDialog,"onUpdate:modelValue":t[1]||(t[1]=e=>r.showErrorDialog=e),"max-width":"500px"},{default:(0,o.k6)(()=>[(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(c,{class:"text-h5 text-error"},{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:"",color:"error"},{default:(0,o.k6)(()=>[...t[7]||(t[7]=[(0,o.eW)("mdi-alert-circle",-1)])]),_:1}),t[8]||(t[8]=(0,o.eW)(" Error ",-1))]),_:1}),(0,o.bF)(u,null,{default:(0,o.k6)(()=>[(0,o.eW)((0,g.v_)(r.errorDialogMessage),1)]),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(i),(0,o.bF)(d,{color:"primary",onClick:t[0]||(t[0]=e=>r.showErrorDialog=!1)},{default:(0,o.k6)(()=>[...t[9]||(t[9]=[(0,o.eW)("OK",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}function f(e,t,a,l,r,s){const n=(0,o.g2)("v-icon"),i=(0,o.g2)("v-card-title"),d=(0,o.g2)("v-select"),c=(0,o.g2)("v-col"),u=(0,o.g2)("v-text-field"),h=(0,o.g2)("v-row"),m=(0,o.g2)("v-combobox"),g=(0,o.g2)("v-btn"),p=(0,o.g2)("v-card-text"),f=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(i,null,{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:""},{default:(0,o.k6)(()=>[...t[5]||(t[5]=[(0,o.eW)("mdi-filter",-1)])]),_:1}),t[6]||(t[6]=(0,o.eW)(" Filter Conditions ",-1))]),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(c,{cols:"12",md:"4"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{modelValue:r.dateFilterType,"onUpdate:modelValue":t[0]||(t[0]=e=>r.dateFilterType=e),items:r.dateFilterOptions,label:"Date Filter Type",outlined:"",dense:"",onChange:s.onDateFilterTypeChange},null,8,["modelValue","items","onChange"])]),_:1}),"two-days"===r.dateFilterType?((0,o.uX)(),(0,o.Wv)(c,{key:0,cols:"12",md:"8"},{default:(0,o.k6)(()=>[(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(c,{cols:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{modelValue:r.firstDate,"onUpdate:modelValue":[t[1]||(t[1]=e=>r.firstDate=e),s.onTwoDaysChange],label:"Start Date",type:"date",outlined:"",dense:"",max:(new Date).toISOString().split("T")[0]},null,8,["modelValue","max","onUpdate:modelValue"])]),_:1}),(0,o.bF)(c,{cols:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{modelValue:r.secondDate,"onUpdate:modelValue":[t[2]||(t[2]=e=>r.secondDate=e),s.onTwoDaysChange],label:"End Date",type:"date",outlined:"",dense:"",max:(new Date).toISOString().split("T")[0]},null,8,["modelValue","max","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)(c,{cols:"12",md:"4"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{modelValue:r.selectedProducts,"onUpdate:modelValue":[t[3]||(t[3]=e=>r.selectedProducts=e),s.onFiltersChange],items:r.availableProducts,loading:r.loadingProducts,label:"Product Filter",placeholder:"Select products",outlined:"",dense:"",multiple:"",chips:"",clearable:""},null,8,["modelValue","items","loading","onUpdate:modelValue"])]),_:1}),(0,o.bF)(c,{cols:"12",md:"4"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{modelValue:r.selectedStoreNames,"onUpdate:modelValue":[t[4]||(t[4]=e=>r.selectedStoreNames=e),s.onFiltersChange],items:r.availableStoreNames,loading:r.loadingStoreNames,label:"Store Filter",placeholder:"Select stores",outlined:"",dense:"",multiple:"",chips:"",clearable:""},null,8,["modelValue","items","loading","onUpdate:modelValue"])]),_:1})]),_:1}),(0,o.bF)(h,{class:"mt-2"},{default:(0,o.k6)(()=>[(0,o.bF)(c,{cols:"12",class:"text-right"},{default:(0,o.k6)(()=>[(0,o.bF)(g,{color:"secondary",onClick:s.resetFilters,class:"mr-2"},{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:""},{default:(0,o.k6)(()=>[...t[7]||(t[7]=[(0,o.eW)("mdi-refresh",-1)])]),_:1}),t[8]||(t[8]=(0,o.eW)(" Reset ",-1))]),_:1},8,["onClick"]),(0,o.bF)(g,{color:"primary",onClick:s.applyFilters,loading:r.loading},{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:""},{default:(0,o.k6)(()=>[...t[9]||(t[9]=[(0,o.eW)("mdi-magnify",-1)])]),_:1}),t[10]||(t[10]=(0,o.eW)(" Search ",-1))]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1})]),_:1})}a(8111),a(7588),a(1701),a(8237),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);var y=a(1300);const v="https://obhzromrgwodaxsjlgfs.supabase.co",b="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9iaHpyb21yZ3dvZGF4c2psZ2ZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2NDg1NTgsImV4cCI6MjA3NDIyNDU1OH0.7gjEbFfzzXOTxt3fhnBxEfSqKtazQ_5ywY4i_I84O-E";v&&b||console.error("[Supabase] Missing SUPABASE_URL or SUPABASE_ANON_KEY environment variables");const k=(0,y.UU)(v||"",b||"");var F=k;const _="sales";async function S(e){const{data:t,error:a}=await F.from(_).insert([e]).select();if(a)throw a;return t}async function D(e){let t=F.from(_).select("*");if(e.dateRange)if(1===e.dateRange.length){const a=new Date(e.dateRange[0]);a.setHours(0,0,0,0);const l=new Date(e.dateRange[0]);l.setHours(23,59,59,999),t=t.gte("time",a.toISOString()).lte("time",l.toISOString())}else if(2===e.dateRange.length){const a=new Date(e.dateRange[0]);a.setHours(0,0,0,0);const l=new Date(e.dateRange[1]);l.setHours(23,59,59,999),t=t.gte("time",a.toISOString()).lte("time",l.toISOString())}e.products&&e.products.length>0&&(t=t.in("product",e.products)),e.storeNames&&e.storeNames.length>0&&(t=t.in("name",e.storeNames)),t=t.order("time",{ascending:!1}),e.limit&&(t=t.limit(e.limit)),e.offset&&(t=t.range(e.offset,e.offset+(e.limit||20)-1));const{data:a,error:l}=await t;if(l)throw l;return a}async function C(){const{data:e,error:t}=await F.from(_).select("product").order("product");if(t)throw t;const a=[...new Set(e.map(e=>e.product))];return a}async function w(){const{data:e,error:t}=await F.from(_).select("name").order("name");if(t)throw t;const a=[...new Set(e.map(e=>e.name))];return a}async function R(e={}){let t=F.from(_).select("price, quantity, time");if(e.dateRange)if(1===e.dateRange.length){const a=new Date(e.dateRange[0]);a.setHours(0,0,0,0);const l=new Date(e.dateRange[0]);l.setHours(23,59,59,999),t=t.gte("time",a.toISOString()).lte("time",l.toISOString())}else if(2===e.dateRange.length){const a=new Date(e.dateRange[0]);a.setHours(0,0,0,0);const l=new Date(e.dateRange[1]);l.setHours(23,59,59,999),t=t.gte("time",a.toISOString()).lte("time",l.toISOString())}e.products&&e.products.length>0&&(t=t.in("product",e.products)),e.storeNames&&e.storeNames.length>0&&(t=t.in("name",e.storeNames));const{data:a,error:l}=await t;if(l)throw l;const o=a.length,r=a.reduce((e,t)=>e+(t.price||0),0),s=a.reduce((e,t)=>e+(t.quantity||0),0),n=x(a),i=W(a);return{totalRecords:o,totalRevenue:r,totalQuantity:s,dailyRevenue:n,monthlyRevenue:i}}function x(e){if(!Array.isArray(e))return console.warn("calculateDailyRevenue: 输入数据不是数组"),[];if(0===e.length)return[];const t=new Map;try{e.forEach((e,a)=>{if(!e||"object"!==typeof e)return void console.warn(`calculateDailyRevenue: 跳过无效记录 at index ${a}`);if(!e.time)return void console.warn(`calculateDailyRevenue: 记录缺少时间字段 at index ${a}`);const l=new Date(e.time);if(isNaN(l.getTime()))return void console.warn(`calculateDailyRevenue: 无效的时间格式 at index ${a}: ${e.time}`);const o=l.toISOString().split("T")[0],r=parseFloat(e.price)||0;r<0&&console.warn(`calculateDailyRevenue: 负价格值 at index ${a}: ${e.price}`);const s=t.get(o)||0;t.set(o,s+r)});const a=Array.from(t.entries()).map(([e,t])=>({date:e,revenue:Math.round(100*t)/100})).sort((e,t)=>new Date(e.date)-new Date(t.date));return a}catch(a){return console.error("calculateDailyRevenue: 处理数据时发生错误:",a),[]}}function W(e){const t=new Map;return e.forEach(e=>{const a=new Date(e.time),l=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}`;t.has(l)?t.set(l,t.get(l)+(e.price||0)):t.set(l,e.price||0)}),Array.from(t.entries()).map(([e,t])=>({month:e,revenue:t})).sort((e,t)=>e.month.localeCompare(t.month))}var P={name:"SalesRecordFilters",emits:["filters-change"],data(){return{dateFilterType:"none",dateFilterOptions:[{title:"No Date Filter",value:"none"},{title:"Select Day Range",value:"two-days"}],firstDate:null,secondDate:null,selectedProducts:[],selectedStoreNames:[],availableProducts:[],availableStoreNames:[],loadingProducts:!1,loadingStoreNames:!1,loading:!1}},mounted(){this.loadFilterOptions()},methods:{async loadFilterOptions(){this.loadingProducts=!0,this.loadingStoreNames=!0;try{const[e,t]=await Promise.all([C(),w()]);this.availableProducts=e,this.availableStoreNames=t}catch(e){console.error("Failed to load filter options:",e),this.$emit("error","Failed to load filter options")}finally{this.loadingProducts=!1,this.loadingStoreNames=!1}},onDateFilterTypeChange(){this.resetDateFilters(),this.onFiltersChange()},onTwoDaysChange(){this.onFiltersChange()},formatDate(e){if(!e)return"";const t=new Date(e),a=new Date(t.getTime()+288e5);return a.toLocaleDateString("en-US")},onFiltersChange(){this.emitFilters()},emitFilters(){const e={dateRange:this.getDateRangeFilter(),products:this.selectedProducts,storeNames:this.selectedStoreNames};this.$emit("filters-change",e)},getDateRangeFilter(){if("two-days"===this.dateFilterType&&this.firstDate&&this.secondDate){const e=[this.firstDate,this.secondDate].sort();return e}return null},applyFilters(){this.loading=!0,this.emitFilters(),setTimeout(()=>{this.loading=!1},500)},resetFilters(){this.dateFilterType="none",this.firstDate=null,this.secondDate=null,this.selectedProducts=[],this.selectedStoreNames=[],this.emitFilters()},resetDateFilters(){this.firstDate=null,this.secondDate=null}}};const V=(0,n.A)(P,[["render",f],["__scopeId","data-v-2018a850"]]);var I=V;const N={class:"text-h6"},T={class:"text-h6"},$={class:"text-h6"},L={key:1,class:"text-center py-8"},E={key:3,class:"text-center py-8"},q={key:4},U={class:"ml-2"},Q={class:"font-weight-medium"},M={class:"font-weight-medium"},O={class:"font-weight-medium"},A={class:"font-weight-bold text-primary"},X={class:"text-caption"},H={key:0},j={key:1,class:"text-center py-8"},z={key:0},J={key:1,class:"text-center py-8"};function B(e,t,a,l,r,s){const n=(0,o.g2)("v-icon"),i=(0,o.g2)("v-spacer"),d=(0,o.g2)("v-chip"),c=(0,o.g2)("v-card-title"),u=(0,o.g2)("v-card-text"),h=(0,o.g2)("v-card"),m=(0,o.g2)("v-col"),p=(0,o.g2)("v-btn"),f=(0,o.g2)("v-row"),y=(0,o.g2)("v-progress-circular"),v=(0,o.g2)("v-alert"),b=(0,o.g2)("v-expansion-panel-title"),k=(0,o.g2)("v-divider"),F=(0,o.g2)("v-list-item-title"),_=(0,o.g2)("v-list-item-subtitle"),S=(0,o.g2)("v-list-item"),D=(0,o.g2)("v-list"),C=(0,o.g2)("v-expansion-panel-text"),w=(0,o.g2)("v-expansion-panel"),R=(0,o.g2)("v-expansion-panels"),x=(0,o.g2)("v-pagination"),W=(0,o.g2)("v-text-field"),P=(0,o.g2)("v-tab"),V=(0,o.g2)("v-tabs"),I=(0,o.g2)("RevenueChart"),B=(0,o.g2)("v-tabs-window-item"),G=(0,o.g2)("v-tabs-window"),Z=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.Wv)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(c,null,{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:""},{default:(0,o.k6)(()=>[...t[8]||(t[8]=[(0,o.eW)("mdi-format-list-bulleted",-1)])]),_:1}),t[9]||(t[9]=(0,o.eW)(" Sales Records ",-1)),(0,o.bF)(i),(0,o.bF)(d,{color:"primary",variant:"outlined"},{default:(0,o.k6)(()=>[(0,o.eW)(" Total "+(0,g.v_)(s.totalRecords)+" Records ",1)]),_:1})]),_:1}),(0,o.bF)(u,null,{default:(0,o.k6)(()=>[a.stats?((0,o.uX)(),(0,o.Wv)(f,{key:0,class:"mb-4"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{cols:"12",md:"3"},{default:(0,o.k6)(()=>[(0,o.bF)(h,{color:"primary",variant:"tonal"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{class:"text-center"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",N,(0,g.v_)(a.stats.totalRecords),1),t[10]||(t[10]=(0,o.Lk)("div",{class:"text-caption"},"Total Records",-1))]),_:1})]),_:1})]),_:1}),(0,o.bF)(m,{cols:"12",md:"3"},{default:(0,o.k6)(()=>[(0,o.bF)(h,{color:"success",variant:"tonal"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{class:"text-center"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",T,"$"+(0,g.v_)(a.stats.totalRevenue.toLocaleString()),1),t[11]||(t[11]=(0,o.Lk)("div",{class:"text-caption"},"Total Revenue",-1))]),_:1})]),_:1})]),_:1}),(0,o.bF)(m,{cols:"12",md:"3"},{default:(0,o.k6)(()=>[(0,o.bF)(h,{color:"info",variant:"tonal"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{class:"text-center"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",$,(0,g.v_)(a.stats.totalQuantity),1),t[12]||(t[12]=(0,o.Lk)("div",{class:"text-caption"},"Total Quantity",-1))]),_:1})]),_:1})]),_:1}),(0,o.bF)(m,{cols:"12",md:"3"},{default:(0,o.k6)(()=>[(0,o.bF)(h,{color:"warning",variant:"tonal"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{class:"text-center"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{color:"warning",variant:"elevated",onClick:s.showRevenueChart,disabled:!a.stats.dailyRevenue||0===a.stats.dailyRevenue.length},{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:""},{default:(0,o.k6)(()=>[...t[13]||(t[13]=[(0,o.eW)("mdi-chart-line",-1)])]),_:1}),t[14]||(t[14]=(0,o.eW)(" Show Revenue ",-1))]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),a.loading?((0,o.uX)(),(0,o.CE)("div",L,[(0,o.bF)(y,{indeterminate:"",color:"primary",size:"64"}),t[15]||(t[15]=(0,o.Lk)("div",{class:"mt-2"},"Loading...",-1))])):a.error?((0,o.uX)(),(0,o.Wv)(v,{key:2,type:"error",class:"mb-4"},{default:(0,o.k6)(()=>[(0,o.eW)((0,g.v_)(a.error),1)]),_:1})):0===a.salesRecords.length?((0,o.uX)(),(0,o.CE)("div",E,[(0,o.bF)(n,{size:"64",color:"grey"},{default:(0,o.k6)(()=>[...t[16]||(t[16]=[(0,o.eW)("mdi-inbox-outline",-1)])]),_:1}),t[17]||(t[17]=(0,o.Lk)("div",{class:"text-h6 mt-2"},"No Sales Records Found",-1)),t[18]||(t[18]=(0,o.Lk)("div",{class:"text-body-2 text-grey"},"Please adjust filter conditions or check data",-1))])):((0,o.uX)(),(0,o.CE)("div",q,[(0,o.bF)(R,{modelValue:r.expandedPanels,"onUpdate:modelValue":t[0]||(t[0]=e=>r.expandedPanels=e),multiple:""},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.paginatedRecords,(e,a)=>((0,o.uX)(),(0,o.Wv)(w,{key:e.id||a,value:a},{default:(0,o.k6)(()=>[(0,o.bF)(b,null,{default:(0,o.k6)(({expanded:a})=>[(0,o.bF)(f,{"no-gutters":""},{default:(0,o.k6)(()=>[(0,o.bF)(m,{cols:"12",md:"3"},{default:(0,o.k6)(()=>[(0,o.bF)(n,{icon:a?"mdi-chevron-up":"mdi-chevron-down"},null,8,["icon"]),(0,o.Lk)("span",U,(0,g.v_)(e.product),1)]),_:2},1024),(0,o.bF)(m,{cols:"12",md:"2"},{default:(0,o.k6)(()=>[t[19]||(t[19]=(0,o.Lk)("span",{class:"text-caption text-grey"},"Store:",-1)),(0,o.Lk)("div",Q,(0,g.v_)(e.name),1)]),_:2},1024),(0,o.bF)(m,{cols:"12",md:"2"},{default:(0,o.k6)(()=>[t[20]||(t[20]=(0,o.Lk)("span",{class:"text-caption text-grey"},"Qty:",-1)),(0,o.Lk)("div",M,(0,g.v_)(e.quantity),1)]),_:2},1024),(0,o.bF)(m,{cols:"12",md:"2"},{default:(0,o.k6)(()=>[t[21]||(t[21]=(0,o.Lk)("span",{class:"text-caption text-grey"},"Unit:",-1)),(0,o.Lk)("div",O,"$"+(0,g.v_)(e.unit_price),1)]),_:2},1024),(0,o.bF)(m,{cols:"12",md:"2"},{default:(0,o.k6)(()=>[t[22]||(t[22]=(0,o.Lk)("span",{class:"text-caption text-grey"},"Total:",-1)),(0,o.Lk)("div",A,"$"+(0,g.v_)(e.price),1)]),_:2},1024),(0,o.bF)(m,{cols:"12",md:"1"},{default:(0,o.k6)(()=>[t[23]||(t[23]=(0,o.Lk)("span",{class:"text-caption text-grey"},"Time:",-1)),(0,o.Lk)("div",X,(0,g.v_)(s.formatDate(e.time)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),(0,o.bF)(C,null,{default:(0,o.k6)(()=>[(0,o.bF)(k,{class:"mb-3"}),(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(m,{cols:"12",md:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(D,{density:"compact"},{default:(0,o.k6)(()=>[(0,o.bF)(S,null,{prepend:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[24]||(t[24]=[(0,o.eW)("mdi-store",-1)])]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(F,null,{default:(0,o.k6)(()=>[...t[25]||(t[25]=[(0,o.eW)("Store Name",-1)])]),_:1}),(0,o.bF)(_,null,{default:(0,o.k6)(()=>[(0,o.eW)((0,g.v_)(e.name),1)]),_:2},1024)]),_:2},1024),(0,o.bF)(S,null,{prepend:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[26]||(t[26]=[(0,o.eW)("mdi-map-marker",-1)])]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(F,null,{default:(0,o.k6)(()=>[...t[27]||(t[27]=[(0,o.eW)("Store Location",-1)])]),_:1}),(0,o.bF)(_,null,{default:(0,o.k6)(()=>[(0,o.eW)((0,g.v_)(e.store_location),1)]),_:2},1024)]),_:2},1024),(0,o.bF)(S,null,{prepend:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[28]||(t[28]=[(0,o.eW)("mdi-package-variant",-1)])]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(F,null,{default:(0,o.k6)(()=>[...t[29]||(t[29]=[(0,o.eW)("Product",-1)])]),_:1}),(0,o.bF)(_,null,{default:(0,o.k6)(()=>[(0,o.eW)((0,g.v_)(e.product),1)]),_:2},1024)]),_:2},1024),(0,o.bF)(S,null,{prepend:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[30]||(t[30]=[(0,o.eW)("mdi-palette",-1)])]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(F,null,{default:(0,o.k6)(()=>[...t[31]||(t[31]=[(0,o.eW)("Color",-1)])]),_:1}),(0,o.bF)(_,null,{default:(0,o.k6)(()=>[(0,o.eW)((0,g.v_)(e.color),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),(0,o.bF)(m,{cols:"12",md:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(D,{density:"compact"},{default:(0,o.k6)(()=>[e.storage?((0,o.uX)(),(0,o.Wv)(S,{key:0},{prepend:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[32]||(t[32]=[(0,o.eW)("mdi-memory",-1)])]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(F,null,{default:(0,o.k6)(()=>[...t[33]||(t[33]=[(0,o.eW)("Storage",-1)])]),_:1}),(0,o.bF)(_,null,{default:(0,o.k6)(()=>[(0,o.eW)((0,g.v_)(e.storage)+"GB",1)]),_:2},1024)]),_:2},1024)):(0,o.Q3)("",!0),(0,o.bF)(S,null,{prepend:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[34]||(t[34]=[(0,o.eW)("mdi-numeric",-1)])]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(F,null,{default:(0,o.k6)(()=>[...t[35]||(t[35]=[(0,o.eW)("Quantity",-1)])]),_:1}),(0,o.bF)(_,null,{default:(0,o.k6)(()=>[(0,o.eW)((0,g.v_)(e.quantity),1)]),_:2},1024)]),_:2},1024),(0,o.bF)(S,null,{prepend:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[36]||(t[36]=[(0,o.eW)("mdi-currency-usd",-1)])]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(F,null,{default:(0,o.k6)(()=>[...t[37]||(t[37]=[(0,o.eW)("Unit Price",-1)])]),_:1}),(0,o.bF)(_,null,{default:(0,o.k6)(()=>[(0,o.eW)("$"+(0,g.v_)(e.unit_price),1)]),_:2},1024)]),_:2},1024),(0,o.bF)(S,null,{prepend:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[38]||(t[38]=[(0,o.eW)("mdi-calculator",-1)])]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(F,null,{default:(0,o.k6)(()=>[...t[39]||(t[39]=[(0,o.eW)("Total Price",-1)])]),_:1}),(0,o.bF)(_,{class:"text-h6 text-primary"},{default:(0,o.k6)(()=>[(0,o.eW)("$"+(0,g.v_)(e.price),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),(0,o.bF)(k,{class:"mt-3"}),(0,o.bF)(f,{class:"mt-2"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{cols:"12",class:"text-right"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{color:"grey",variant:"outlined",size:"small"},{default:(0,o.k6)(()=>[(0,o.bF)(n,{start:""},{default:(0,o.k6)(()=>[...t[40]||(t[40]=[(0,o.eW)("mdi-clock",-1)])]),_:1}),(0,o.eW)(" Sale Time: "+(0,g.v_)(s.formatDateTime(e.time)),1)]),_:2},1024),(0,o.bF)(d,{color:"grey",variant:"outlined",size:"small",class:"ml-2"},{default:(0,o.k6)(()=>[(0,o.bF)(n,{start:""},{default:(0,o.k6)(()=>[...t[41]||(t[41]=[(0,o.eW)("mdi-identifier",-1)])]),_:1}),(0,o.eW)(" ID: "+(0,g.v_)(e.id),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),s.totalPages>1?((0,o.uX)(),(0,o.Wv)(x,{key:0,modelValue:r.currentPage,"onUpdate:modelValue":[t[1]||(t[1]=e=>r.currentPage=e),s.onPageChange],length:s.totalPages,"total-visible":7,class:"mt-4"},null,8,["modelValue","length","onUpdate:modelValue"])):(0,o.Q3)("",!0)]))]),_:1}),(0,o.bF)(Z,{modelValue:r.showChartDialog,"onUpdate:modelValue":t[7]||(t[7]=e=>r.showChartDialog=e),"max-width":"1200px"},{default:(0,o.k6)(()=>[(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(c,{class:"d-flex align-center"},{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:"",color:"primary"},{default:(0,o.k6)(()=>[...t[42]||(t[42]=[(0,o.eW)("mdi-chart-line",-1)])]),_:1}),t[43]||(t[43]=(0,o.eW)(" Revenue Analysis ",-1)),(0,o.bF)(i),(0,o.bF)(p,{icon:"mdi-close",variant:"text",onClick:t[2]||(t[2]=e=>r.showChartDialog=!1)})]),_:1}),(0,o.bF)(u,null,{default:(0,o.k6)(()=>[(0,o.bF)(h,{class:"mb-4",variant:"outlined"},{default:(0,o.k6)(()=>[(0,o.bF)(c,{class:"text-subtitle-1"},{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:""},{default:(0,o.k6)(()=>[...t[44]||(t[44]=[(0,o.eW)("mdi-calendar-range",-1)])]),_:1}),t[45]||(t[45]=(0,o.eW)(" Date Range Filter ",-1))]),_:1}),(0,o.bF)(u,null,{default:(0,o.k6)(()=>[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(m,{cols:"12",md:"4"},{default:(0,o.k6)(()=>[(0,o.bF)(W,{modelValue:r.revenueDateRange.startDate,"onUpdate:modelValue":[t[3]||(t[3]=e=>r.revenueDateRange.startDate=e),s.onRevenueDateRangeChange],label:"Start Date",type:"date","prepend-icon":"mdi-calendar-start",variant:"outlined",density:"compact",max:r.revenueDateRange.endDate||(new Date).toISOString().split("T")[0]},null,8,["modelValue","max","onUpdate:modelValue"])]),_:1}),(0,o.bF)(m,{cols:"12",md:"4"},{default:(0,o.k6)(()=>[(0,o.bF)(W,{modelValue:r.revenueDateRange.endDate,"onUpdate:modelValue":[t[4]||(t[4]=e=>r.revenueDateRange.endDate=e),s.onRevenueDateRangeChange],label:"End Date",type:"date","prepend-icon":"mdi-calendar-end",variant:"outlined",density:"compact",min:r.revenueDateRange.startDate,max:(new Date).toISOString().split("T")[0]},null,8,["modelValue","min","max","onUpdate:modelValue"])]),_:1}),(0,o.bF)(m,{cols:"12",md:"4",class:"d-flex align-center"},{default:(0,o.k6)(()=>[(0,o.bF)(p,{color:"primary",variant:"outlined",onClick:s.applyRevenueDateRange,disabled:!r.revenueDateRange.startDate||!r.revenueDateRange.endDate,class:"mr-2"},{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:""},{default:(0,o.k6)(()=>[...t[46]||(t[46]=[(0,o.eW)("mdi-filter",-1)])]),_:1}),t[47]||(t[47]=(0,o.eW)(" Apply Filter ",-1))]),_:1},8,["onClick","disabled"]),(0,o.bF)(p,{color:"secondary",variant:"text",onClick:s.clearRevenueDateRange},{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:""},{default:(0,o.k6)(()=>[...t[48]||(t[48]=[(0,o.eW)("mdi-refresh",-1)])]),_:1}),t[49]||(t[49]=(0,o.eW)(" Clear ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),(0,o.bF)(V,{modelValue:r.activeTab,"onUpdate:modelValue":t[5]||(t[5]=e=>r.activeTab=e),class:"mb-4"},{default:(0,o.k6)(()=>[(0,o.bF)(P,{value:"daily"},{default:(0,o.k6)(()=>[...t[50]||(t[50]=[(0,o.eW)("Daily Revenue",-1)])]),_:1}),(0,o.bF)(P,{value:"monthly"},{default:(0,o.k6)(()=>[...t[51]||(t[51]=[(0,o.eW)("Monthly Revenue",-1)])]),_:1})]),_:1},8,["modelValue"]),(0,o.bF)(G,{modelValue:r.activeTab,"onUpdate:modelValue":t[6]||(t[6]=e=>r.activeTab=e)},{default:(0,o.k6)(()=>[(0,o.bF)(B,{value:"daily"},{default:(0,o.k6)(()=>[s.filteredDailyRevenue&&s.filteredDailyRevenue.length>0?((0,o.uX)(),(0,o.CE)("div",H,[(0,o.bF)(I,{data:s.filteredDailyRevenue,type:"daily",title:"Daily Revenue Trend"},null,8,["data"])])):((0,o.uX)(),(0,o.CE)("div",j,[(0,o.bF)(n,{size:"64",color:"grey"},{default:(0,o.k6)(()=>[...t[52]||(t[52]=[(0,o.eW)("mdi-chart-line",-1)])]),_:1}),t[53]||(t[53]=(0,o.Lk)("div",{class:"text-h6 mt-2"},"No Daily Revenue Data",-1)),t[54]||(t[54]=(0,o.Lk)("div",{class:"text-body-2 text-grey"},"No sales data available for daily analysis",-1))]))]),_:1}),(0,o.bF)(B,{value:"monthly"},{default:(0,o.k6)(()=>[s.filteredMonthlyRevenue&&s.filteredMonthlyRevenue.length>0?((0,o.uX)(),(0,o.CE)("div",z,[(0,o.bF)(I,{data:s.filteredMonthlyRevenue,type:"monthly",title:"Monthly Revenue Trend"},null,8,["data"])])):((0,o.uX)(),(0,o.CE)("div",J,[(0,o.bF)(n,{size:"64",color:"grey"},{default:(0,o.k6)(()=>[...t[55]||(t[55]=[(0,o.eW)("mdi-chart-line",-1)])]),_:1}),t[56]||(t[56]=(0,o.Lk)("div",{class:"text-h6 mt-2"},"No Monthly Revenue Data",-1)),t[57]||(t[57]=(0,o.Lk)("div",{class:"text-body-2 text-grey"},"No sales data available for monthly analysis",-1))]))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}a(2489);const G={class:"revenue-chart"},Z={key:0,class:"mb-4"},K={class:"chart-container"},Y={ref:"chartCanvas"};function ee(e,t,a,l,r,s){const n=(0,o.g2)("v-icon"),i=(0,o.g2)("v-spacer"),d=(0,o.g2)("v-chip"),c=(0,o.g2)("v-card-title"),u=(0,o.g2)("v-text-field"),h=(0,o.g2)("v-col"),m=(0,o.g2)("v-btn"),p=(0,o.g2)("v-row"),f=(0,o.g2)("v-card-text"),y=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.CE)("div",G,[(0,o.bF)(y,null,{default:(0,o.k6)(()=>[(0,o.bF)(c,{class:"d-flex align-center"},{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:"",color:"primary"},{default:(0,o.k6)(()=>[...t[1]||(t[1]=[(0,o.eW)("mdi-chart-line",-1)])]),_:1}),(0,o.eW)(" "+(0,g.v_)(a.title)+" ",1),(0,o.bF)(i),(0,o.bF)(d,{color:"success",variant:"outlined"},{default:(0,o.k6)(()=>[(0,o.eW)(" Total: $"+(0,g.v_)(s.totalRevenue.toLocaleString()),1)]),_:1})]),_:1}),(0,o.bF)(f,null,{default:(0,o.k6)(()=>["daily"===a.type?((0,o.uX)(),(0,o.CE)("div",Z,[(0,o.bF)(p,{align:"center"},{default:(0,o.k6)(()=>[(0,o.bF)(h,{cols:"12",md:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{modelValue:r.selectedDate,"onUpdate:modelValue":[t[0]||(t[0]=e=>r.selectedDate=e),s.onDateChange],label:"Select Day",type:"date","prepend-icon":"mdi-calendar",variant:"outlined",density:"compact"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),(0,o.bF)(h,{cols:"12",md:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(m,{color:"primary",variant:"outlined",onClick:s.loadHourlyData,loading:r.loadingHourlyData,disabled:!r.selectedDate},{default:(0,o.k6)(()=>[(0,o.bF)(n,{left:""},{default:(0,o.k6)(()=>[...t[2]||(t[2]=[(0,o.eW)("mdi-refresh",-1)])]),_:1}),t[3]||(t[3]=(0,o.eW)(" Load Hourly Data ",-1))]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1})])):(0,o.Q3)("",!0),(0,o.Lk)("div",K,[(0,o.Lk)("canvas",Y,null,512)])]),_:1})]),_:1})])}a(116),a(3579);var te=a(3861),ae=a(144),le={name:"RevenueChart",props:{data:{type:Array,required:!0},type:{type:String,required:!0,validator:e=>["daily","monthly"].includes(e)},title:{type:String,required:!0}},data(){return{chart:null,selectedDate:"",loadingHourlyData:!1,hourlyData:[],isUpdating:!1,chartDataSnapshot:null,hourlyDataSnapshot:null,updateTimeout:null}},computed:{totalRevenue(){return this.data&&Array.isArray(this.data)?this.data.reduce((e,t)=>{const a=parseFloat(t.revenue);return e+(isNaN(a)?0:a)},0):0}},mounted(){this.$nextTick(()=>{this.createChart()})},beforeUnmount(){this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=null),this.chart&&(this.chart.destroy(),this.chart=null),this.chartDataSnapshot=null,this.hourlyDataSnapshot=null},watch:{data:{handler(e){this.isUpdating||(this.createDataSnapshot(e),this.$nextTick(()=>{this.updateChart()}))},deep:!1}},methods:{createDataSnapshot(e){try{const t=(0,ae.ux)(e);this.chartDataSnapshot=JSON.parse(JSON.stringify(t||[]))}catch(t){console.error("Error creating data snapshot:",t),this.chartDataSnapshot=[]}},createHourlyDataSnapshot(e){try{const t=(0,ae.ux)(e);this.hourlyDataSnapshot=JSON.parse(JSON.stringify(t||[]))}catch(t){console.error("Error creating hourly data snapshot:",t),this.hourlyDataSnapshot=[]}},getChartData(){const e=this.chartDataSnapshot||[],t=this.hourlyDataSnapshot||[],a=this.type||"daily";if("daily"===a&&t.length>0){const e=Array.from({length:24},(e,t)=>`${t}:00`),a=Array.from({length:24},(e,a)=>{const l=t.find(e=>e.hour===a);return l&&parseFloat(l.revenue)||0});return{labels:[...e],datasets:[{label:"Hourly Revenue",data:[...a],borderColor:"#1976d2",backgroundColor:"rgba(25, 118, 210, 0.1)",borderWidth:2,fill:!1,tension:.4,pointRadius:4,pointHoverRadius:6}]}}if(!e||0===e.length)return{labels:[],datasets:[]};const l=e.map(e=>{if("daily"===a){let t=e.date||e.time;if(!t)return"Invalid Date";const a=new Date(t);return isNaN(a.getTime())?"Invalid Date":a.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})}return e.month||"Unknown Month"}),o=e.map(e=>{const t=parseFloat(e.revenue||e.price||0);return isNaN(t)?0:t});return{labels:[...l],datasets:[{label:"daily"===a?"Daily Revenue":"Monthly Revenue",data:[...o],borderColor:"#1976d2",backgroundColor:"rgba(25, 118, 210, 0.1)",borderWidth:2,fill:!1,tension:.4,pointRadius:4,pointHoverRadius:6}]}},getChartOptions(){const e=this.type||"daily",t=this.hourlyDataSnapshot&&this.hourlyDataSnapshot.length>0,a="daily"===e&&t,l={responsive:!0,maintainAspectRatio:!1,animation:{duration:750,easing:"easeInOutQuart"},plugins:{legend:{display:!0,position:"top"},tooltip:{enabled:!0,callbacks:{label:function(e){return`${e.dataset.label}: $${e.parsed.y.toLocaleString()}`}}}},scales:{x:{display:!0,title:{display:!0,text:a?"Time (Hours)":"daily"===e?"Date":"Month"},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"}},y:{display:!0,title:{display:!0,text:"Revenue ($)"},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"},ticks:{callback:function(e){return"$"+e.toLocaleString()}}}},interaction:{intersect:!1,mode:"index"}};return JSON.parse(JSON.stringify(l))},createChart(){if(this.$refs.chartCanvas)try{this.chart&&(this.chart.destroy(),this.chart=null),this.createDataSnapshot(this.data),this.createHourlyDataSnapshot(this.hourlyData);const e=this.getChartData(),t=this.getChartOptions();if(!e||!e.labels||!e.datasets)return void console.warn("RevenueChart: Invalid chart data",e);const a={type:"line",data:{labels:[...e.labels],datasets:e.datasets.map(e=>({...e,data:[...e.data]}))},options:JSON.parse(JSON.stringify(t))};this.chart=new te.Ay(this.$refs.chartCanvas,a)}catch(e){console.error("RevenueChart: Error creating chart:",e)}else console.warn("RevenueChart: Canvas element not found")},updateChart(){this.isUpdating||(this.updateTimeout&&clearTimeout(this.updateTimeout),this.isUpdating=!0,this.updateTimeout=setTimeout(()=>{try{if(this.chart){this.createDataSnapshot(this.data),this.createHourlyDataSnapshot(this.hourlyData);const e=this.getChartData();if(!e||!e.labels||!e.datasets)return console.warn("RevenueChart: Invalid update data",e),void(this.isUpdating=!1);const t=[...e.labels],a=e.datasets.map(e=>({label:e.label,data:[...e.data],borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,fill:e.fill,tension:e.tension,pointRadius:e.pointRadius,pointHoverRadius:e.pointHoverRadius}));this.chart.data.labels=t,this.chart.data.datasets=a,this.chart.update("none")}else this.createChart()}catch(e){console.error("RevenueChart: Error updating chart:",e),this.chart&&(this.chart.destroy(),this.chart=null),this.createChart()}finally{this.isUpdating=!1,this.updateTimeout=null}},0))},onDateChange(){this.isUpdating||(this.hourlyData=[],this.selectedDate?this.loadHourlyData():this.updateChart())},async loadHourlyData(){if(this.selectedDate&&!this.isUpdating){this.loadingHourlyData=!0;try{const e=await this.fetchHourlyRevenueData(this.selectedDate);this.hourlyData=e,this.createHourlyDataSnapshot(e),this.$nextTick(()=>{this.updateChart()})}catch(e){console.error("Failed to load hourly data:",e),this.$emit("error","Failed to load hourly revenue data")}finally{this.loadingHourlyData=!1}}},async fetchHourlyRevenueData(e){console.log("Fetching hourly data for:",e);try{if(!this.data||0===this.data.length)return console.warn("No data available for hourly calculation"),[];const t=this.data.some(e=>e.date&&!e.time);if(t)return console.warn("Hourly data calculation not available for aggregated daily revenue data"),[];const a=new Date(e),l=new Date(a);l.setHours(0,0,0,0);const o=new Date(a);o.setHours(23,59,59,999);const r=this.data.filter(e=>{if(!e.time)return!1;const t=new Date(e.time);return t>=l&&t<=o}),s=new Map;for(let e=0;e<24;e++)s.set(e,0);r.forEach(e=>{if(e.time){const t=new Date(e.time),a=t.getHours(),l=parseFloat(e.price)||0;s.set(a,(s.get(a)||0)+l)}});const n=Array.from(s.entries()).map(([e,t])=>({hour:e,revenue:Math.round(100*t)/100})).sort((e,t)=>e.hour-t.hour);return n}catch(t){return console.error("Error calculating hourly data:",t),[]}}}};const oe=(0,n.A)(le,[["render",ee],["__scopeId","data-v-16daeb3a"]]);var re=oe,se={name:"SalesRecordList",components:{RevenueChart:re},props:{salesRecords:{type:Array,default:()=>[]},stats:{type:Object,default:null},loading:{type:Boolean,default:!1},error:{type:String,default:""}},data(){return{currentPage:1,itemsPerPage:20,expandedPanels:[],showChartDialog:!1,activeTab:"daily",revenueDateRange:{startDate:"",endDate:""}}},computed:{totalRecords(){return this.salesRecords.length},totalPages(){return Math.ceil(this.totalRecords/this.itemsPerPage)},paginatedRecords(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.salesRecords.slice(e,t)},filteredSalesRecords(){if(!this.revenueDateRange.startDate||!this.revenueDateRange.endDate)return this.salesRecords;const e=new Date(this.revenueDateRange.startDate);e.setHours(0,0,0,0);const t=new Date(this.revenueDateRange.endDate);return t.setHours(23,59,59,999),this.salesRecords.filter(a=>{if(!a.time)return!1;const l=new Date(a.time);return l>=e&&l<=t})},filteredDailyRevenue(){if(!this.stats||!this.stats.dailyRevenue)return[];if(!this.revenueDateRange.startDate||!this.revenueDateRange.endDate)return this.stats.dailyRevenue;const e=new Date(this.revenueDateRange.startDate),t=new Date(this.revenueDateRange.endDate);return this.stats.dailyRevenue.filter(a=>{const l=new Date(a.date);return l>=e&&l<=t})},filteredMonthlyRevenue(){if(!this.stats||!this.stats.monthlyRevenue)return[];if(!this.revenueDateRange.startDate||!this.revenueDateRange.endDate)return this.stats.monthlyRevenue;const e=new Date(this.revenueDateRange.startDate),t=new Date(this.revenueDateRange.endDate);return this.stats.monthlyRevenue.filter(a=>{const[l,o]=a.month.split("-"),r=new Date(l,o-1,1);return r>=e&&r<=t})}},watch:{salesRecords(){this.currentPage=1,this.expandedPanels=[]}},methods:{formatDate(e){if(!e)return"";const t=new Date(e),a=new Date(t.getTime()+288e5);return a.toLocaleDateString("en-US")},formatDateTime(e){if(!e)return"";const t=new Date(e),a=new Date(t.getTime()+288e5);return a.toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})},onPageChange(e){this.currentPage=e,this.$nextTick(()=>{const e=this.$el.querySelector(".v-card");e&&e.scrollIntoView({behavior:"smooth"})})},expandAll(){this.expandedPanels=Array.from({length:this.paginatedRecords.length},(e,t)=>t)},collapseAll(){this.expandedPanels=[]},showRevenueChart(){this.showChartDialog=!0,this.activeTab="daily"},onRevenueDateRangeChange(){this.revenueDateRange.startDate&&this.revenueDateRange.endDate&&this.applyRevenueDateRange()},applyRevenueDateRange(){this.$forceUpdate()},clearRevenueDateRange(){this.revenueDateRange.startDate="",this.revenueDateRange.endDate="",this.applyRevenueDateRange()}}};const ne=(0,n.A)(se,[["render",B],["__scopeId","data-v-213be1ec"]]);var ie=ne,de={name:"SalesRecord",components:{SalesRecordFilters:I,SalesRecordList:ie},data(){return{salesRecords:[],salesStats:null,loading:!1,isRefreshing:!1,error:"",showErrorDialog:!1,errorDialogMessage:"",currentFilters:{}}},async mounted(){await this.loadSalesData()},methods:{async onFiltersChange(e){this.currentFilters=e,await this.loadSalesData(e)},async loadSalesData(e={}){this.loading=!0,this.error="";try{const[t,a]=await Promise.all([D(e),R(e)]);this.salesRecords=t,this.salesStats=a,0===t.length&&Object.keys(e).length>0&&(this.error="No sales records found matching the criteria. Please try adjusting the filter conditions")}catch(t){console.error("Failed to load sales data:",t),this.error="Failed to load sales records: "+t.message,this.salesRecords=[],this.salesStats=null}finally{this.loading=!1}},async refreshData(){this.isRefreshing=!0;try{await this.loadSalesData(this.currentFilters)}finally{this.isRefreshing=!1}},onFilterError(e){this.errorDialogMessage=e,this.showErrorDialog=!0}}};const ce=(0,n.A)(de,[["render",p],["__scopeId","data-v-5fb0bc80"]]);var ue=ce;const he={key:0},me={key:1};function ge(e,t,a,l,r,s){const n=(0,o.g2)("v-card-title"),i=(0,o.g2)("v-text-field"),d=(0,o.g2)("v-col"),c=(0,o.g2)("v-row"),u=(0,o.g2)("v-data-table"),h=(0,o.g2)("v-card-text"),m=(0,o.g2)("v-card"),p=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(p,{fluid:""},{default:(0,o.k6)(()=>[(0,o.bF)(c,null,{default:(0,o.k6)(()=>[(0,o.bF)(d,{cols:"12"},{default:(0,o.k6)(()=>[(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[5]||(t[5]=[(0,o.Lk)("h1",{class:"text-h4"},"Inventory",-1)])]),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(c,{class:"mb-4",dense:""},{default:(0,o.k6)(()=>[(0,o.bF)(d,{cols:"12",sm:"6",md:"3"},{default:(0,o.k6)(()=>[(0,o.bF)(i,{modelValue:r.idFilter,"onUpdate:modelValue":t[0]||(t[0]=e=>r.idFilter=e),label:"ID",clearable:"",density:"comfortable"},null,8,["modelValue"])]),_:1}),(0,o.bF)(d,{cols:"12",sm:"6",md:"3"},{default:(0,o.k6)(()=>[(0,o.bF)(i,{modelValue:r.productFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>r.productFilter=e),label:"Product",clearable:"",density:"comfortable"},null,8,["modelValue"])]),_:1}),(0,o.bF)(d,{cols:"12",sm:"6",md:"3"},{default:(0,o.k6)(()=>[(0,o.bF)(i,{modelValue:r.nameFilter,"onUpdate:modelValue":t[2]||(t[2]=e=>r.nameFilter=e),label:"Store Name",clearable:"",density:"comfortable"},null,8,["modelValue"])]),_:1}),(0,o.bF)(d,{cols:"12",sm:"6",md:"3"},{default:(0,o.k6)(()=>[(0,o.bF)(i,{modelValue:r.locationFilter,"onUpdate:modelValue":t[3]||(t[3]=e=>r.locationFilter=e),label:"Store Location",clearable:"",density:"comfortable"},null,8,["modelValue"])]),_:1})]),_:1}),(0,o.bF)(u,{headers:r.headers,items:s.filteredProducts,"sort-by":r.sortBy,"onUpdate:sortBy":t[4]||(t[4]=e=>r.sortBy=e)},{["item.price"]:(0,o.k6)(({item:e})=>[null!==e.price&&void 0!==e.price?((0,o.uX)(),(0,o.CE)("span",he," $"+(0,g.v_)(e.price),1)):((0,o.uX)(),(0,o.CE)("span",me,"-"))]),_:2},1032,["headers","items","sort-by"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const pe="inventory";var fe={name:"InventoryPage",data(){return{headers:[{title:"ID",value:"id"},{title:"Product",value:"product"},{title:"Color",value:"color"},{title:"Storage",value:"storage"},{title:"Stock Quantity",value:"quantity"},{title:"Price",value:"price"},{title:"Store Name",value:"name"},{title:"Store Location",value:"location"},{title:"Update Time",value:"UpdateTime"}],products:[],idFilter:"",productFilter:"",nameFilter:"",locationFilter:"",sortBy:[{key:"name",order:"asc"}]}},computed:{filteredProducts(){const e=String(this.idFilter||"").trim().toLowerCase(),t=String(this.productFilter||"").trim().toLowerCase(),a=String(this.nameFilter||"").trim().toLowerCase(),l=String(this.locationFilter||"").trim().toLowerCase();return e||t||a||l?(this.products||[]).filter(o=>{const r=o&&void 0!==o.id&&null!==o.id?String(o.id).toLowerCase():"",s=o&&o.product?String(o.product).toLowerCase():"",n=o&&o.name?String(o.name).toLowerCase():"",i=o&&o.location?String(o.location).toLowerCase():"",d=!e||r.includes(e),c=!t||s.includes(t),u=!a||n.includes(a),h=!l||i.includes(l);return d&&c&&u&&h}):this.products}},async mounted(){try{const{data:e,error:t}=await F.from(pe).select("*");if(t)throw t;this.products=e}catch(e){console.error("Error fetching data:",e)}}};const ye=(0,n.A)(fe,[["render",ge]]);var ve=ye;const be={class:"text-h6"};function ke(e,t,a,l,r,s){const n=(0,o.g2)("v-card-title"),i=(0,o.g2)("InventorySearchPanel"),d=(0,o.g2)("v-radio"),c=(0,o.g2)("v-radio-group"),u=(0,o.g2)("v-col"),h=(0,o.g2)("v-text-field"),m=(0,o.g2)("v-row"),p=(0,o.g2)("v-card-text"),f=(0,o.g2)("v-card"),y=(0,o.g2)("v-btn"),v=(0,o.g2)("v-alert"),b=(0,o.g2)("CartPanel"),k=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(k,{fluid:""},{default:(0,o.k6)(()=>[(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(u,{cols:"12"},{default:(0,o.k6)(()=>[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[2]||(t[2]=[(0,o.Lk)("h1",{class:"text-h4"},"Selling",-1)])]),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(i,{onChange:s.onSelectionChange},null,8,["onChange"]),r.selectedItem?((0,o.uX)(),(0,o.Wv)(f,{key:0,class:"mt-4",elevation:"2"},{default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[3]||(t[3]=[(0,o.eW)("Select Sale Quantity",-1)])]),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(u,{cols:"12"},{default:(0,o.k6)(()=>[(0,o.bF)(c,{modelValue:r.selectedQuantity,"onUpdate:modelValue":t[0]||(t[0]=e=>r.selectedQuantity=e),row:""},{default:(0,o.k6)(()=>[(0,o.bF)(d,{label:"1",value:1}),(0,o.bF)(d,{label:"2",value:2}),(0,o.bF)(d,{label:"3",value:3}),(0,o.bF)(d,{label:"4",value:4}),(0,o.bF)(d,{label:"Custom",value:r.customQuantity},null,8,["value"])]),_:1},8,["modelValue"])]),_:1}),r.selectedQuantity===r.customQuantity?((0,o.uX)(),(0,o.Wv)(u,{key:0,cols:"6"},{default:(0,o.k6)(()=>[(0,o.bF)(h,{modelValue:r.customQuantityValue,"onUpdate:modelValue":t[1]||(t[1]=e=>r.customQuantityValue=e),label:"Custom Quantity",type:"number",min:"1",max:r.selectedItem.quantity,outlined:""},null,8,["modelValue","max"])]),_:1})):(0,o.Q3)("",!0),(0,o.bF)(u,{cols:"6"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",be,[(0,o.Lk)("strong",null,"Total Price: "+(0,g.v_)(s.totalPriceDisplay),1)])]),_:1})]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),r.selectedItem?((0,o.uX)(),(0,o.Wv)(f,{key:1,class:"mt-4",elevation:"2"},{default:(0,o.k6)(()=>[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(y,{color:"primary",size:"large",disabled:!s.canSell,loading:r.isSelling,onClick:s.handleSell},{default:(0,o.k6)(()=>[...t[4]||(t[4]=[(0,o.eW)(" Checkout ",-1)])]),_:1},8,["disabled","loading","onClick"]),(0,o.bF)(y,{class:"ml-2",color:"secondary",size:"large",disabled:!s.canSell,loading:r.isAddingToCart,onClick:s.handleAddToCart},{default:(0,o.k6)(()=>[...t[5]||(t[5]=[(0,o.eW)(" Add to Cart ",-1)])]),_:1},8,["disabled","loading","onClick"]),r.sellMessage?((0,o.uX)(),(0,o.Wv)(v,{key:0,type:r.sellMessageType,class:"mt-2"},{default:(0,o.k6)(()=>[(0,o.eW)((0,g.v_)(r.sellMessage),1)]),_:1},8,["type"])):(0,o.Q3)("",!0)]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)(b,{items:r.cart.items,loading:r.isCartProcessing,estimates:r.priceEstimates,"total-estimate":r.totalEstimate,message:r.cartMessage,"message-type":r.cartMessageType,onUpdateQty:s.onCartUpdateQty,onRemoveItem:s.onCartRemoveItem,onClear:s.onCartClear,onCheckout:s.onCartCheckout,onRefreshPrices:s.onRefreshEstimates},null,8,["items","loading","estimates","total-estimate","message","message-type","onUpdateQty","onRemoveItem","onClear","onCheckout","onRefreshPrices"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Fe={key:2,class:"text-subtitle-1"},_e={key:0},Se={key:1,class:"font-weight-bold ml-1"},De={key:2,class:"ml-4"},Ce={key:3,class:"font-weight-bold ml-1"},we={key:4,class:"ml-4"},Re={key:5,class:"font-weight-bold ml-1"};function xe(e,t,a,l,r,s){const n=(0,o.g2)("v-expansion-panel-title"),i=(0,o.g2)("ProductSelector"),d=(0,o.g2)("v-expansion-panel-text"),c=(0,o.g2)("v-expansion-panel"),u=(0,o.g2)("ColorSelector"),h=(0,o.g2)("StorageSelector"),m=(0,o.g2)("StoreSelector"),p=(0,o.g2)("v-expansion-panels"),f=(0,o.g2)("v-alert"),y=(0,o.g2)("v-skeleton-loader"),v=(0,o.g2)("v-col"),b=(0,o.g2)("v-row"),k=(0,o.g2)("v-card-text"),F=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(F,null,{default:(0,o.k6)(()=>[(0,o.bF)(k,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:r.activePanel,"onUpdate:modelValue":t[4]||(t[4]=e=>r.activePanel=e),variant:"accordion",class:"mb-4"},{default:(0,o.k6)(()=>[(0,o.bF)(c,null,{default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[5]||(t[5]=[(0,o.eW)("Product",-1)])]),_:1}),(0,o.bF)(d,null,{default:(0,o.k6)(()=>[(0,o.bF)(i,{modelValue:r.selectedProduct,"onUpdate:modelValue":t[0]||(t[0]=e=>r.selectedProduct=e)},null,8,["modelValue"])]),_:1})]),_:1}),r.selectedProduct?((0,o.uX)(),(0,o.Wv)(c,{key:0},{default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[6]||(t[6]=[(0,o.eW)("Color",-1)])]),_:1}),(0,o.bF)(d,null,{default:(0,o.k6)(()=>[(0,o.bF)(u,{product:r.selectedProduct,modelValue:r.selectedColor,"onUpdate:modelValue":t[1]||(t[1]=e=>r.selectedColor=e)},null,8,["product","modelValue"])]),_:1})]),_:1})):(0,o.Q3)("",!0),r.selectedColor?((0,o.uX)(),(0,o.Wv)(c,{key:1},{default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[7]||(t[7]=[(0,o.eW)("Storage",-1)])]),_:1}),(0,o.bF)(d,null,{default:(0,o.k6)(()=>[(0,o.bF)(h,{product:r.selectedProduct,color:r.selectedColor,modelValue:r.selectedStorage,"onUpdate:modelValue":t[2]||(t[2]=e=>r.selectedStorage=e),onOptions:s.onStorageOptions},null,8,["product","color","modelValue","onOptions"])]),_:1})]),_:1})):(0,o.Q3)("",!0),r.selectedColor?((0,o.uX)(),(0,o.Wv)(c,{key:2},{default:(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[...t[8]||(t[8]=[(0,o.eW)("Store",-1)])]),_:1}),(0,o.bF)(d,null,{default:(0,o.k6)(()=>[(0,o.bF)(m,{modelValue:r.selectedStore,"onUpdate:modelValue":t[3]||(t[3]=e=>r.selectedStore=e),product:r.selectedProduct,color:r.selectedColor,storage:r.selectedStorage},null,8,["modelValue","product","color","storage"])]),_:1})]),_:1})):(0,o.Q3)("",!0)]),_:1},8,["modelValue"]),(0,o.bF)(b,{class:"mt-2"},{default:(0,o.k6)(()=>[(0,o.bF)(v,{cols:"12",md:"6"},{default:(0,o.k6)(()=>[r.error?((0,o.uX)(),(0,o.Wv)(f,{key:0,type:"error",density:"comfortable"},{default:(0,o.k6)(()=>[(0,o.eW)((0,g.v_)(r.error),1)]),_:1})):r.loading?((0,o.uX)(),(0,o.Wv)(y,{key:1,type:"text"})):((0,o.uX)(),(0,o.CE)("div",Fe,[r.selectedStore?((0,o.uX)(),(0,o.CE)("span",_e,"Quantity:")):(0,o.Q3)("",!0),r.selectedStore?((0,o.uX)(),(0,o.CE)("span",Se,(0,g.v_)(s.quantityDisplay),1)):(0,o.Q3)("",!0),r.selectedStore&&r.selectedStorage?((0,o.uX)(),(0,o.CE)("span",De,"Storage:")):(0,o.Q3)("",!0),r.selectedStore&&r.selectedStorage?((0,o.uX)(),(0,o.CE)("span",Ce,(0,g.v_)(r.selectedStorage)+"GB",1)):(0,o.Q3)("",!0),r.selectedStore&&null!==r.price&&void 0!==r.price?((0,o.uX)(),(0,o.CE)("span",we,"Price:")):(0,o.Q3)("",!0),r.selectedStore&&null!==r.price&&void 0!==r.price?((0,o.uX)(),(0,o.CE)("span",Re,"$"+(0,g.v_)(r.price),1)):(0,o.Q3)("",!0)]))]),_:1})]),_:1})]),_:1})]),_:1})}function We(e,t,a,l,r,s){const n=(0,o.g2)("v-autocomplete");return(0,o.uX)(),(0,o.Wv)(n,{items:r.storeItems,loading:r.loading,"model-value":a.modelValue,"item-title":"label","item-value":"value",label:"Store",placeholder:"Select a store",clearable:"","onUpdate:modelValue":s.onUpdate},null,8,["items","loading","model-value","onUpdate:modelValue"])}a(4114);const Pe="inventory";async function Ve(){const{data:e,error:t}=await F.from(Pe).select("name, location").not("name","is",null).not("location","is",null);if(t)throw t;const a=new Set,l=[],o=e=>String(e).trim().replace(/\s+/g," ");for(const r of e){const e=o(r.name),t=o(r.location),s=`${e.toLowerCase()}__${t.toLowerCase()}`;a.has(s)||(a.add(s),l.push({name:e,location:t,label:`${e} — ${t}`}))}return l.sort((e,t)=>e.label.localeCompare(t.label))}async function Ie(){const{data:e,error:t}=await F.from(Pe).select("product").not("product","is",null);if(t)throw t;const a=new Set((e||[]).map(e=>String(e.product).trim().toLowerCase()));return Array.from(a).sort()}async function Ne(e){const{data:t,error:a}=await F.from(Pe).select("color").ilike("product",e).not("color","is",null);if(a)throw a;const l=new Set((t||[]).map(e=>String(e.color).trim().toLowerCase()));return Array.from(l).sort()}async function Te(e,t){const{data:a,error:l}=await F.from(Pe).select("storage").ilike("product",e).ilike("color",t).not("storage","is",null);if(l)throw l;const o=new Set((a||[]).map(e=>String(e.storage).trim()));return Array.from(o).sort((e,t)=>Number(e)-Number(t))}async function $e(e,t,a){let l=F.from(Pe).select("name, location, quantity").ilike("product",e).ilike("color",t);if(void 0!==a&&null!==a&&""!==a){const e=Number(a);l=Number.isNaN(e)?l.eq("storage",String(a)):l.eq("storage",e)}else l=l.or("storage.is.null,storage.eq.0");const{data:o,error:r}=await l;if(r)throw r;const s=e=>String(e).trim().replace(/\s+/g," "),n=new Map;for(const d of o||[]){const e=s(d.name),t=s(d.location),a=`${e.toLowerCase()}__${t.toLowerCase()}`,l=n.get(a)||0,o=Number(d.quantity);n.set(a,l+(Number.isNaN(o)?0:o))}const i=[];for(const[d,c]of n.entries()){const[e,t]=d.split("__"),a=o.find(a=>s(a.name).toLowerCase()===e&&s(a.location).toLowerCase()===t),l=a?s(a.name):e,r=a?s(a.location):t,n=c>0,u=`${l} — ${r}`,h=n?u:`(no available) ${u}`;i.push({name:l,location:r,label:h,available:n})}return i.sort((e,t)=>e.label.localeCompare(t.label))}async function Le(e,t,a,l){const{name:o,location:r}=e;let s=F.from(Pe).select("quantity").eq("name",o).eq("location",r).ilike("product",t).ilike("color",a);if(void 0!==l&&null!==l&&""!==l){const e=Number(l);s=Number.isNaN(e)?s.eq("storage",String(l)):s.eq("storage",e)}else s=s.or("storage.is.null,storage.eq.0");const{data:n,error:i}=await s;if(i)throw i;let d=0;for(const c of n||[]){const e=Number(c.quantity);Number.isNaN(e)||(d+=e)}return d}async function Ee(e,t,a,l){const{name:o,location:r}=e;let s=F.from(Pe).select("price").eq("name",o).eq("location",r).ilike("product",t).ilike("color",a);if(void 0!==l&&null!==l&&""!==l){const e=Number(l);s=Number.isNaN(e)?s.eq("storage",String(l)):s.eq("storage",e)}else s=s.or("storage.is.null,storage.eq.0");const{data:n,error:i}=await s;if(i)throw i;return n&&n.length>0?n[0].price:null}var qe={name:"StoreSelector",props:{modelValue:{type:Object,default:null},product:{type:String,default:""},color:{type:String,default:""},storage:{type:[String,Number],default:""}},data(){return{loading:!1,storeItems:[]}},methods:{onUpdate(e){this.$emit("update:modelValue",e)},async loadStores(){this.loading=!0;try{const e=await Ve();let t=new Map;if(this.product&&this.color){const e=await $e(this.product,this.color,this.storage);for(const a of e){const e=`${String(a.name).trim().replace(/\s+/g," ").toLowerCase()}__${String(a.location).trim().replace(/\s+/g," ").toLowerCase()}`;t.set(e,{hasProduct:!0,available:a.available})}}const a=(e,t)=>`${String(e).trim().replace(/\s+/g," ").toLowerCase()}__${String(t).trim().replace(/\s+/g," ").toLowerCase()}`,l=new Map;for(const o of e){const e=a(o.name,o.location);if(l.has(e))continue;const r=t.get(e),s=!0===r?.hasProduct,n=!0===r?.available,i=String(o.name).trim().replace(/\s+/g," "),d=String(o.location).trim().replace(/\s+/g," ");let c=`${i} — ${d}`;this.product&&this.color&&(s?n||(c=`(no available) ${c}`):c=`(not available) ${c}`);const u={name:i,location:d},h={label:c,value:u,disabled:!(!this.product||!this.color)&&!s};l.set(e,h)}this.storeItems=Array.from(l.values())}catch(e){console.error("Failed to load stores",e)}finally{this.loading=!1}}},mounted(){this.loadStores()},watch:{product(){this.loadStores()},color(){this.loadStores()},storage(){this.loadStores()}}};const Ue=(0,n.A)(qe,[["render",We]]);var Qe=Ue;function Me(e,t,a,l,r,s){const n=(0,o.g2)("v-autocomplete");return(0,o.uX)(),(0,o.Wv)(n,{disabled:!1,items:r.items,loading:r.loading,"model-value":a.modelValue,label:"Product",placeholder:"Select a product",clearable:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},null,8,["items","loading","model-value"])}var Oe={name:"ProductSelector",props:{modelValue:{type:String,default:""},store:{type:Object,default:null}},data(){return{loading:!1,items:[]}},watch:{modelValue(){}},mounted(){this.load()},methods:{async load(){this.loading=!0;try{const e=await Ie();this.items=e.length>0?e:["(not available)"]}catch(e){console.error("Failed to load products",e),this.items=["(not available)"]}finally{this.loading=!1}}}};const Ae=(0,n.A)(Oe,[["render",Me]]);var Xe=Ae;function He(e,t,a,l,r,s){const n=(0,o.g2)("v-autocomplete");return(0,o.uX)(),(0,o.Wv)(n,{disabled:!a.product,items:r.items,loading:r.loading,"model-value":a.modelValue,label:"Color",placeholder:"Select a color",clearable:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},null,8,["disabled","items","loading","model-value"])}var je={name:"ColorSelector",props:{modelValue:{type:String,default:""},store:{type:Object,default:null},product:{type:String,default:""}},data(){return{loading:!1,items:[]}},watch:{product:{handler(){this.load()},immediate:!0}},methods:{async load(){if(this.product){this.loading=!0;try{const e=await Ne(this.product);this.items=e&&e.length?e:["(not available)"]}catch(e){console.error("Failed to load colors",e),this.items=["(not available)"]}finally{this.loading=!1}}else this.items=[]}}};const ze=(0,n.A)(je,[["render",He]]);var Je=ze;function Be(e,t,a,l,r,s){const n=(0,o.g2)("v-autocomplete");return(0,o.uX)(),(0,o.Wv)(n,{disabled:!a.product||!a.color,items:s.displayItems,loading:r.loading,"model-value":a.modelValue,"item-title":"label","item-value":"value",label:"Storage",placeholder:"Select storage",clearable:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},null,8,["disabled","items","loading","model-value"])}var Ge={name:"StorageSelector",props:{modelValue:{type:[String,Number],default:""},store:{type:Object,default:null},product:{type:String,default:""},color:{type:String,default:""}},emits:["update:modelValue","options"],data(){return{loading:!1,items:[]}},computed:{displayItems(){return this.items.map(e=>"(not available)"===e?{label:"(not available)",value:""}:{label:`${e}GB`,value:e})}},watch:{product:{handler(){this.load()},immediate:!0},color(){this.load()}},methods:{async load(){if(!this.product||!this.color)return this.items=[],void this.$emit("options",0);this.loading=!0;try{const e=await Te(this.product,this.color);this.items=e&&e.length?e:["(not available)"],this.$emit("options",this.items.length),0===this.items.length&&this.$emit("update:modelValue","")}catch(e){console.error("Failed to load storages",e),this.items=["(not available)"],this.$emit("options",1)}finally{this.loading=!1}}}};const Ze=(0,n.A)(Ge,[["render",Be]]);var Ke=Ze,Ye={name:"InventorySearchPanel",components:{StoreSelector:Qe,ProductSelector:Xe,ColorSelector:Je,StorageSelector:Ke},emits:["change"],data(){return{selectedStore:null,selectedProduct:"",selectedColor:"",selectedStorage:"",loading:!1,error:"",quantity:null,price:null,storageOptionsCount:0,activePanel:0}},computed:{quantityDisplay(){return null===this.quantity?"-":this.quantity},hasStoreProductColor(){return!!this.selectedStore&&!!this.selectedProduct&&!!this.selectedColor}},watch:{selectedProduct(){this.resetAfterProduct(),this.emitSelection(),this.activePanel=1},selectedColor(){this.resetAfterColor(),this.emitSelection(),this.activePanel=2},selectedStorage(){this.emitSelection(),this.activePanel=3},selectedStore(){this.triggerQuery(),this.activePanel=3}},methods:{onStorageOptions(e){this.storageOptionsCount=e},resetAfterProduct(){this.selectedColor="",this.selectedStorage="",this.selectedStore=null,this.storageOptionsCount=0,this.quantity=null,this.price=null},resetAfterColor(){this.selectedStorage="",this.selectedStore=null,this.storageOptionsCount=0,this.quantity=null,this.price=null},emitSelection(){this.$emit("change",{store:this.selectedStore,product:this.selectedProduct,color:this.selectedColor,storage:this.selectedStorage})},async triggerQuery(){if(this.emitSelection(),!this.selectedStore||!this.selectedProduct||!this.selectedColor)return this.quantity=null,void(this.price=null);this.loading=!0,this.error="";try{const[e,t]=await Promise.all([Le(this.selectedStore,this.selectedProduct,this.selectedColor,this.selectedStorage),Ee(this.selectedStore,this.selectedProduct,this.selectedColor,this.selectedStorage)]);this.quantity=e,this.price=t}catch(e){this.error="Failed to load data",console.error(e)}finally{this.loading=!1}}}};const et=(0,n.A)(Ye,[["render",xe]]);var tt=et;const at={key:0,class:"text-body-2"},lt={key:0,class:"text-left"},ot={key:1,class:"text-left"},rt={key:0},st={key:1},nt={class:"mt-4 d-flex align-center"},it={class:"text-body-2 mr-2"},dt={key:0};function ct(e,t,a,l,r,s){const n=(0,o.g2)("v-spacer"),i=(0,o.g2)("v-btn"),d=(0,o.g2)("v-card-title"),c=(0,o.g2)("v-text-field"),u=(0,o.g2)("v-table"),h=(0,o.g2)("v-alert"),m=(0,o.g2)("v-card-text"),p=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(p,{class:"mt-4",elevation:"2"},{default:(0,o.k6)(()=>[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[t[5]||(t[5]=(0,o.eW)(" Cart ",-1)),(0,o.bF)(n),(0,o.bF)(i,{class:"mr-2",color:"primary",variant:"text",disabled:0===a.items.length||a.loading,onClick:t[0]||(t[0]=t=>e.$emit("refresh-prices"))},{default:(0,o.k6)(()=>[...t[3]||(t[3]=[(0,o.eW)("Refresh Prices",-1)])]),_:1},8,["disabled"]),(0,o.bF)(i,{color:"error",variant:"text",disabled:0===a.items.length,onClick:t[1]||(t[1]=t=>e.$emit("clear"))},{default:(0,o.k6)(()=>[...t[4]||(t[4]=[(0,o.eW)("Clear",-1)])]),_:1},8,["disabled"])]),_:1}),(0,o.bF)(m,null,{default:(0,o.k6)(()=>[0===a.items.length?((0,o.uX)(),(0,o.CE)("div",at,"Cart is empty")):((0,o.uX)(),(0,o.Wv)(u,{key:1,density:"comfortable"},{default:(0,o.k6)(()=>[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[t[6]||(t[6]=(0,o.Lk)("th",{class:"text-left"},"Product",-1)),t[7]||(t[7]=(0,o.Lk)("th",{class:"text-left"},"Color",-1)),t[8]||(t[8]=(0,o.Lk)("th",{class:"text-left"},"Storage",-1)),s.hasEstimates?((0,o.uX)(),(0,o.CE)("th",lt,"Unit Price")):(0,o.Q3)("",!0),s.hasEstimates?((0,o.uX)(),(0,o.CE)("th",ot,"Subtotal")):(0,o.Q3)("",!0),t[9]||(t[9]=(0,o.Lk)("th",{class:"text-left",style:{width:"140px"}},"Qty",-1)),t[10]||(t[10]=(0,o.Lk)("th",{class:"text-left",style:{width:"80px"}},null,-1))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.items,t=>((0,o.uX)(),(0,o.CE)("tr",{key:t.key},[(0,o.Lk)("td",null,(0,g.v_)(t.product),1),(0,o.Lk)("td",null,(0,g.v_)(t.color),1),(0,o.Lk)("td",null,(0,g.v_)(t.storage||"-"),1),s.hasEstimates?((0,o.uX)(),(0,o.CE)("td",rt,(0,g.v_)(s.displayUnitPrice(t.key)),1)):(0,o.Q3)("",!0),s.hasEstimates?((0,o.uX)(),(0,o.CE)("td",st,(0,g.v_)(s.displaySubtotal(t.key,t.quantity)),1)):(0,o.Q3)("",!0),(0,o.Lk)("td",null,[(0,o.bF)(c,{type:"number",min:"1",density:"compact",variant:"outlined","hide-details":"","model-value":t.quantity,"onUpdate:modelValue":e=>s.onUpdateQty(t.key,e)},null,8,["model-value","onUpdate:modelValue"])]),(0,o.Lk)("td",null,[(0,o.bF)(i,{color:"error",variant:"text",icon:"mdi-delete",onClick:a=>e.$emit("remove-item",t.key)},null,8,["onClick"])])]))),128))])]),_:1})),(0,o.Lk)("div",nt,[(0,o.Lk)("div",it,[t[11]||(t[11]=(0,o.eW)(" Prices are estimated and finalized at checkout ",-1)),s.hasEstimates&&null!==a.totalEstimate?((0,o.uX)(),(0,o.CE)("span",dt," — Estimated Total: "+(0,g.v_)(s.displayCurrency(a.totalEstimate)),1)):(0,o.Q3)("",!0)]),(0,o.bF)(n),(0,o.bF)(i,{color:"primary",disabled:0===a.items.length||a.loading,loading:a.loading,onClick:t[2]||(t[2]=t=>e.$emit("checkout"))},{default:(0,o.k6)(()=>[...t[12]||(t[12]=[(0,o.eW)("Checkout Cart",-1)])]),_:1},8,["disabled","loading"])]),a.message?((0,o.uX)(),(0,o.Wv)(h,{key:2,type:a.messageType,class:"mt-3"},{default:(0,o.k6)(()=>[(0,o.eW)((0,g.v_)(a.message),1)]),_:1},8,["type"])):(0,o.Q3)("",!0)]),_:1})]),_:1})}var ut={name:"CartPanel",props:{items:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},estimates:{type:Object,default:null},totalEstimate:{type:Number,default:null},message:{type:String,default:""},messageType:{type:String,default:"success"}},emits:["update-qty","remove-item","clear","checkout","refresh-prices"],computed:{hasEstimates(){return!!this.estimates}},methods:{onUpdateQty(e,t){const a=parseInt(t,10);this.$emit("update-qty",{key:e,quantity:Number.isNaN(a)?1:a})},displayCurrency(e){const t=Number(e)||0;return`$${t.toFixed(2)}`},displayUnitPrice(e){return this.estimates&&void 0!==this.estimates[e]&&null!==this.estimates[e]?this.displayCurrency(this.estimates[e]):"-"},displaySubtotal(e,t){if(!this.estimates||void 0===this.estimates[e]||null===this.estimates[e])return"-";const a=Number(this.estimates[e])||0,l=Number(t)||0;return this.displayCurrency(a*l)}}};const ht=(0,n.A)(ut,[["render",ct]]);var mt=ht;const gt="app_cart";function pt(e){return void 0===e||null===e||""===e?"NULL":String(e)}function ft(){try{const e=localStorage.getItem(gt);if(!e)return{store:null,items:[]};const t=JSON.parse(e);return t&&"object"===typeof t?{store:t.store||null,items:Array.isArray(t.items)?t.items:[]}:{store:null,items:[]}}catch(e){return{store:null,items:[]}}}function yt(e){localStorage.setItem(gt,JSON.stringify(e))}function vt(){const e={store:null,items:[]};return yt(e),e}function bt(e,t,a){if(e.items.length>0){const{name:a,location:l}=e.store||{};if(!t||t.name!==a||t.location!==l)return{cart:e,error:"Cart only allows items from the same store."}}const l=pt(a.storage),o=`${String(a.product).toLowerCase()}|${String(a.color).toLowerCase()}|${l}`,r={store:0===e.items.length?t:e.store,items:[...e.items]},s=r.items.findIndex(e=>e.key===o);if(s>=0){const e=r.items[s];r.items.splice(s,1,{...e,quantity:Number(e.quantity)+Number(a.quantity)})}else r.items.push({key:o,product:a.product,color:a.color,storage:a.storage,quantity:Number(a.quantity)});return yt(r),{cart:r}}function kt(e,t,a){const l=Math.max(0,Number(a)||0),o={store:e.store,items:e.items.map(e=>e.key===t?{...e,quantity:l}:e)},r={store:o.store,items:o.items.filter(e=>e.quantity>0)};return 0===r.items.length&&(r.store=null),yt(r),r}function Ft(e,t){const a={store:e.store,items:e.items.filter(e=>e.key!==t)};return 0===a.items.length&&(a.store=null),yt(a),a}function _t(e){return""===e||null===e||void 0===e?null:e}async function St({store:e,product:t,color:a,storage:l}){const{name:o,location:r}=e;let s=F.from("inventory").select("id").eq("name",o).eq("location",r).ilike("product",t).ilike("color",a);const n=_t(l);if(null!==n){const e=Number(n);s=Number.isNaN(e)?s.eq("storage",String(n)):s.eq("storage",e)}else s=s.or("storage.is.null,storage.eq.");const{data:i,error:d}=await s;if(d)throw d;if(!i||0===i.length)throw new Error(`No inventory record found for ${t} ${a} ${l?l+"GB":"no storage"}`);return i[0].id}async function Dt({store:e,product:t,color:a,storage:l},o){const{name:r,location:s}=e;let n=F.from("inventory").select("*").eq("name",r).eq("location",s).ilike("product",t).ilike("color",a);const i=_t(l);if(null!==i){const e=Number(i);n=Number.isNaN(e)?n.eq("storage",String(i)):n.eq("storage",e)}else n=n.or("storage.is.null,storage.eq.");const{data:d,error:c}=await n;if(c)throw c;if(!d||0===d.length)throw new Error(`No inventory records found for ${t} ${a} ${l?l+"GB":"no storage"}`);let u=0;for(const m of d)u+=Number(m.quantity)||0;if(u<o)throw new Error(`Insufficient inventory. Available: ${u}, Required: ${o}`);let h=o;for(const m of d){if(h<=0)break;const e=Number(m.quantity)||0,t=Math.min(h,e);if(t>0){const a=e-t,{error:l}=await F.from("inventory").update({quantity:a}).eq("id",m.id).eq("name",m.name).eq("location",m.location);if(l)throw l;h-=t}}if(h>0)throw new Error("Insufficient inventory to complete the sale")}var Ct={name:"SellingPage",components:{InventorySearchPanel:tt,CartPanel:mt},data(){return{selectedItem:null,selectedQuantity:1,customQuantity:"custom",customQuantityValue:1,isSelling:!1,isAddingToCart:!1,sellMessage:"",sellMessageType:"success",cart:{store:null,items:[]},isCartProcessing:!1,cartMessage:"",cartMessageType:"success",priceEstimates:null,totalEstimate:null}},created(){this.cart=ft()},computed:{actualQuantity(){return this.selectedQuantity===this.customQuantity?parseInt(this.customQuantityValue)||1:this.selectedQuantity},totalPrice(){return this.selectedItem&&this.selectedItem.price?this.selectedItem.price*this.actualQuantity:0},totalPriceDisplay(){if(!this.selectedItem||!this.selectedItem.price)return"$0";const e=this.selectedItem.price*this.actualQuantity;return`$${e.toFixed(2)}`},canSell(){return this.selectedItem&&this.selectedItem.price&&this.actualQuantity>0&&this.actualQuantity<=(this.selectedItem.quantity||0)}},methods:{async onSelectionChange(e){if(console.log("Selection changed",e),e.store&&e.product&&e.color)try{const t=_t(e.storage),[a,l]=await Promise.all([Ee(e.store,e.product,e.color,t),Le(e.store,e.product,e.color,t)]);this.selectedItem={store:e.store,product:e.product,color:e.color,storage:t,price:a,quantity:l},this.selectedQuantity=1,this.customQuantityValue=1,this.sellMessage=""}catch(t){console.error("Error fetching item details:",t),this.sellMessage="Error fetching product information",this.sellMessageType="error"}else this.selectedItem=null,this.sellMessage=""},handleAddToCart(){if(this.canSell){this.isAddingToCart=!0,this.cartMessage="";try{const e={product:this.selectedItem.product,color:this.selectedItem.color,storage:this.selectedItem.storage,quantity:this.actualQuantity},{cart:t,error:a}=bt(this.cart,this.selectedItem.store,e);a?(this.cartMessage=a,this.cartMessageType="error"):(this.cart=t,this.cartMessage="Added to cart",this.cartMessageType="success")}catch(e){this.cartMessage="Failed to add to cart",this.cartMessageType="error"}finally{this.isAddingToCart=!1}}},async handleSell(){if(this.canSell){this.isSelling=!0,this.sellMessage="";try{const e=await Ee(this.selectedItem.store,this.selectedItem.product,this.selectedItem.color,this.selectedItem.storage),t=await St({store:this.selectedItem.store,product:this.selectedItem.product,color:this.selectedItem.color,storage:this.selectedItem.storage}),a={time:(new Date).toISOString(),id:t,name:this.selectedItem.store.name,product:this.selectedItem.product,price:(e||0)*this.actualQuantity,quantity:this.actualQuantity,store_location:this.selectedItem.store.location,color:this.selectedItem.color,storage:_t(this.selectedItem.storage),unit_price:e};await S(a),await Dt({store:this.selectedItem.store,product:this.selectedItem.product,color:this.selectedItem.color,storage:this.selectedItem.storage},this.actualQuantity),this.sellMessage=`Successfully sold ${this.actualQuantity} items for $${(e||0)*this.actualQuantity}`,this.sellMessageType="success";const l=await Le(this.selectedItem.store,this.selectedItem.product,this.selectedItem.color,this.selectedItem.storage);this.selectedItem.quantity=l,this.selectedQuantity=1,this.customQuantityValue=1}catch(e){console.error("Error creating sale:",e),this.sellMessage="Sale failed: "+e.message,this.sellMessageType="error"}finally{this.isSelling=!1}}},onCartUpdateQty({key:e,quantity:t}){this.cart=kt(this.cart,e,t),this.cartMessage=""},onCartRemoveItem(e){this.cart=Ft(this.cart,e),this.cartMessage=""},onCartClear(){this.cart=vt(),this.cartMessage="",this.priceEstimates=null,this.totalEstimate=null},async onCartCheckout(){if(this.cart&&0!==this.cart.items.length){this.isCartProcessing=!0,this.cartMessage="";try{for(const e of this.cart.items){const[t]=await Promise.all([Le(this.cart.store,e.product,e.color,e.storage)]);if(t<e.quantity)return this.cartMessage=`Insufficient inventory for ${e.product} ${e.color} ${e.storage||""}. Available: ${t}, Required: ${e.quantity}`,void(this.cartMessageType="error")}for(const e of this.cart.items){const t=await Ee(this.cart.store,e.product,e.color,e.storage),a=await St({store:this.cart.store,product:e.product,color:e.color,storage:e.storage}),l={time:(new Date).toISOString(),id:a,name:this.cart.store.name,product:e.product,price:(t||0)*e.quantity,quantity:e.quantity,store_location:this.cart.store.location,color:e.color,storage:_t(e.storage),unit_price:t};await S(l),await Dt({store:this.cart.store,product:e.product,color:e.color,storage:e.storage},e.quantity)}this.cart=vt(),this.cartMessage="Checkout completed.",this.cartMessageType="success"}catch(e){console.error(e),this.cartMessage=`Checkout failed: ${e.message}`,this.cartMessageType="error"}finally{this.isCartProcessing=!1}}},async onRefreshEstimates(){if(!this.cart||0===this.cart.items.length||!this.cart.store)return this.priceEstimates=null,void(this.totalEstimate=null);this.isCartProcessing=!0;try{const e={};let t=0;for(const a of this.cart.items){const l=await Ee(this.cart.store,a.product,a.color,a.storage);e[a.key]=l,t+=(Number(l)||0)*(Number(a.quantity)||0)}this.priceEstimates=e,this.totalEstimate=t}catch(e){console.error(e),this.cartMessage="Failed to refresh prices",this.cartMessageType="error"}finally{this.isCartProcessing=!1}}}};const wt=(0,n.A)(Ct,[["render",ke]]);var Rt=wt;const xt=[{path:"/",redirect:"/selling"},{path:"/sales-record",name:"SalesRecord",component:ue},{path:"/inventory",name:"Inventory",component:ve},{path:"/selling",name:"Selling",component:Rt}],Wt=(0,m.aE)({history:(0,m.LA)(),routes:xt});var Pt=Wt;const Vt=(0,c.$N)({components:u,directives:h}),It=(0,l.Ef)(d);It.use(Vt),It.use(Pt),It.mount("#app")}},t={};function a(l){var o=t[l];if(void 0!==o)return o.exports;var r=t[l]={exports:{}};return e[l].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,l,o,r){if(!l){var s=1/0;for(c=0;c<e.length;c++){l=e[c][0],o=e[c][1],r=e[c][2];for(var n=!0,i=0;i<l.length;i++)(!1&r||s>=r)&&Object.keys(a.O).every(function(e){return a.O[e](l[i])})?l.splice(i--,1):(n=!1,r<s&&(s=r));if(n){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[l,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,r,s=l[0],n=l[1],i=l[2],d=0;if(s.some(function(t){return 0!==e[t]})){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(i)var c=i(a)}for(t&&t(l);d<s.length;d++)r=s[d],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},l=self["webpackChunkinventory_management_system"]=self["webpackChunkinventory_management_system"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],function(){return a(9636)});l=a.O(l)})();
//# sourceMappingURL=app.c9b98784.js.map