{"version":3,"file":"js/app.f83621fc.js","mappings":"sTACEA,EAAAA,EAAAA,IAgDQC,EAAA,M,iBA/CN,IA0CY,EA1CZC,EAAAA,EAAAA,IA0CYC,EAAA,CAzCVC,MAAM,UACNC,KAAA,GACAC,UAAA,I,kBAEA,IAAoF,EAApFJ,EAAAA,EAAAA,IAAoFK,EAAA,M,iBAAnE,IAAiD,IAAAC,EAAA,KAAAA,EAAA,K,QAAjD,qDAAiD,O,OAClEN,EAAAA,EAAAA,IAAqBO,IAGrBP,EAAAA,EAAAA,IAQQQ,EAAA,CAPLC,GAAI,CAAAC,KAAA,WACLR,MAAM,QACNS,QAAQ,OACRC,MAAM,Q,kBAEN,IAAuC,EAAvCZ,EAAAA,EAAAA,IAAuCa,EAAA,CAA/BC,KAAA,IAAI,C,iBAAC,IAAiB,IAAAR,EAAA,KAAAA,EAAA,K,QAAjB,qBAAiB,O,2BAAS,aAEzC,M,OAEAN,EAAAA,EAAAA,IAQQQ,EAAA,CAPLC,GAAI,CAAAC,KAAA,aACLR,MAAM,QACNS,QAAQ,OACRC,MAAM,Q,kBAEN,IAAmC,EAAnCZ,EAAAA,EAAAA,IAAmCa,EAAA,CAA3BC,KAAA,IAAI,C,iBAAC,IAAa,IAAAR,EAAA,KAAAA,EAAA,K,QAAb,iBAAa,O,2BAAS,eAErC,M,OAEAN,EAAAA,EAAAA,IAQQQ,EAAA,CAPLC,GAAI,CAAAC,KAAA,eACLR,MAAM,QACNS,QAAQ,OACRC,MAAM,Q,kBAEN,IAAoC,EAApCZ,EAAAA,EAAAA,IAAoCa,EAAA,CAA5BC,KAAA,IAAI,C,iBAAC,IAAc,IAAAR,EAAA,KAAAA,EAAA,K,QAAd,kBAAc,O,2BAAS,kBAEtC,M,OAEAN,EAAAA,EAAAA,IAEQQ,EAAA,CAFDO,KAAA,IAAI,C,iBACT,IAA4B,EAA5Bf,EAAAA,EAAAA,IAA4Ba,EAAA,M,iBAApB,IAAW,IAAAP,EAAA,KAAAA,EAAA,K,QAAX,eAAW,O,uBAIvBN,EAAAA,EAAAA,IAESgB,EAAA,M,iBADP,IAAe,EAAfhB,EAAAA,EAAAA,IAAeiB,K,cAMrB,OACEP,KAAM,O,UCjDR,MAAMQ,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,Q,2aCNErB,EAAAA,EAAAA,IA2DcsB,EAAA,CA3DDC,MAAA,IAAK,C,iBAChB,IAwCQ,EAxCRrB,EAAAA,EAAAA,IAwCQsB,EAAA,M,iBAvCN,IAsCQ,EAtCRtB,EAAAA,EAAAA,IAsCQuB,EAAA,CAtCDC,KAAK,MAAI,C,iBAEd,IAoBS,EApBTxB,EAAAA,EAAAA,IAoBSyB,EAAA,CApBDb,MAAM,QAAM,C,iBAClB,IAae,EAbfZ,EAAAA,EAAAA,IAae0B,EAAA,CAbDd,MAAM,uBAAqB,C,iBACvC,IAAiE,EAAjEZ,EAAAA,EAAAA,IAAiEa,EAAA,CAAzDC,KAAA,GAAKa,KAAK,QAAQzB,MAAM,W,kBAAU,IAAc,IAAAI,EAAA,KAAAA,EAAA,K,QAAd,kBAAc,O,mBACxDsB,EAAAA,EAAAA,IAA4C,MAAxChB,MAAM,WAAU,uBAAmB,KACvCZ,EAAAA,EAAAA,IAAqBO,IACrBP,EAAAA,EAAAA,IAQQQ,EAAA,CAPNN,MAAM,UACNS,QAAQ,WACPkB,QAAOC,EAAAC,YACPC,QAASC,EAAAC,c,kBAEV,IAAiC,EAAjClC,EAAAA,EAAAA,IAAiCa,EAAA,CAAzBC,KAAA,IAAI,C,iBAAC,IAAW,IAAAR,EAAA,KAAAA,EAAA,K,QAAX,eAAW,O,2BAAS,kBAEnC,M,uCAEFN,EAAAA,EAAAA,IAIcmC,EAAA,M,iBAHZ,IAEI,IAAA7B,EAAA,KAAAA,EAAA,KAFJsB,EAAAA,EAAAA,IAEI,KAFDhB,MAAM,kCAAiC,kFAE1C,O,eAKJZ,EAAAA,EAAAA,IAIEoC,EAAA,CAHCC,gBAAgBP,EAAAO,gBAChBC,QAAOR,EAAAS,cACR3B,MAAM,Q,uCAIRZ,EAAAA,EAAAA,IAKEwC,EAAA,CAJC,gBAAeP,EAAAQ,aACfC,MAAOT,EAAAU,WACPX,QAASC,EAAAD,QACTY,MAAOX,EAAAW,O,qEAMd5C,EAAAA,EAAAA,IAcW6C,EAAA,C,WAdQZ,EAAAa,gB,qCAAAb,EAAAa,gBAAeC,GAAE,YAAU,S,kBAC5C,IAYS,EAZT/C,EAAAA,EAAAA,IAYSyB,EAAA,M,iBAXP,IAGe,EAHfzB,EAAAA,EAAAA,IAGe0B,EAAA,CAHDd,MAAM,sBAAoB,C,iBACtC,IAAoD,EAApDZ,EAAAA,EAAAA,IAAoDa,EAAA,CAA5CC,KAAA,GAAKZ,MAAM,S,kBAAQ,IAAgB,IAAAI,EAAA,KAAAA,EAAA,K,QAAhB,oBAAgB,O,2BAAS,WAEtD,M,OACAN,EAAAA,EAAAA,IAEcmC,EAAA,M,iBADZ,IAAwB,E,iBAArBF,EAAAe,oBAAkB,K,OAEvBhD,EAAAA,EAAAA,IAGiBiD,EAAA,M,iBAFf,IAAqB,EAArBjD,EAAAA,EAAAA,IAAqBO,IACrBP,EAAAA,EAAAA,IAAkEQ,EAAA,CAA3DN,MAAM,UAAW2B,QAAKvB,EAAA,KAAAA,EAAA,GAAAyC,GAAEd,EAAAa,iBAAkB,I,kBAAO,IAAE,IAAAxC,EAAA,KAAAA,EAAA,K,QAAF,MAAE,O,obCvDlER,EAAAA,EAAAA,IA2HS2B,EAAA,M,iBA1HP,IAGe,EAHfzB,EAAAA,EAAAA,IAGe0B,EAAA,M,iBAFb,IAAgC,EAAhC1B,EAAAA,EAAAA,IAAgCa,EAAA,CAAxBC,KAAA,IAAI,C,iBAAC,IAAU,IAAAR,EAAA,KAAAA,EAAA,K,QAAV,cAAU,O,6BAAS,uBAElC,M,OACAN,EAAAA,EAAAA,IA+FcmC,EAAA,M,iBA9FZ,IAuEQ,EAvERnC,EAAAA,EAAAA,IAuEQsB,EAAA,M,iBArEN,IASQ,EATRtB,EAAAA,EAAAA,IASQuB,EAAA,CATDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAOY,EAPZlD,EAAAA,EAAAA,IAOYmD,EAAA,C,WANDlB,EAAAmB,e,qCAAAnB,EAAAmB,eAAcL,GACtBM,MAAOpB,EAAAqB,kBACRC,MAAM,mBACNC,SAAA,GACAC,MAAA,GACCC,SAAQ5B,EAAA6B,wB,kDAKoC,WAAnB1B,EAAAmB,iB,WAA9BtD,EAAAA,EAAAA,IAQQyB,EAAA,C,MARDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAMiB,EANjBlD,EAAAA,EAAAA,IAMiB4D,EAAA,C,WALN3B,EAAA4B,W,sCAAA5B,EAAA4B,WAAUd,GACEjB,EAAAgC,cACrB5D,MAAM,UACN,0BACC6D,KAAG,IAAMC,MAAOC,cAAcC,MAAM,KAAK,I,4EAKG,UAAnBjC,EAAAmB,iB,WAA9BtD,EAAAA,EAAAA,IAWQyB,EAAA,C,MAXDC,KAAK,KAAK0B,GAAG,K,kBAClB,IASgB,EAThBlD,EAAAA,EAAAA,IASgBmE,EAAA,C,WARLlC,EAAAmC,c,qCAAAnC,EAAAmC,cAAarB,GACtBQ,MAAM,aACNc,YAAY,4BACZb,SAAA,GACAC,MAAA,GACAa,SAAA,GACA,cAAY,eACXzC,QAAKvB,EAAA,KAAAA,EAAA,GAAAyC,GAAEd,EAAAsC,qBAAsB,I,iDAKlCvE,EAAAA,EAAAA,IAcQuB,EAAA,CAdDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAYc,EAZdlD,EAAAA,EAAAA,IAYcwE,EAAA,C,WAXHvC,EAAAwC,iB,sCAAAxC,EAAAwC,iBAAgB1B,GAUJjB,EAAAO,iBATpBgB,MAAOpB,EAAAyC,kBACP1C,QAASC,EAAA0C,gBACVpB,MAAM,iBACNc,YAAY,kBACZb,SAAA,GACAC,MAAA,GACAmB,SAAA,GACAC,MAAA,GACAC,UAAA,I,wEAMJ9E,EAAAA,EAAAA,IAcQuB,EAAA,CAdDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAYc,EAZdlD,EAAAA,EAAAA,IAYcwE,EAAA,C,WAXHvC,EAAA8C,mB,sCAAA9C,EAAA8C,mBAAkBhC,GAUNjB,EAAAO,iBATpBgB,MAAOpB,EAAA+C,oBACPhD,QAASC,EAAAgD,kBACV1B,MAAM,eACNc,YAAY,gBACZb,SAAA,GACAC,MAAA,GACAmB,SAAA,GACAC,MAAA,GACAC,UAAA,I,gFAON9E,EAAAA,EAAAA,IAmBQsB,EAAA,CAnBDV,MAAM,QAAM,C,iBACjB,IAiBQ,EAjBRZ,EAAAA,EAAAA,IAiBQuB,EAAA,CAjBDC,KAAK,KAAKZ,MAAM,c,kBACrB,IAOQ,EAPRZ,EAAAA,EAAAA,IAOQQ,EAAA,CANNN,MAAM,YACL2B,QAAOC,EAAAoD,aACRtE,MAAM,Q,kBAEN,IAAiC,EAAjCZ,EAAAA,EAAAA,IAAiCa,EAAA,CAAzBC,KAAA,IAAI,C,iBAAC,IAAW,IAAAR,EAAA,MAAAA,EAAA,M,QAAX,eAAW,O,6BAAS,WAEnC,M,qBACAN,EAAAA,EAAAA,IAOQQ,EAAA,CANNN,MAAM,UACL2B,QAAOC,EAAAqD,aACPnD,QAASC,EAAAD,S,kBAEV,IAAiC,EAAjChC,EAAAA,EAAAA,IAAiCa,EAAA,CAAzBC,KAAA,IAAI,C,iBAAC,IAAW,IAAAR,EAAA,MAAAA,EAAA,M,QAAX,eAAW,O,6BAAS,YAEnC,M,uDAMNN,EAAAA,EAAAA,IAmBW6C,EAAA,C,WAnBQZ,EAAAsC,oB,qCAAAtC,EAAAsC,oBAAmBxB,GAAE,YAAU,S,kBAChD,IAiBS,EAjBT/C,EAAAA,EAAAA,IAiBSyB,EAAA,M,iBAhBP,IAA8C,EAA9CzB,EAAAA,EAAAA,IAA8C0B,EAAA,M,iBAAhC,IAAiB,IAAApB,EAAA,MAAAA,EAAA,M,QAAjB,qBAAiB,O,OAC/BN,EAAAA,EAAAA,IAScmC,EAAA,M,iBARZ,IAOiB,EAPjBnC,EAAAA,EAAAA,IAOiB4D,EAAA,C,WANN3B,EAAAmD,U,sCAAAnD,EAAAmD,UAASrC,GAEGjB,EAAAuD,mBADrBC,MAAA,GAEApF,MAAM,UACN,0BACC6D,KAAG,IAAMC,MAAOC,cAAcC,MAAM,KAAK,I,4DAG9ClE,EAAAA,EAAAA,IAIiBiD,EAAA,M,iBAHf,IAAqB,EAArBjD,EAAAA,EAAAA,IAAqBO,IACrBP,EAAAA,EAAAA,IAA+DQ,EAAA,CAAxD+E,KAAA,GAAM1D,QAAKvB,EAAA,KAAAA,EAAA,GAAAyC,GAAEd,EAAAsC,qBAAsB,I,kBAAO,IAAM,IAAAjE,EAAA,MAAAA,EAAA,M,QAAN,UAAM,O,OACvDN,EAAAA,EAAAA,IAAgEQ,EAAA,CAAzDN,MAAM,UAAW2B,QAAOC,EAAA0D,kB,kBAAkB,IAAO,IAAAlF,EAAA,MAAAA,EAAA,M,QAAP,WAAO,O,mKCpHlE,MAAMmF,EAAeC,2CACfC,EAAoBD,mNAErBD,GAAiBE,GAKpBC,QAAQhD,MAAM,8EAGT,MAAMiD,GAAWC,EAAAA,EAAAA,IACtBL,GAAgB,GAChBE,GAAqB,IAGvB,QClBA,MAAMI,EAAa,QAEZC,eAAeC,EAAWC,GAC/B,MAAM,KAAEC,EAAI,MAAEvD,SAAgBiD,EAC3BO,KAAKL,GACLM,OAAO,CAACH,IACRI,SAEH,GAAI1D,EAAO,MAAMA,EACjB,OAAOuD,CACT,CAYOH,eAAeO,EAAsBC,GAC1C,IAAIC,EAAQZ,EACTO,KAAKL,GACLO,OAAO,KAGV,GAAIE,EAAQpB,UACV,GAAiC,IAA7BoB,EAAQpB,UAAUsB,OAAc,CAElC,MAAMC,EAAY,IAAI3C,KAAKwC,EAAQpB,UAAU,IAC7CuB,EAAUC,SAAS,EAAG,EAAG,EAAG,GAC5B,MAAMC,EAAU,IAAI7C,KAAKwC,EAAQpB,UAAU,IAC3CyB,EAAQD,SAAS,GAAI,GAAI,GAAI,KAE7BH,EAAQA,EACLK,IAAI,OAAQH,EAAU1C,eACtB8C,IAAI,OAAQF,EAAQ5C,cACzB,MAAO,GAAiC,IAA7BuC,EAAQpB,UAAUsB,OAAc,CAEzC,MAAMC,EAAY,IAAI3C,KAAKwC,EAAQpB,UAAU,IAC7CuB,EAAUC,SAAS,EAAG,EAAG,EAAG,GAC5B,MAAMC,EAAU,IAAI7C,KAAKwC,EAAQpB,UAAU,IAC3CyB,EAAQD,SAAS,GAAI,GAAI,GAAI,KAE7BH,EAAQA,EACLK,IAAI,OAAQH,EAAU1C,eACtB8C,IAAI,OAAQF,EAAQ5C,cACzB,CAIEuC,EAAQQ,UAAYR,EAAQQ,SAASN,OAAS,IAChDD,EAAQA,EAAMQ,GAAG,UAAWT,EAAQQ,WAIlCR,EAAQU,YAAcV,EAAQU,WAAWR,OAAS,IACpDD,EAAQA,EAAMQ,GAAG,OAAQT,EAAQU,aAInCT,EAAQA,EAAMU,MAAM,OAAQ,CAAEC,WAAW,IAErCZ,EAAQa,QACVZ,EAAQA,EAAMY,MAAMb,EAAQa,QAG1Bb,EAAQc,SACVb,EAAQA,EAAMnB,MAAMkB,EAAQc,OAAQd,EAAQc,QAAUd,EAAQa,OAAS,IAAM,IAG/E,MAAM,KAAElB,EAAI,MAAEvD,SAAgB6D,EAE9B,GAAI7D,EAAO,MAAMA,EACjB,OAAOuD,CACT,CAEOH,eAAeuB,IACpB,MAAM,KAAEpB,EAAI,MAAEvD,SAAgBiD,EAC3BO,KAAKL,GACLO,OAAO,WACPa,MAAM,WAET,GAAIvE,EAAO,MAAMA,EAGjB,MAAM4E,EAAiB,IAAI,IAAIC,IAAItB,EAAKuB,IAAIC,GAAQA,EAAKC,WACzD,OAAOJ,CACT,CAEOxB,eAAe6B,IACpB,MAAM,KAAE1B,EAAI,MAAEvD,SAAgBiD,EAC3BO,KAAKL,GACLO,OAAO,QACPa,MAAM,QAET,GAAIvE,EAAO,MAAMA,EAGjB,MAAMkF,EAAmB,IAAI,IAAIL,IAAItB,EAAKuB,IAAIC,GAAQA,EAAKjH,QAC3D,OAAOoH,CACT,CAEO9B,eAAe+B,EAAgBvB,EAAU,CAAC,GAC/C,IAAIC,EAAQZ,EACTO,KAAKL,GACLO,OAAO,mBAGV,GAAIE,EAAQpB,UACV,GAAiC,IAA7BoB,EAAQpB,UAAUsB,OAAc,CAClC,MAAMC,EAAY,IAAI3C,KAAKwC,EAAQpB,UAAU,IAC7CuB,EAAUC,SAAS,EAAG,EAAG,EAAG,GAC5B,MAAMC,EAAU,IAAI7C,KAAKwC,EAAQpB,UAAU,IAC3CyB,EAAQD,SAAS,GAAI,GAAI,GAAI,KAE7BH,EAAQA,EACLK,IAAI,OAAQH,EAAU1C,eACtB8C,IAAI,OAAQF,EAAQ5C,cACzB,MAAO,GAAiC,IAA7BuC,EAAQpB,UAAUsB,OAAc,CACzC,MAAMC,EAAY,IAAI3C,KAAKwC,EAAQpB,UAAU,IAC7CuB,EAAUC,SAAS,EAAG,EAAG,EAAG,GAC5B,MAAMC,EAAU,IAAI7C,KAAKwC,EAAQpB,UAAU,IAC3CyB,EAAQD,SAAS,GAAI,GAAI,GAAI,KAE7BH,EAAQA,EACLK,IAAI,OAAQH,EAAU1C,eACtB8C,IAAI,OAAQF,EAAQ5C,cACzB,CAGEuC,EAAQQ,UAAYR,EAAQQ,SAASN,OAAS,IAChDD,EAAQA,EAAMQ,GAAG,UAAWT,EAAQQ,WAGlCR,EAAQU,YAAcV,EAAQU,WAAWR,OAAS,IACpDD,EAAQA,EAAMQ,GAAG,OAAQT,EAAQU,aAGnC,MAAM,KAAEf,EAAI,MAAEvD,SAAgB6D,EAE9B,GAAI7D,EAAO,MAAMA,EAGjB,MAAMoF,EAAe7B,EAAKO,OACpBuB,EAAe9B,EAAK+B,OAAO,CAACC,EAAKC,IAAWD,GAAOC,EAAOC,OAAS,GAAI,GACvEC,EAAgBnC,EAAK+B,OAAO,CAACC,EAAKC,IAAWD,GAAOC,EAAOG,UAAY,GAAI,GAEjF,MAAO,CACLP,eACAC,eACAK,gBAEJ,CAEA,IF1BA,GACE5H,KAAM,qBACN8H,MAAO,CAAC,kBACRrC,IAAAA,GACE,MAAO,CACL/C,eAAgB,OAChBE,kBAAmB,CACjB,CAAEmF,MAAO,iBAAkBC,MAAO,QAClC,CAAED,MAAO,qBAAsBC,MAAO,UACtC,CAAED,MAAO,oBAAqBC,MAAO,UAEvC7E,WAAY,KACZuB,UAAW,GACXhB,cAAe,GACfG,qBAAqB,EACrBE,iBAAkB,GAClBM,mBAAoB,GACpBL,kBAAmB,GACnBM,oBAAqB,GACrBL,iBAAiB,EACjBM,mBAAmB,EACnBjD,SAAS,EAEb,EACA2G,OAAAA,GACEC,KAAKC,mBACP,EACAC,QAAS,CACP,uBAAMD,GAEJD,KAAKjE,iBAAkB,EACvBiE,KAAK3D,mBAAoB,EAEzB,IACE,MAAO+B,EAAUE,SAAoB6B,QAAQC,IAAI,CAC/CzB,IACAM,MAGFe,KAAKlE,kBAAoBsC,EACzB4B,KAAK5D,oBAAsBkC,CAC7B,CAAE,MAAOtE,GACPgD,QAAQhD,MAAM,iCAAkCA,GAChDgG,KAAKK,MAAM,QAAS,gCACtB,CAAE,QACAL,KAAKjE,iBAAkB,EACvBiE,KAAK3D,mBAAoB,CAC3B,CACF,EAEAtB,sBAAAA,GACEiF,KAAKM,mBACLN,KAAKvG,iBACP,EAEAyB,YAAAA,GACE8E,KAAKvG,iBACP,EAEAgD,iBAAAA,GACE,EAGFG,gBAAAA,GACMoD,KAAKxD,WAAawD,KAAKxD,UAAUsB,OAAS,IACd,IAA1BkC,KAAKxD,UAAUsB,OACjBkC,KAAKxE,cAAgBwE,KAAKO,WAAWP,KAAKxD,UAAU,IACjB,IAA1BwD,KAAKxD,UAAUsB,SACxBkC,KAAKxE,cAAgB,GAAGwE,KAAKO,WAAWP,KAAKxD,UAAU,SAASwD,KAAKO,WAAWP,KAAKxD,UAAU,QAGnGwD,KAAKrE,qBAAsB,EAC3BqE,KAAKvG,iBACP,EAEA8G,UAAAA,CAAWC,GACT,OAAKA,EACE,IAAIpF,KAAKoF,GAAMC,mBAAmB,SADvB,EAEpB,EAEAhH,eAAAA,GAEEuG,KAAKU,aACP,EAEAA,WAAAA,GACE,MAAM9C,EAAU,CACdpB,UAAWwD,KAAKW,qBAChBvC,SAAU4B,KAAKnE,iBACfyC,WAAY0B,KAAK7D,oBAGnB6D,KAAKK,MAAM,iBAAkBzC,EAC/B,EAEA+C,kBAAAA,GACE,MAA4B,WAAxBX,KAAKxF,gBAA+BwF,KAAK/E,WACpC,CAAC+E,KAAK/E,YACoB,UAAxB+E,KAAKxF,gBAA8BwF,KAAKxD,UAAUsB,OAAS,EAC7DkC,KAAKxD,UAEP,IACT,EAEAD,YAAAA,GACEyD,KAAK5G,SAAU,EACf4G,KAAKU,cAGLE,WAAW,KACTZ,KAAK5G,SAAU,GACd,IACL,EAEAkD,YAAAA,GACE0D,KAAKxF,eAAiB,OACtBwF,KAAK/E,WAAa,KAClB+E,KAAKxD,UAAY,GACjBwD,KAAKxE,cAAgB,GACrBwE,KAAKnE,iBAAmB,GACxBmE,KAAK7D,mBAAqB,GAC1B6D,KAAKU,aACP,EAEAJ,gBAAAA,GACEN,KAAK/E,WAAa,KAClB+E,KAAKxD,UAAY,GACjBwD,KAAKxE,cAAgB,EACvB,IG9PJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,SCQmBxD,MAAM,W,GAQNA,MAAM,W,GAQNA,MAAM,W,SAQCA,MAAM,oB,SAWiBA,MAAM,oB,aAmB7BA,MAAM,Q,GAIPA,MAAM,sB,GAINA,MAAM,sB,GAINA,MAAM,sB,GAINA,MAAM,iC,GAINA,MAAM,gB,4kBA1F7Bd,EAAAA,EAAAA,IA0MS2B,EAAA,M,iBAzMP,IAOe,EAPfzB,EAAAA,EAAAA,IAOe0B,EAAA,M,iBANb,IAA8C,EAA9C1B,EAAAA,EAAAA,IAA8Ca,EAAA,CAAtCC,KAAA,IAAI,C,iBAAC,IAAwB,IAAAR,EAAA,KAAAA,EAAA,K,QAAxB,4BAAwB,O,2BAAS,mBAE9C,KAAAN,EAAAA,EAAAA,IAAqBO,IACrBP,EAAAA,EAAAA,IAESyJ,EAAA,CAFDvJ,MAAM,UAAUS,QAAQ,Y,kBAAW,IACnC,E,QADmC,WACnC+I,EAAAA,EAAAA,IAAG5H,EAAAkG,cAAe,YAC1B,K,eAGFhI,EAAAA,EAAAA,IA+LcmC,EAAA,M,iBApM4D,IAuBnE,CAhBqBwH,EAAAjH,Q,WAA1B5C,EAAAA,EAAAA,IAyBQwB,EAAA,C,MAzBDV,MAAM,Q,kBACX,IAOQ,EAPRZ,EAAAA,EAAAA,IAOQuB,EAAA,CAPDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAKS,EALTlD,EAAAA,EAAAA,IAKSyB,EAAA,CALDvB,MAAM,UAAUS,QAAQ,S,kBAC9B,IAGc,EAHdX,EAAAA,EAAAA,IAGcmC,EAAA,CAHDvB,MAAM,eAAa,C,iBAC9B,IAAmD,EAAnDgB,EAAAA,EAAAA,IAAmD,MAAnDgI,GAAmDF,EAAAA,EAAAA,IAA3BC,EAAAjH,MAAMsF,cAAY,G,aAC1CpG,EAAAA,EAAAA,IAA6C,OAAxChB,MAAM,gBAAe,iBAAa,M,uBAI7CZ,EAAAA,EAAAA,IAOQuB,EAAA,CAPDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAKS,EALTlD,EAAAA,EAAAA,IAKSyB,EAAA,CALDvB,MAAM,UAAUS,QAAQ,S,kBAC9B,IAGc,EAHdX,EAAAA,EAAAA,IAGcmC,EAAA,CAHDvB,MAAM,eAAa,C,iBAC9B,IAAqE,EAArEgB,EAAAA,EAAAA,IAAqE,MAArEiI,EAAqB,KAACH,EAAAA,EAAAA,IAAGC,EAAAjH,MAAMuF,aAAa6B,kBAAc,G,aAC1DlI,EAAAA,EAAAA,IAA6C,OAAxChB,MAAM,gBAAe,iBAAa,M,uBAI7CZ,EAAAA,EAAAA,IAOQuB,EAAA,CAPDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAKS,EALTlD,EAAAA,EAAAA,IAKSyB,EAAA,CALDvB,MAAM,OAAOS,QAAQ,S,kBAC3B,IAGc,EAHdX,EAAAA,EAAAA,IAGcmC,EAAA,CAHDvB,MAAM,eAAa,C,iBAC9B,IAAoD,EAApDgB,EAAAA,EAAAA,IAAoD,MAApDmI,GAAoDL,EAAAA,EAAAA,IAA5BC,EAAAjH,MAAM4F,eAAa,G,aAC3C1G,EAAAA,EAAAA,IAA8C,OAAzChB,MAAM,gBAAe,kBAAc,M,+CAOrC+I,EAAA3H,U,WAAXgI,EAAAA,EAAAA,IAGM,MAHNC,EAGM,EAFJjK,EAAAA,EAAAA,IAAmFkK,EAAA,CAA9DC,cAAA,GAAcjK,MAAM,UAAUyB,KAAK,O,aACxDC,EAAAA,EAAAA,IAAkC,OAA7BhB,MAAM,QAAO,cAAU,OAIV+I,EAAA/G,Q,WAApB9C,EAAAA,EAAAA,IAEUsK,EAAA,C,MAFiBC,KAAK,QAAQzJ,MAAM,Q,kBAC5C,IAAW,E,iBAAR+I,EAAA/G,OAAK,K,OAI8B,IAAxB+G,EAAAlH,aAAaiE,S,WAA7BsD,EAAAA,EAAAA,IAIM,MAJNM,EAIM,EAHJtK,EAAAA,EAAAA,IAAyDa,EAAA,CAAjDc,KAAK,KAAKzB,MAAM,Q,kBAAO,IAAiB,IAAAI,EAAA,KAAAA,EAAA,K,QAAjB,qBAAiB,O,mBAChDsB,EAAAA,EAAAA,IAAsD,OAAjDhB,MAAM,gBAAe,0BAAsB,I,eAChDgB,EAAAA,EAAAA,IAAsF,OAAjFhB,MAAM,yBAAwB,iDAA6C,S,WAIlFoJ,EAAAA,EAAAA,IA8IM,MAAAO,EAAA,EA7IJvK,EAAAA,EAAAA,IAkIqBwK,EAAA,C,WAlIQvI,EAAAwI,e,qCAAAxI,EAAAwI,eAAc1H,GAAE6B,SAAA,I,kBAEzC,IAA2C,G,aAD7CoF,EAAAA,EAAAA,IAgIoBU,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA/HQ7I,EAAA8I,iBAAgB,CAAlCxC,EAAQyC,M,WADlB/K,EAAAA,EAAAA,IAgIoBgL,EAAA,CA9HjBC,IAAK3C,EAAO4C,IAAMH,EAClBnC,MAAOmC,G,kBAER,IA6B0B,EA7B1B7K,EAAAA,EAAAA,IA6B0BiL,EAAA,MA5BPC,SAAOC,EAAAA,EAAAA,IACtB,EAD0BC,cAAQ,EAClCpL,EAAAA,EAAAA,IAyBQsB,EAAA,CAzBD,iBAAU,C,iBACf,IAGQ,EAHRtB,EAAAA,EAAAA,IAGQuB,EAAA,CAHDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAA0E,EAA1ElD,EAAAA,EAAAA,IAA0Ea,EAAA,CAAjEE,KAAMqK,EAAW,iBAAmB,oB,kBAC7CxJ,EAAAA,EAAAA,IAA8C,OAA9CyJ,GAA8C3B,EAAAA,EAAAA,IAAxBtB,EAAOR,SAAO,K,YAEtC5H,EAAAA,EAAAA,IAGQuB,EAAA,CAHDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAAkD,C,eAAlDtB,EAAAA,EAAAA,IAAkD,QAA5ChB,MAAM,0BAAyB,UAAM,KAC3CgB,EAAAA,EAAAA,IAAuD,MAAvD0J,GAAuD5B,EAAAA,EAAAA,IAApBtB,EAAO1H,MAAI,K,YAEhDV,EAAAA,EAAAA,IAGQuB,EAAA,CAHDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAAgD,C,eAAhDtB,EAAAA,EAAAA,IAAgD,QAA1ChB,MAAM,0BAAyB,QAAI,KACzCgB,EAAAA,EAAAA,IAA2D,MAA3D2J,GAA2D7B,EAAAA,EAAAA,IAAxBtB,EAAOG,UAAQ,K,YAEpDvI,EAAAA,EAAAA,IAGQuB,EAAA,CAHDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAAiD,C,eAAjDtB,EAAAA,EAAAA,IAAiD,QAA3ChB,MAAM,0BAAyB,SAAK,KAC1CgB,EAAAA,EAAAA,IAA8D,MAA9D4J,EAAgC,KAAC9B,EAAAA,EAAAA,IAAGtB,EAAOqD,YAAU,K,YAEvDzL,EAAAA,EAAAA,IAGQuB,EAAA,CAHDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAAkD,C,eAAlDtB,EAAAA,EAAAA,IAAkD,QAA5ChB,MAAM,0BAAyB,UAAM,KAC3CgB,EAAAA,EAAAA,IAAoE,MAApE8J,EAA2C,KAAChC,EAAAA,EAAAA,IAAGtB,EAAOC,OAAK,K,YAE7DrI,EAAAA,EAAAA,IAGQuB,EAAA,CAHDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAAiD,C,eAAjDtB,EAAAA,EAAAA,IAAiD,QAA3ChB,MAAM,0BAAyB,SAAK,KAC1CgB,EAAAA,EAAAA,IAA6D,MAA7D+J,GAA6DjC,EAAAA,EAAAA,IAAhC5H,EAAAqH,WAAWf,EAAOwD,OAAI,K,sCAM3D5L,EAAAA,EAAAA,IA2FyB6L,EAAA,M,iBA1FvB,IAAoC,EAApC7L,EAAAA,EAAAA,IAAoC8L,EAAA,CAAzBlL,MAAM,UAEjBZ,EAAAA,EAAAA,IAwEQsB,EAAA,M,iBAvEN,IAkCQ,EAlCRtB,EAAAA,EAAAA,IAkCQuB,EAAA,CAlCDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAgCS,EAhCTlD,EAAAA,EAAAA,IAgCS+L,EAAA,CAhCDC,QAAQ,WAAS,C,iBACvB,IAMc,EANdhM,EAAAA,EAAAA,IAMciM,EAAA,MALKC,SAAOf,EAAAA,EAAAA,IACtB,IAA0B,EAA1BnL,EAAAA,EAAAA,IAA0Ba,EAAA,M,iBAAlB,IAAS,IAAAP,EAAA,MAAAA,EAAA,M,QAAT,aAAS,O,yBAEnB,IAAiD,EAAjDN,EAAAA,EAAAA,IAAiDmM,EAAA,M,iBAA9B,IAAU,IAAA7L,EAAA,MAAAA,EAAA,M,QAAV,cAAU,O,OAC7BN,EAAAA,EAAAA,IAA8DoM,EAAA,M,iBAAxC,IAAiB,E,iBAAdhE,EAAO1H,MAAI,K,yBAGtCV,EAAAA,EAAAA,IAMciM,EAAA,MALKC,SAAOf,EAAAA,EAAAA,IACtB,IAA+B,EAA/BnL,EAAAA,EAAAA,IAA+Ba,EAAA,M,iBAAvB,IAAc,IAAAP,EAAA,MAAAA,EAAA,M,QAAd,kBAAc,O,yBAExB,IAAqD,EAArDN,EAAAA,EAAAA,IAAqDmM,EAAA,M,iBAAlC,IAAc,IAAA7L,EAAA,MAAAA,EAAA,M,QAAd,kBAAc,O,OACjCN,EAAAA,EAAAA,IAAwEoM,EAAA,M,iBAAlD,IAA2B,E,iBAAxBhE,EAAOiE,gBAAc,K,yBAGhDrM,EAAAA,EAAAA,IAMciM,EAAA,MALKC,SAAOf,EAAAA,EAAAA,IACtB,IAAoC,EAApCnL,EAAAA,EAAAA,IAAoCa,EAAA,M,iBAA5B,IAAmB,IAAAP,EAAA,MAAAA,EAAA,M,QAAnB,uBAAmB,O,yBAE7B,IAA8C,EAA9CN,EAAAA,EAAAA,IAA8CmM,EAAA,M,iBAA3B,IAAO,IAAA7L,EAAA,MAAAA,EAAA,M,QAAP,WAAO,O,OAC1BN,EAAAA,EAAAA,IAAiEoM,EAAA,M,iBAA3C,IAAoB,E,iBAAjBhE,EAAOR,SAAO,K,yBAGzC5H,EAAAA,EAAAA,IAMciM,EAAA,MALKC,SAAOf,EAAAA,EAAAA,IACtB,IAA4B,EAA5BnL,EAAAA,EAAAA,IAA4Ba,EAAA,M,iBAApB,IAAW,IAAAP,EAAA,MAAAA,EAAA,M,QAAX,eAAW,O,yBAErB,IAA4C,EAA5CN,EAAAA,EAAAA,IAA4CmM,EAAA,M,iBAAzB,IAAK,IAAA7L,EAAA,MAAAA,EAAA,M,QAAL,SAAK,O,OACxBN,EAAAA,EAAAA,IAA+DoM,EAAA,M,iBAAzC,IAAkB,E,iBAAfhE,EAAOlI,OAAK,K,mDAK3CF,EAAAA,EAAAA,IAkCQuB,EAAA,CAlCDC,KAAK,KAAK0B,GAAG,K,kBAClB,IAgCS,EAhCTlD,EAAAA,EAAAA,IAgCS+L,EAAA,CAhCDC,QAAQ,WAAS,C,sBACJ5D,EAAOkE,U,WAA1BxM,EAAAA,EAAAA,IAMcmM,EAAA,CAAAlB,IAAA,IALKmB,SAAOf,EAAAA,EAAAA,IACtB,IAA2B,EAA3BnL,EAAAA,EAAAA,IAA2Ba,EAAA,M,iBAAnB,IAAU,IAAAP,EAAA,MAAAA,EAAA,M,QAAV,cAAU,O,yBAEpB,IAA8C,EAA9CN,EAAAA,EAAAA,IAA8CmM,EAAA,M,iBAA3B,IAAO,IAAA7L,EAAA,MAAAA,EAAA,M,QAAP,WAAO,O,OAC1BN,EAAAA,EAAAA,IAAmEoM,EAAA,M,iBAA7C,IAAoB,E,iBAAjBhE,EAAOkE,SAAU,KAAE,K,0CAG9CtM,EAAAA,EAAAA,IAMciM,EAAA,MALKC,SAAOf,EAAAA,EAAAA,IACtB,IAA4B,EAA5BnL,EAAAA,EAAAA,IAA4Ba,EAAA,M,iBAApB,IAAW,IAAAP,EAAA,MAAAA,EAAA,M,QAAX,eAAW,O,yBAErB,IAA+C,EAA/CN,EAAAA,EAAAA,IAA+CmM,EAAA,M,iBAA5B,IAAQ,IAAA7L,EAAA,MAAAA,EAAA,M,QAAR,YAAQ,O,OAC3BN,EAAAA,EAAAA,IAAkEoM,EAAA,M,iBAA5C,IAAqB,E,iBAAlBhE,EAAOG,UAAQ,K,yBAG1CvI,EAAAA,EAAAA,IAMciM,EAAA,MALKC,SAAOf,EAAAA,EAAAA,IACtB,IAAiC,EAAjCnL,EAAAA,EAAAA,IAAiCa,EAAA,M,iBAAzB,IAAgB,IAAAP,EAAA,MAAAA,EAAA,M,QAAhB,oBAAgB,O,yBAE1B,IAAiD,EAAjDN,EAAAA,EAAAA,IAAiDmM,EAAA,M,iBAA9B,IAAU,IAAA7L,EAAA,MAAAA,EAAA,M,QAAV,cAAU,O,OAC7BN,EAAAA,EAAAA,IAAqEoM,EAAA,M,iBAA/C,IAAC,E,QAAD,KAAC1C,EAAAA,EAAAA,IAAGtB,EAAOqD,YAAU,K,yBAG7CzL,EAAAA,EAAAA,IAMciM,EAAA,MALKC,SAAOf,EAAAA,EAAAA,IACtB,IAA+B,EAA/BnL,EAAAA,EAAAA,IAA+Ba,EAAA,M,iBAAvB,IAAc,IAAAP,EAAA,MAAAA,EAAA,M,QAAd,kBAAc,O,yBAExB,IAAkD,EAAlDN,EAAAA,EAAAA,IAAkDmM,EAAA,M,iBAA/B,IAAW,IAAA7L,EAAA,MAAAA,EAAA,M,QAAX,eAAW,O,OAC9BN,EAAAA,EAAAA,IAA6FoM,EAAA,CAAvExL,MAAM,wBAAsB,C,iBAAC,IAAC,E,QAAD,KAAC8I,EAAAA,EAAAA,IAAGtB,EAAOC,OAAK,K,gEAM3ErI,EAAAA,EAAAA,IAAoC8L,EAAA,CAAzBlL,MAAM,UAEjBZ,EAAAA,EAAAA,IAWQsB,EAAA,CAXDV,MAAM,QAAM,C,iBACjB,IASQ,EATRZ,EAAAA,EAAAA,IASQuB,EAAA,CATDC,KAAK,KAAKZ,MAAM,c,kBACrB,IAGS,EAHTZ,EAAAA,EAAAA,IAGSyJ,EAAA,CAHDvJ,MAAM,OAAOS,QAAQ,WAAWgB,KAAK,S,kBAC3C,IAAgC,EAAhC3B,EAAAA,EAAAA,IAAgCa,EAAA,CAAxB0L,MAAA,IAAK,C,iBAAC,IAAS,IAAAjM,EAAA,MAAAA,EAAA,M,QAAT,aAAS,O,eAAS,gBACrBoJ,EAAAA,EAAAA,IAAG5H,EAAA0K,eAAepE,EAAOwD,OAAI,K,YAE1C5L,EAAAA,EAAAA,IAGSyJ,EAAA,CAHDvJ,MAAM,OAAOS,QAAQ,WAAWgB,KAAK,QAAQf,MAAM,Q,kBACzD,IAAqC,EAArCZ,EAAAA,EAAAA,IAAqCa,EAAA,CAA7B0L,MAAA,IAAK,C,iBAAC,IAAc,IAAAjM,EAAA,MAAAA,EAAA,M,QAAd,kBAAc,O,eAAS,SACjCoJ,EAAAA,EAAAA,IAAGtB,EAAO4C,IAAE,K,0GAUpBlJ,EAAA2K,WAAa,I,WADrB3M,EAAAA,EAAAA,IAOgB4M,EAAA,C,iBALLzK,EAAA0K,Y,sCAAA1K,EAAA0K,YAAW5J,GAICjB,EAAA8K,cAHpBlG,OAAQ5E,EAAA2K,WACR,gBAAe,EAChB7L,MAAM,Q,0FAShB,OACEF,KAAM,kBACNmM,MAAO,CACLpK,aAAc,CACZ4H,KAAMyC,MACN5B,QAASA,IAAM,IAEjBxI,MAAO,CACL2H,KAAM0C,OACN7B,QAAS,MAEXlJ,QAAS,CACPqI,KAAM2C,QACN9B,SAAS,GAEXtI,MAAO,CACLyH,KAAM4C,OACN/B,QAAS,KAGb/E,IAAAA,GACE,MAAO,CACLwG,YAAa,EACbO,aAAc,GACdzC,eAAgB,GAEpB,EACA0C,SAAU,CACRnF,YAAAA,GACE,OAAOY,KAAKnG,aAAaiE,MAC3B,EACA+F,UAAAA,GACE,OAAOW,KAAKC,KAAKzE,KAAKZ,aAAeY,KAAKsE,aAC5C,EACAtC,gBAAAA,GACE,MAAM2B,GAAS3D,KAAK+D,YAAc,GAAK/D,KAAKsE,aACtCI,EAAMf,EAAQ3D,KAAKsE,aACzB,OAAOtE,KAAKnG,aAAa8K,MAAMhB,EAAOe,EACxC,GAEFE,MAAO,CACL/K,YAAAA,GAEEmG,KAAK+D,YAAc,EACnB/D,KAAK6B,eAAiB,EACxB,GAEF3B,QAAS,CACPK,UAAAA,CAAWsE,GACT,IAAKA,EAAY,MAAO,GACxB,MAAMrE,EAAO,IAAIpF,KAAKyJ,GACtB,OAAOrE,EAAKC,mBAAmB,QACjC,EAEAmD,cAAAA,CAAeiB,GACb,IAAKA,EAAY,MAAO,GACxB,MAAMrE,EAAO,IAAIpF,KAAKyJ,GACtB,OAAOrE,EAAKU,eAAe,QAC7B,EAEA8C,YAAAA,CAAac,GACX9E,KAAK+D,YAAce,EAEnB9E,KAAK+E,UAAU,KACb,MAAMC,EAAUhF,KAAKiF,IAAIC,cAAc,WACnCF,GACFA,EAAQG,eAAe,CAAEC,SAAU,YAGzC,EAEAC,SAAAA,GACErF,KAAK6B,eAAiBqC,MAAM1G,KAAK,CAAEM,OAAQkC,KAAKgC,iBAAiBlE,QAAU,CAACwH,EAAGC,IAAMA,EACvF,EAEAC,WAAAA,GACExF,KAAK6B,eAAiB,EACxB,ICrRJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QN8DA,GACE/J,KAAM,cACN2N,WAAY,CACVC,mBAAkB,EAClBC,gBAAeA,GAEjBpI,IAAAA,GACE,MAAO,CACL1D,aAAc,GACdE,WAAY,KACZX,SAAS,EACTE,cAAc,EACdU,MAAO,GACPE,iBAAiB,EACjBE,mBAAoB,GACpBwL,eAAgB,CAAC,EAErB,EACA,aAAM7F,SAEEC,KAAK6F,eACb,EACA3F,QAAS,CACP,qBAAMzG,CAAgBmE,GACpBoC,KAAK4F,eAAiBhI,QAChBoC,KAAK6F,cAAcjI,EAC3B,EAEA,mBAAMiI,CAAcjI,EAAU,CAAC,GAC7BoC,KAAK5G,SAAU,EACf4G,KAAKhG,MAAQ,GAEb,IAEE,MAAO8L,EAAShM,SAAeqG,QAAQC,IAAI,CACzCzC,EAAsBC,GACtBuB,EAAgBvB,KAGlBoC,KAAKnG,aAAeiM,EACpB9F,KAAKjG,WAAaD,EAGK,IAAnBgM,EAAQhI,QAAgBqG,OAAO4B,KAAKnI,GAASE,OAAS,IACxDkC,KAAKhG,MAAQ,2FAGjB,CAAE,MAAOA,GACPgD,QAAQhD,MAAM,6BAA8BA,GAC5CgG,KAAKhG,MAAQ,iCAAmCA,EAAMgM,QACtDhG,KAAKnG,aAAe,GACpBmG,KAAKjG,WAAa,IACpB,CAAE,QACAiG,KAAK5G,SAAU,CACjB,CACF,EAEA,iBAAMD,GACJ6G,KAAK1G,cAAe,EACpB,UACQ0G,KAAK6F,cAAc7F,KAAK4F,eAChC,CAAE,QACA5F,KAAK1G,cAAe,CACtB,CACF,EAEAK,aAAAA,CAAcqM,GACZhG,KAAK5F,mBAAqB4L,EAC1BhG,KAAK9F,iBAAkB,CACzB,IOrIJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,4QCREhD,EAAAA,EAAAA,IA0DcsB,EAAA,CA1DDC,MAAA,IAAK,C,iBAChB,IAwDQ,EAxDRrB,EAAAA,EAAAA,IAwDQsB,EAAA,M,iBAvDN,IAsDQ,EAtDRtB,EAAAA,EAAAA,IAsDQuB,EAAA,CAtDDC,KAAK,MAAI,C,iBACd,IAoDS,EApDTxB,EAAAA,EAAAA,IAoDSyB,EAAA,M,iBAnDP,IAEe,EAFfzB,EAAAA,EAAAA,IAEe0B,EAAA,M,iBADb,IAAkC,IAAApB,EAAA,KAAAA,EAAA,KAAlCsB,EAAAA,EAAAA,IAAkC,MAA9BhB,MAAM,WAAU,aAAS,O,OAE/BZ,EAAAA,EAAAA,IA+CcmC,EAAA,M,iBA9CZ,IAiCQ,EAjCRnC,EAAAA,EAAAA,IAiCQsB,EAAA,CAjCDV,MAAM,OAAO6C,MAAA,I,kBAClB,IAOQ,EAPRzD,EAAAA,EAAAA,IAOQuB,EAAA,CAPDC,KAAK,KAAKqN,GAAG,IAAI3L,GAAG,K,kBACzB,IAKE,EALFlD,EAAAA,EAAAA,IAKEmE,EAAA,C,WAJSlC,EAAA6M,S,qCAAA7M,EAAA6M,SAAQ/L,GACjBQ,MAAM,KACNuB,UAAA,GACAkH,QAAQ,e,gCAGZhM,EAAAA,EAAAA,IAOQuB,EAAA,CAPDC,KAAK,KAAKqN,GAAG,IAAI3L,GAAG,K,kBACzB,IAKE,EALFlD,EAAAA,EAAAA,IAKEmE,EAAA,C,WAJSlC,EAAA8M,c,qCAAA9M,EAAA8M,cAAahM,GACtBQ,MAAM,UACNuB,UAAA,GACAkH,QAAQ,e,gCAGZhM,EAAAA,EAAAA,IAOQuB,EAAA,CAPDC,KAAK,KAAKqN,GAAG,IAAI3L,GAAG,K,kBACzB,IAKE,EALFlD,EAAAA,EAAAA,IAKEmE,EAAA,C,WAJSlC,EAAA+M,W,qCAAA/M,EAAA+M,WAAUjM,GACnBQ,MAAM,aACNuB,UAAA,GACAkH,QAAQ,e,gCAGZhM,EAAAA,EAAAA,IAOQuB,EAAA,CAPDC,KAAK,KAAKqN,GAAG,IAAI3L,GAAG,K,kBACzB,IAKE,EALFlD,EAAAA,EAAAA,IAKEmE,EAAA,C,WAJSlC,EAAAgN,e,qCAAAhN,EAAAgN,eAAclM,GACvBQ,MAAM,iBACNuB,UAAA,GACAkH,QAAQ,e,wCAIdhM,EAAAA,EAAAA,IAWekP,EAAA,CAVZC,QAASlN,EAAAkN,QACT9L,MAAOvB,EAAAsN,iBACA,UAASnN,EAAAoN,O,iCAAApN,EAAAoN,OAAMtM,I,CAEZ,CAAC,eAAaoI,EAAAA,EAAAA,IACvB,EAD2BxD,UAAI,CACJ,OAAfA,EAAKU,YAAiCiH,IAAf3H,EAAKU,Q,WAAxC2B,EAAAA,EAAAA,IAEO,OAAAJ,EAFsD,MAC1DF,EAAAA,EAAAA,IAAG/B,EAAKU,OAAK,M,WAEhB2B,EAAAA,EAAAA,IAAqB,OAAAH,EAAR,Q,yFAa7B,MAAM9D,EAAa,YAEnB,QACErF,KAAM,gBACNyF,IAAAA,GACE,MAAO,CACLgJ,QAAQ,CACN,CAAC1G,MAAO,KAAMC,MAAO,MACrB,CAACD,MAAO,UAAWC,MAAO,WAC1B,CAACD,MAAO,QAASC,MAAO,SACxB,CAACD,MAAO,UAAWC,MAAO,WAC1B,CAACD,MAAO,iBAAkBC,MAAO,YACjC,CAACD,MAAO,QAASC,MAAO,SACxB,CAACD,MAAO,aAAcC,MAAO,QAC7B,CAACD,MAAO,iBAAkBC,MAAO,YACjC,CAACD,MAAO,cAAeC,MAAO,eAEhC1B,SAAU,GAEV8H,SAAU,GACVC,cAAe,GACfC,WAAY,GACZC,eAAgB,GAEhBI,OAAQ,CAAC,CAAEtE,IAAK,OAAQ5D,MAAO,QAEnC,EACAgG,SAAU,CACRiC,gBAAAA,GACE,MAAMG,EAAMtC,OAAOrE,KAAKkG,UAAY,IAAIU,OAAOC,cACzCC,EAAWzC,OAAOrE,KAAKmG,eAAiB,IAAIS,OAAOC,cACnDE,EAAQ1C,OAAOrE,KAAKoG,YAAc,IAAIQ,OAAOC,cAC7CG,EAAY3C,OAAOrE,KAAKqG,gBAAkB,IAAIO,OAAOC,cAE3D,OAAKF,GAAQG,GAAaC,GAAUC,GAE5BhH,KAAK5B,UAAY,IAAI6I,OAAQC,IACnC,MAAMC,EAAQD,QAAkBR,IAAXQ,EAAI9E,IAA+B,OAAX8E,EAAI9E,GAAciC,OAAO6C,EAAI9E,IAAIyE,cAAgB,GACxFO,EAAaF,GAAOA,EAAIlI,QAAUqF,OAAO6C,EAAIlI,SAAS6H,cAAgB,GACtEQ,EAAUH,GAAOA,EAAIpP,KAAOuM,OAAO6C,EAAIpP,MAAM+O,cAAgB,GAC7DS,EAAcJ,GAAOA,EAAIK,SAAWlD,OAAO6C,EAAIK,UAAUV,cAAgB,GAEzEW,GAAQb,GAAOQ,EAAMM,SAASd,GAC9Be,GAAaZ,GAAYM,EAAWK,SAASX,GAC7Ca,GAAUZ,GAASM,EAAQI,SAASV,GACpCa,GAAcZ,GAAaM,EAAYG,SAAST,GAEtD,OAAOQ,GAAQE,GAAaC,GAAUC,IAbc5H,KAAK5B,QAe7D,GAEF,aAAM2B,GACJ,IACE,MAAM,KAACxC,EAAI,MAAEvD,SAAeiD,EAC3BO,KAAML,GACNO,OAAO,KACR,GAAI1D,EAAO,MAAMA,EACjBgG,KAAK5B,SAAWb,CAClB,CAAC,MAAOvD,GACNgD,QAAQhD,MAAM,uBAAwBA,EACxC,CACF,GCzHF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,KAEpE,U,UC8ByBhC,MAAM,W,+WApC7Bd,EAAAA,EAAAA,IA8FcsB,EAAA,CA9FDC,MAAA,IAAK,C,iBAChB,IA4FQ,EA5FRrB,EAAAA,EAAAA,IA4FQsB,EAAA,M,iBA3FN,IA0FQ,EA1FRtB,EAAAA,EAAAA,IA0FQuB,EAAA,CA1FDC,KAAK,MAAI,C,iBACd,IAwFS,EAxFTxB,EAAAA,EAAAA,IAwFSyB,EAAA,M,iBAvFP,IAEe,EAFfzB,EAAAA,EAAAA,IAEe0B,EAAA,M,iBADb,IAAgC,IAAApB,EAAA,KAAAA,EAAA,KAAhCsB,EAAAA,EAAAA,IAAgC,MAA5BhB,MAAM,WAAU,WAAO,O,OAE7BZ,EAAAA,EAAAA,IAmFcmC,EAAA,M,iBAlFZ,IAAoD,EAApDnC,EAAAA,EAAAA,IAAoDyQ,EAAA,CAA7B/M,SAAQ5B,EAAA4O,mBAAiB,qBAIlCzO,EAAA0O,e,WAAd7Q,EAAAA,EAAAA,IA8BS2B,EAAA,C,MA9BmBb,MAAM,OAAOgQ,UAAU,K,kBACjD,IAAiD,EAAjD5Q,EAAAA,EAAAA,IAAiD0B,EAAA,M,iBAAnC,IAAoB,IAAApB,EAAA,KAAAA,EAAA,K,QAApB,wBAAoB,O,OAClCN,EAAAA,EAAAA,IA2BcmC,EAAA,M,iBA1BZ,IAyBQ,EAzBRnC,EAAAA,EAAAA,IAyBQsB,EAAA,M,iBAxBN,IAQQ,EARRtB,EAAAA,EAAAA,IAQQuB,EAAA,CARDC,KAAK,MAAI,C,iBACd,IAMgB,EANhBxB,EAAAA,EAAAA,IAMgB6Q,EAAA,C,WANQ5O,EAAA6O,iB,qCAAA7O,EAAA6O,iBAAgB/N,GAAE+M,IAAA,I,kBACxC,IAAwC,EAAxC9P,EAAAA,EAAAA,IAAwC+Q,EAAA,CAA/BxN,MAAM,IAAKmF,MAAO,KAC3B1I,EAAAA,EAAAA,IAAwC+Q,EAAA,CAA/BxN,MAAM,IAAKmF,MAAO,KAC3B1I,EAAAA,EAAAA,IAAwC+Q,EAAA,CAA/BxN,MAAM,IAAKmF,MAAO,KAC3B1I,EAAAA,EAAAA,IAAwC+Q,EAAA,CAA/BxN,MAAM,IAAKmF,MAAO,KAC3B1I,EAAAA,EAAAA,IAA0D+Q,EAAA,CAAjDxN,MAAM,SAAUmF,MAAOzG,EAAA+O,gB,mDAGd/O,EAAA6O,mBAAqB7O,EAAA+O,iB,WAA3ClR,EAAAA,EAAAA,IASQyB,EAAA,C,MATDC,KAAK,K,kBACV,IAOgB,EAPhBxB,EAAAA,EAAAA,IAOgBmE,EAAA,C,WANLlC,EAAAgP,oB,qCAAAhP,EAAAgP,oBAAmBlO,GAC5BQ,MAAM,kBACN8G,KAAK,SACL6G,IAAI,IACHnN,IAAK9B,EAAA0O,aAAapI,SACnB/E,SAAA,I,uDAGJxD,EAAAA,EAAAA,IAIQuB,EAAA,CAJDC,KAAK,KAAG,C,iBACb,IAEM,EAFNI,EAAAA,EAAAA,IAEM,MAFNgI,GAEM,EADJhI,EAAAA,EAAAA,IAAqD,cAA7C,iBAAa8H,EAAAA,EAAAA,IAAG5H,EAAAqP,mBAAiB,O,+CAQrClP,EAAA0O,e,WAAd7Q,EAAAA,EAAAA,IA6BS2B,EAAA,C,MA7BmBb,MAAM,OAAOgQ,UAAU,K,kBACjD,IA2Bc,EA3Bd5Q,EAAAA,EAAAA,IA2BcmC,EAAA,M,iBA1BZ,IAQQ,EARRnC,EAAAA,EAAAA,IAQQQ,EAAA,CAPNN,MAAM,UACNyB,KAAK,QACJyP,UAAWtP,EAAAuP,QACXrP,QAASC,EAAAqP,UACTzP,QAAOC,EAAAyP,Y,kBACT,IAED,IAAAjR,EAAA,KAAAA,EAAA,K,QAFC,cAED,O,0CACAN,EAAAA,EAAAA,IASQQ,EAAA,CARNI,MAAM,OACNV,MAAM,YACNyB,KAAK,QACJyP,UAAWtP,EAAAuP,QACXrP,QAASC,EAAAuP,eACT3P,QAAOC,EAAA2P,iB,kBACT,IAED,IAAAnR,EAAA,KAAAA,EAAA,K,QAFC,iBAED,O,yCAEQ2B,EAAAyP,c,WADR5R,EAAAA,EAAAA,IAMUsK,EAAA,C,MAJPC,KAAMpI,EAAA0P,gBACP/Q,MAAM,Q,kBAEN,IAAiB,E,iBAAdqB,EAAAyP,aAAW,K,oEAMpB1R,EAAAA,EAAAA,IAYE4R,EAAA,CAXCvO,MAAOpB,EAAA4P,KAAKxO,MACZrB,QAASC,EAAA6P,iBACTC,UAAW9P,EAAA+P,eACX,iBAAgB/P,EAAAgQ,cAChBrD,QAAS3M,EAAAiQ,YACT,eAAcjQ,EAAAkQ,gBACdC,YAAYtQ,EAAAuQ,gBACZC,aAAaxQ,EAAAyQ,iBACbC,QAAO1Q,EAAA2Q,YACPC,WAAU5Q,EAAA6Q,eACVC,gBAAgB9Q,EAAA+Q,oB,gNC1CTjS,MAAM,mB,qBAEWA,MAAM,yB,UACaA,MAAM,Q,UACNA,MAAM,yB,UACgBA,MAAM,Q,UACNA,MAAM,yB,8bApDpFd,EAAAA,EAAAA,IAyDS2B,EAAA,M,iBAxDP,IAuDc,EAvDdzB,EAAAA,EAAAA,IAuDcmC,EAAA,M,iBAtDZ,IAsCqB,EAtCrBnC,EAAAA,EAAAA,IAsCqBwK,EAAA,C,WAtCQvI,EAAA6Q,Y,qCAAA7Q,EAAA6Q,YAAW/P,GAAEpC,QAAQ,YAAYC,MAAM,Q,kBAClE,IAKoB,EALpBZ,EAAAA,EAAAA,IAKoB8K,EAAA,M,iBAJlB,IAA0D,EAA1D9K,EAAAA,EAAAA,IAA0DiL,EAAA,M,iBAAjC,IAAO,IAAA3K,EAAA,KAAAA,EAAA,K,QAAP,WAAO,O,OAChCN,EAAAA,EAAAA,IAEyB6L,EAAA,M,iBADvB,IAA6C,EAA7C7L,EAAAA,EAAAA,IAA6C+S,EAAA,C,WAAnB9Q,EAAA+Q,gB,qCAAA/Q,EAAA+Q,gBAAejQ,I,uCAIlBd,EAAA+Q,kB,WAA3BlT,EAAAA,EAAAA,IAKoBgL,EAAA,CAAAC,IAAA,I,iBAJlB,IAAwD,EAAxD/K,EAAAA,EAAAA,IAAwDiL,EAAA,M,iBAA/B,IAAK,IAAA3K,EAAA,KAAAA,EAAA,K,QAAL,SAAK,O,OAC9BN,EAAAA,EAAAA,IAEyB6L,EAAA,M,iBADvB,IAAoE,EAApE7L,EAAAA,EAAAA,IAAoEiT,EAAA,CAApDrL,QAAS3F,EAAA+Q,gB,WAA0B/Q,EAAAiR,c,qCAAAjR,EAAAiR,cAAanQ,I,kEAIzCd,EAAAiR,gB,WAA3BpT,EAAAA,EAAAA,IAUoBgL,EAAA,CAAAC,IAAA,I,iBATlB,IAA0D,EAA1D/K,EAAAA,EAAAA,IAA0DiL,EAAA,M,iBAAjC,IAAO,IAAA3K,EAAA,KAAAA,EAAA,K,QAAP,WAAO,O,OAChCN,EAAAA,EAAAA,IAOyB6L,EAAA,M,iBANvB,IAKE,EALF7L,EAAAA,EAAAA,IAKEmT,EAAA,CAJCvL,QAAS3F,EAAA+Q,gBACT9S,MAAO+B,EAAAiR,c,WACCjR,EAAAmR,gB,qCAAAnR,EAAAmR,gBAAerQ,GACvBsQ,UAASvR,EAAAwR,kB,sFAKWrR,EAAAiR,gB,WAA3BpT,EAAAA,EAAAA,IAUoBgL,EAAA,CAAAC,IAAA,I,iBATlB,IAAwD,EAAxD/K,EAAAA,EAAAA,IAAwDiL,EAAA,M,iBAA/B,IAAK,IAAA3K,EAAA,KAAAA,EAAA,K,QAAL,SAAK,O,OAC9BN,EAAAA,EAAAA,IAOyB6L,EAAA,M,iBANvB,IAKE,EALF7L,EAAAA,EAAAA,IAKEuT,EAAA,C,WAJStR,EAAAuR,c,qCAAAvR,EAAAuR,cAAazQ,GACrB6E,QAAS3F,EAAA+Q,gBACT9S,MAAO+B,EAAAiR,cACP5G,QAASrK,EAAAmR,iB,8GAMlBpT,EAAAA,EAAAA,IAaQsB,EAAA,CAbDV,MAAM,QAAM,C,iBACjB,IAWQ,EAXRZ,EAAAA,EAAAA,IAWQuB,EAAA,CAXDC,KAAK,KAAK0B,GAAG,K,kBAPY,IAG5B,CAKajB,EAAAW,Q,WAAf9C,EAAAA,EAAAA,IAA8EsK,EAAA,C,MAAxDC,KAAK,QAAQ2B,QAAQ,e,kBAAc,IAAW,E,iBAAR/J,EAAAW,OAAK,K,OACnCX,EAAAD,U,WAA9BlC,EAAAA,EAAAA,IAAqD2T,EAAA,C,MAAdpJ,KAAK,Y,WAC5CL,EAAAA,EAAAA,IAOM,MAPNJ,GAOM,CANQ3H,EAAAuR,gB,WAAZxJ,EAAAA,EAAAA,IAA2C,OAAAH,GAAhB,e,eACf5H,EAAAuR,gB,WAAZxJ,EAAAA,EAAAA,IAAqF,OAArFD,IAAqFL,EAAAA,EAAAA,IAAzB5H,EAAA4R,iBAAe,K,eAC/DzR,EAAAuR,eAAiBvR,EAAAmR,kB,WAA7BpJ,EAAAA,EAAAA,IAA0E,OAA1EC,GAA2D,c,eAC/ChI,EAAAuR,eAAiBvR,EAAAmR,kB,WAA7BpJ,EAAAA,EAAAA,IAA0G,OAA1GM,IAA0GZ,EAAAA,EAAAA,IAA3BzH,EAAAmR,iBAAkB,KAAE,K,eACvFnR,EAAAuR,eAA2B,OAAVvR,EAAAoG,YAA4BiH,IAAVrN,EAAAoG,Q,WAA/C2B,EAAAA,EAAAA,IAA8F,OAA9FO,GAAiF,Y,eACrEtI,EAAAuR,eAA2B,OAAVvR,EAAAoG,YAA4BiH,IAAVrN,EAAAoG,Q,WAA/C2B,EAAAA,EAAAA,IAAqH,OAArHqB,GAAkG,KAAC3B,EAAAA,EAAAA,IAAGzH,EAAAoG,OAAK,K,0LCpDrHvI,EAAAA,EAAAA,IAsBiB6T,EAAA,CArBdtQ,MAAOpB,EAAA2R,WACP5R,QAASC,EAAAD,QACT,cAAa2H,EAAAkK,WACd,aAAW,QACX,aAAW,QACXtQ,MAAM,QACNc,YAAY,iBACZS,UAAA,GACC,sBAAoBhD,EAAAgS,U,CAEVnM,MAAIwD,EAAAA,EAAAA,IACb,EADiB0B,QAAOlF,UAAI,EAC5B3H,EAAAA,EAAAA,IAQciM,GARd8H,EAAAA,EAAAA,IAQclH,EAPC,CACZuE,UAAsC,IAA5BzJ,GAAMqM,KAAKC,aACrBrT,MAAO+G,GAAMqM,KAAKC,aAAe,gBAAkB,K,kBAEpD,IAEoB,EAFpBjU,EAAAA,EAAAA,IAEoBmM,EAAA,M,iBADlB,IAAsB,E,iBAAnBxE,GAAMqM,KAAKzQ,OAAK,K,8HCjB7B,MAAMwC,GAAa,YAEZC,eAAekO,KACpB,MAAM,KAAE/N,EAAI,MAAEvD,SAAgBiD,EAC3BO,KAAKL,IACLO,OAAO,kBACP6N,IAAI,OAAQ,KAAM,MAClBA,IAAI,WAAY,KAAM,MAEzB,GAAIvR,EAAO,MAAMA,EAEjB,MAAMwR,EAAO,IAAI3M,IACX4M,EAAS,GACTC,EAAWC,GAAKtH,OAAOsH,GAAG/E,OAAOgF,QAAQ,OAAQ,KACvD,IAAK,MAAM1E,KAAO3J,EAAM,CACtB,MAAMzF,EAAO4T,EAASxE,EAAIpP,MACpByP,EAAWmE,EAASxE,EAAIK,UACxBpF,EAAM,GAAGrK,EAAK+O,kBAAkBU,EAASV,gBAC1C2E,EAAKK,IAAI1J,KACZqJ,EAAKM,IAAI3J,GACTsJ,EAAOM,KAAK,CACVjU,OACAyP,WACA5M,MAAO,GAAG7C,OAAUyP,MAG1B,CACA,OAAOkE,EAAOO,KAAK,CAACC,EAAGC,IAAMD,EAAEtR,MAAMwR,cAAcD,EAAEvR,OACvD,CAGOyC,eAAeuB,KACpB,MAAM,KAAEpB,EAAI,MAAEvD,SAAgBiD,EAC3BO,KAAKL,IACLO,OAAO,WACP6N,IAAI,UAAW,KAAM,MAExB,GAAIvR,EAAO,MAAMA,EAEjB,MAAMoS,EAAM,IAAIvN,KAAKtB,GAAQ,IAAIuB,IAAIuN,GAAKhI,OAAOgI,EAAErN,SAAS4H,OAAOC,gBACnE,OAAO3C,MAAM1G,KAAK4O,GAAKJ,MACzB,CAGO5O,eAAekP,GAAqBtN,GACzC,MAAM,KAAEzB,EAAI,MAAEvD,SAAgBiD,EAC3BO,KAAKL,IACLO,OAAO,SACP6O,MAAM,UAAWvN,GACjBuM,IAAI,QAAS,KAAM,MAEtB,GAAIvR,EAAO,MAAMA,EAEjB,MAAMoS,EAAM,IAAIvN,KAAKtB,GAAQ,IAAIuB,IAAIuN,GAAKhI,OAAOgI,EAAE/U,OAAOsP,OAAOC,gBACjE,OAAO3C,MAAM1G,KAAK4O,GAAKJ,MACzB,CAGO5O,eAAeoP,GAA4BxN,EAAS1H,GACzD,MAAM,KAAEiG,EAAI,MAAEvD,SAAgBiD,EAC3BO,KAAKL,IACLO,OAAO,WACP6O,MAAM,UAAWvN,GACjBuN,MAAM,QAASjV,GACfiU,IAAI,UAAW,KAAM,MAExB,GAAIvR,EAAO,MAAMA,EAEjB,MAAMoS,EAAM,IAAIvN,KAAKtB,GAAQ,IAAIuB,IAAIuN,GAAKhI,OAAOgI,EAAE3I,SAASkD,SAC5D,OAAO1C,MAAM1G,KAAK4O,GAAKJ,KAAK,CAACC,EAAGC,IAAMO,OAAOR,GAAKQ,OAAOP,GAC3D,CAGO9O,eAAesP,GAAiC1N,EAAS1H,EAAOoM,GACrE,IAAI7F,EAAQZ,EACTO,KAAKL,IACLO,OAAO,4BACP6O,MAAM,UAAWvN,GACjBuN,MAAM,QAASjV,GAElB,QAAgBoP,IAAZhD,GAAqC,OAAZA,GAAgC,KAAZA,EAAgB,CAC/D,MAAMiJ,EAAgBF,OAAO/I,GAC7B7F,EAAQ4O,OAAOG,MAAMD,GACjB9O,EAAMgP,GAAG,UAAWxI,OAAOX,IAC3B7F,EAAMgP,GAAG,UAAWF,EAC1B,MACE9O,EAAQA,EAAMiP,GAAG,gCAGnB,MAAM,KAAEvP,EAAI,MAAEvD,SAAgB6D,EAE9B,GAAI7D,EAAO,MAAMA,EAEjB,MAAM0R,EAAWC,GAAKtH,OAAOsH,GAAG/E,OAAOgF,QAAQ,OAAQ,KACjDmB,EAAY,IAAIC,IACtB,IAAK,MAAM9F,KAAO3J,GAAQ,GAAI,CAC5B,MAAMzF,EAAO4T,EAASxE,EAAIpP,MACpByP,EAAWmE,EAASxE,EAAIK,UACxBpF,EAAM,GAAGrK,EAAK+O,kBAAkBU,EAASV,gBACzCoG,EAAOF,EAAUG,IAAI/K,IAAQ,EAC7BgL,EAAIV,OAAOvF,EAAIvH,UACrBoN,EAAUX,IAAIjK,EAAK8K,GAAQR,OAAOG,MAAMO,GAAK,EAAIA,GACnD,CAEA,MAAMC,EAAU,GAChB,IAAK,MAAOjL,EAAKkL,KAAUN,EAAUO,UAAW,CAC9C,MAAOC,EAAWC,GAAiBrL,EAAI7G,MAAM,MAEvCmS,EAAclQ,EAAKmQ,KAAKxG,GAC5BwE,EAASxE,EAAIpP,MAAM+O,gBAAkB0G,GACrC7B,EAASxE,EAAIK,UAAUV,gBAAkB2G,GAErC1V,EAAO2V,EAAc/B,EAAS+B,EAAY3V,MAAQyV,EAClDhG,EAAWkG,EAAc/B,EAAS+B,EAAYlG,UAAYiG,EAC1DG,EAAYN,EAAQ,EACpBO,EAAY,GAAG9V,OAAUyP,IACzB5M,EAAQgT,EAAYC,EAAY,kBAAkBA,IACxDR,EAAQrB,KAAK,CAAEjU,OAAMyP,WAAU5M,QAAOgT,aACxC,CACA,OAAOP,EAAQpB,KAAK,CAACC,EAAGC,IAAMD,EAAEtR,MAAMwR,cAAcD,EAAEvR,OACxD,CAqDOyC,eAAeyQ,GAAiBC,EAAO9O,EAAS1H,EAAOoM,GAC5D,MAAM,KAAE5L,EAAI,SAAEyP,GAAauG,EAC3B,IAAIjQ,EAAQZ,EACTO,KAAKL,IACLO,OAAO,YACPmP,GAAG,OAAQ/U,GACX+U,GAAG,WAAYtF,GACfgF,MAAM,UAAWvN,GACjBuN,MAAM,QAASjV,GAElB,QAAgBoP,IAAZhD,GAAqC,OAAZA,GAAgC,KAAZA,EAAgB,CAC/D,MAAMiJ,EAAgBF,OAAO/I,GAC7B7F,EAAQ4O,OAAOG,MAAMD,GACjB9O,EAAMgP,GAAG,UAAWxI,OAAOX,IAC3B7F,EAAMgP,GAAG,UAAWF,EAC1B,MAEE9O,EAAQA,EAAMiP,GAAG,gCAGnB,MAAM,KAAEvP,EAAI,MAAEvD,SAAgB6D,EAE9B,GAAI7D,EAAO,MAAMA,EAEjB,IAAIqT,EAAQ,EACZ,IAAK,MAAMnG,KAAO3J,GAAQ,GAAI,CAC5B,MAAM4P,EAAIV,OAAOvF,EAAIvH,UAChB8M,OAAOG,MAAMO,KAAIE,GAASF,EACjC,CACA,OAAOE,CACT,CAEOjQ,eAAe2Q,GAAWD,EAAO9O,EAAS1H,EAAOoM,GACtD,MAAM,KAAE5L,EAAI,SAAEyP,GAAauG,EAC3B,IAAIjQ,EAAQZ,EACTO,KAAKL,IACLO,OAAO,SACPmP,GAAG,OAAQ/U,GACX+U,GAAG,WAAYtF,GACfgF,MAAM,UAAWvN,GACjBuN,MAAM,QAASjV,GAElB,QAAgBoP,IAAZhD,GAAqC,OAAZA,GAAgC,KAAZA,EAAgB,CAC/D,MAAMiJ,EAAgBF,OAAO/I,GAC7B7F,EAAQ4O,OAAOG,MAAMD,GACjB9O,EAAMgP,GAAG,UAAWxI,OAAOX,IAC3B7F,EAAMgP,GAAG,UAAWF,EAC1B,MAEE9O,EAAQA,EAAMiP,GAAG,gCAGnB,MAAM,KAAEvP,EAAI,MAAEvD,SAAgB6D,EAE9B,GAAI7D,EAAO,MAAMA,EAGjB,OAAIuD,GAAQA,EAAKO,OAAS,EACjBP,EAAK,GAAGkC,MAEV,IACT,CAEA,IDjNA,IACE3H,KAAM,gBACNmM,MAAO,CACLgH,WAAY,CACVxJ,KAAM0C,OACN7B,QAAS,MAEXtD,QAAS,CAAEyC,KAAM4C,OAAQ/B,QAAS,IAClChL,MAAO,CAAEmK,KAAM4C,OAAQ/B,QAAS,IAChCoB,QAAS,CAAEjC,KAAM,CAAC4C,OAAQoI,QAASnK,QAAS,KAE9C/E,IAAAA,GACE,MAAO,CACLnE,SAAS,EACT4R,WAAY,GAEhB,EACA9K,QAAS,CACPgL,QAAAA,CAAS8C,GACPhO,KAAKK,MAAM,oBAAqB2N,EAClC,EACA,gBAAMC,GACJjO,KAAK5G,SAAU,EACf,IACE,MAAM8U,QAAkB5C,KACxBtO,QAAQmR,IAAI,uCAAwCD,GAGpD,IAAIE,EAAc,IAAIpB,IACtB,GAAIhN,KAAKhB,SAAWgB,KAAK1I,MAAO,CAC9B,MAAM+W,QAA2B3B,GAAiC1M,KAAKhB,QAASgB,KAAK1I,MAAO0I,KAAK0D,SACjG1G,QAAQmR,IAAI,gDAAiDE,GAC7D,IAAK,MAAM1C,KAAK0C,EAAoB,CAClC,MAAMlM,EAAM,GAAGkC,OAAOsH,EAAE7T,MAAM8O,OAAOgF,QAAQ,OAAQ,KAAK/E,kBAAkBxC,OAAOsH,EAAEpE,UAAUX,OAAOgF,QAAQ,OAAQ,KAAK/E,gBAC3HuH,EAAYhC,IAAIjK,EAAK,CAAEmM,YAAY,EAAMX,UAAWhC,EAAEgC,WACxD,CACF,CAEA,MAAMY,EAAeA,CAACpB,EAAGqB,IAAM,GAAGnK,OAAO8I,GAAGvG,OAAOgF,QAAQ,OAAQ,KAAK/E,kBAAkBxC,OAAOmK,GAAG5H,OAAOgF,QAAQ,OAAQ,KAAK/E,gBAC1H4H,EAAW,IAAIzB,IAGrB,IAAK,MAAMrB,KAAKuC,EAAW,CACzB,MAAM/L,EAAMoM,EAAa5C,EAAE7T,KAAM6T,EAAEpE,UAGnC,GAAIkH,EAAS5C,IAAI1J,GAAM,CACrBnF,QAAQmR,IAAI,4BAA6BxC,EAAE7T,KAAM6T,EAAEpE,UACnD,QACF,CAEA,MAAMmH,EAAWN,EAAYlB,IAAI/K,GAC3BmM,GAAsC,IAAzBI,GAAUJ,WACvBK,GAAuC,IAAxBD,GAAUf,UACzBiB,EAAYvK,OAAOsH,EAAE7T,MAAM8O,OAAOgF,QAAQ,OAAQ,KAClDiD,EAAgBxK,OAAOsH,EAAEpE,UAAUX,OAAOgF,QAAQ,OAAQ,KAEhE,IAAIjR,EAAQ,GAAGiU,OAAeC,IAC1B7O,KAAKhB,SAAWgB,KAAK1I,QAClBgX,EAEOK,IACVhU,EAAQ,kBAAkBA,KAF1BA,EAAQ,mBAAmBA,KAM/B,MAAMmF,EAAQ,CAAEhI,KAAM8W,EAAWrH,SAAUsH,GACrC9P,EAAO,CACXpE,QACAmF,QACAuL,gBAAcrL,KAAKhB,UAAWgB,KAAK1I,SAASgX,GAG9CG,EAASrC,IAAIjK,EAAKpD,GAClB/B,QAAQmR,IAAI,sBAAuBhM,EAAKpD,EAC1C,CAEA,MAAM+P,EAAa5K,MAAM1G,KAAKiR,EAASM,UACvC/R,QAAQmR,IAAI,qBAAsBW,GAGlC,MAAME,EAAW,IAAInQ,IACfoQ,EAAc,GACpB,IAAK,MAAMlQ,KAAQ+P,EAAY,CAC7B,MAAMI,EAAWC,KAAKC,UAAUrQ,EAAKe,OAChCkP,EAASnD,IAAIqD,GAIhBlS,QAAQmR,IAAI,yBAA0BpP,EAAKe,QAH3CkP,EAASlD,IAAIoD,GACbD,EAAYlD,KAAKhN,GAIrB,CAEA/B,QAAQmR,IAAI,oCAAqCc,GACjDjP,KAAKgL,WAAaiE,CACpB,CAAE,MAAOI,GAEPrS,QAAQhD,MAAM,wBAAyBqV,EACzC,CAAE,QACArP,KAAK5G,SAAU,CACjB,CACF,GAEF2G,OAAAA,GACEC,KAAKiO,YACP,EACArJ,MAAO,CACL5F,OAAAA,GAAYgB,KAAKiO,YAAa,EAC9B3W,KAAAA,GAAU0I,KAAKiO,YAAa,EAC5BvK,OAAAA,GAAY1D,KAAKiO,YAAa,IErIlC,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,8ECNE/W,EAAAA,EAAAA,IASE6T,EAAA,CARCvC,UAAU,EACV/N,MAAOpB,EAAAoB,MACPrB,QAASC,EAAAD,QACT,cAAa2H,EAAAkK,WACdtQ,MAAM,UACNc,YAAY,mBACZS,UAAA,GACC,sBAAkBxE,EAAA,KAAAA,EAAA,GAAAyC,GAAEmV,EAAAjP,MAAM,oBAAqBlG,K,0CAQpD,QACErC,KAAM,kBACNmM,MAAO,CACLgH,WAAY,CACVxJ,KAAM4C,OACN/B,QAAS,IAEXwL,MAAO,CACLrM,KAAM0C,OACN7B,QAAS,OAGb/E,IAAAA,GACE,MAAO,CACLnE,SAAS,EACTqB,MAAO,GAEX,EACAmK,MAAO,CACLqG,UAAAA,GAAc,GAEhBlL,OAAAA,GACEC,KAAKuP,MACP,EACArP,QAAS,CACP,UAAMqP,GACJvP,KAAK5G,SAAU,EACf,IACE,MAAMgF,QAAiBO,KACvBqB,KAAKvF,MAAQ2D,EAASN,OAAS,EAAIM,EAAW,CAAC,kBACjD,CAAE,MAAOiR,GAEPrS,QAAQhD,MAAM,0BAA2BqV,GACzCrP,KAAKvF,MAAQ,CAAC,kBAChB,CAAE,QACAuF,KAAK5G,SAAU,CACjB,CACF,ICjDJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,8ECNElC,EAAAA,EAAAA,IASE6T,EAAA,CARCvC,UAAWzH,EAAA/B,QACXvE,MAAOpB,EAAAoB,MACPrB,QAASC,EAAAD,QACT,cAAa2H,EAAAkK,WACdtQ,MAAM,QACNc,YAAY,iBACZS,UAAA,GACC,sBAAkBxE,EAAA,KAAAA,EAAA,GAAAyC,GAAEmV,EAAAjP,MAAM,oBAAqBlG,K,qDAOpD,QACErC,KAAM,gBACNmM,MAAO,CACLgH,WAAY,CACVxJ,KAAM4C,OACN/B,QAAS,IAEXwL,MAAO,CACLrM,KAAM0C,OACN7B,QAAS,MAEXtD,QAAS,CACPyC,KAAM4C,OACN/B,QAAS,KAGb/E,IAAAA,GACE,MAAO,CACLnE,SAAS,EACTqB,MAAO,GAEX,EACAmK,MAAO,CACL5F,QAAS,CACPwQ,OAAAA,GAAYxP,KAAKuP,MAAO,EACxBE,WAAW,IAGfvP,QAAS,CACP,UAAMqP,GACJ,GAAKvP,KAAKhB,QAAV,CAIAgB,KAAK5G,SAAU,EACf,IACE,MAAMsW,QAAepD,GAAqBtM,KAAKhB,SAC/CgB,KAAKvF,MAASiV,GAAUA,EAAO5R,OAAU4R,EAAS,CAAC,kBACrD,CAAE,MAAOL,GAEPrS,QAAQhD,MAAM,wBAAyBqV,GACvCrP,KAAKvF,MAAQ,CAAC,kBAChB,CAAE,QACAuF,KAAK5G,SAAU,CACjB,CAXA,MAFE4G,KAAKvF,MAAQ,EAcjB,ICxDJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,8ECNEvD,EAAAA,EAAAA,IAWE6T,EAAA,CAVCvC,UAAWzH,EAAA/B,UAAY+B,EAAAzJ,MACvBmD,MAAOvB,EAAAyW,aACPvW,QAASC,EAAAD,QACT,cAAa2H,EAAAkK,WACd,aAAW,QACX,aAAW,QACXtQ,MAAM,UACNc,YAAY,iBACZS,UAAA,GACC,sBAAkBxE,EAAA,KAAAA,EAAA,GAAAyC,GAAEmV,EAAAjP,MAAM,oBAAqBlG,K,qDAOpD,QACErC,KAAM,kBACNmM,MAAO,CACLgH,WAAY,CACVxJ,KAAM,CAAC4C,OAAQoI,QACfnK,QAAS,IAEXwL,MAAO,CAAErM,KAAM0C,OAAQ7B,QAAS,MAChCtD,QAAS,CAAEyC,KAAM4C,OAAQ/B,QAAS,IAClChL,MAAO,CAAEmK,KAAM4C,OAAQ/B,QAAS,KAElC1C,MAAO,CAAC,oBAAqB,WAC7BrC,IAAAA,GACE,MAAO,CACLnE,SAAS,EACTqB,MAAO,GAEX,EACA8J,SAAU,CACRoL,YAAAA,GACE,OAAO3P,KAAKvF,MAAMqE,IAAI8Q,GACd,oBAANA,EACI,CAAEjV,MAAO,kBAAmBmF,MAAO,IACnC,CAAEnF,MAAO,GAAGiV,MAAO9P,MAAO8P,GAElC,GAEFhL,MAAO,CACL5F,QAAS,CAAEwQ,OAAAA,GAAYxP,KAAKuP,MAAO,EAAGE,WAAW,GACjDnY,KAAAA,GAAU0I,KAAKuP,MAAO,GAExBrP,QAAS,CACP,UAAMqP,GACJ,IAAKvP,KAAKhB,UAAYgB,KAAK1I,MAGzB,OAFA0I,KAAKvF,MAAQ,QACbuF,KAAKK,MAAM,UAAW,GAGxBL,KAAK5G,SAAU,EACf,IACE,MAAMyW,QAAiBrD,GAA4BxM,KAAKhB,QAASgB,KAAK1I,OACtE0I,KAAKvF,MAASoV,GAAYA,EAAS/R,OAAU+R,EAAW,CAAC,mBACzD7P,KAAKK,MAAM,UAAWL,KAAKvF,MAAMqD,QACP,IAAtBkC,KAAKvF,MAAMqD,QAEbkC,KAAKK,MAAM,oBAAqB,GAEpC,CAAE,MAAOgP,GAEPrS,QAAQhD,MAAM,0BAA2BqV,GACzCrP,KAAKvF,MAAQ,CAAC,mBACduF,KAAKK,MAAM,UAAW,EACxB,CAAE,QACAL,KAAK5G,SAAU,CACjB,CACF,ICpEJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,UT6DA,IACEtB,KAAM,uBACN2N,WAAY,CAAEqK,cAAa,GAAEC,gBAAe,GAAEC,cAAa,GAAEC,gBAAeA,IAC5ErQ,MAAO,CAAC,UACRrC,IAAAA,GACE,MAAO,CACLqN,cAAe,KACfR,gBAAiB,GACjBE,cAAe,GACfE,gBAAiB,GACjBpR,SAAS,EACTY,MAAO,GACP2F,SAAU,KACVF,MAAO,KACPyQ,oBAAqB,EACrBhG,YAAa,EAEjB,EACA3F,SAAU,CACRuG,eAAAA,GACE,OAAyB,OAAlB9K,KAAKL,SAAoB,IAAMK,KAAKL,QAC7C,EACAwQ,oBAAAA,GACE,QAASnQ,KAAK4K,iBAAmB5K,KAAKoK,mBAAqBpK,KAAKsK,aAClE,GAEF1F,MAAO,CACLwF,eAAAA,GAAoBpK,KAAKoQ,oBAAqBpQ,KAAKqQ,gBAAiBrQ,KAAKkK,YAAc,CAAE,EACzFI,aAAAA,GAAkBtK,KAAKsQ,kBAAmBtQ,KAAKqQ,gBAAiBrQ,KAAKkK,YAAc,CAAE,EACrFM,eAAAA,GAAoBxK,KAAKqQ,gBAAiBrQ,KAAKkK,YAAc,CAAE,EAC/DU,aAAAA,GAAkB5K,KAAKuQ,eAAgBvQ,KAAKkK,YAAc,CAAE,GAE9DhK,QAAS,CACPwK,gBAAAA,CAAiB8F,GACfxQ,KAAKkQ,oBAAsBM,CAC7B,EACAJ,iBAAAA,GACEpQ,KAAKsK,cAAgB,GACrBtK,KAAKwK,gBAAkB,GACvBxK,KAAK4K,cAAgB,KACrB5K,KAAKkQ,oBAAsB,EAC3BlQ,KAAKL,SAAW,KAChBK,KAAKP,MAAQ,IACf,EACA6Q,eAAAA,GACEtQ,KAAKwK,gBAAkB,GACvBxK,KAAK4K,cAAgB,KACrB5K,KAAKkQ,oBAAsB,EAC3BlQ,KAAKL,SAAW,KAChBK,KAAKP,MAAQ,IACf,EACA4Q,aAAAA,GACErQ,KAAKK,MAAM,SAAU,CACnByN,MAAO9N,KAAK4K,cACZ5L,QAASgB,KAAKoK,gBACd9S,MAAO0I,KAAKsK,cACZ5G,QAAS1D,KAAKwK,iBAElB,EACA,kBAAM+F,GAGJ,GAFAvQ,KAAKqQ,iBAEArQ,KAAK4K,gBAAkB5K,KAAKoK,kBAAoBpK,KAAKsK,cAGxD,OAFAtK,KAAKL,SAAW,UAChBK,KAAKP,MAAQ,MAIfO,KAAK5G,SAAU,EACf4G,KAAKhG,MAAQ,GACb,IACE,MAAOyW,EAAKhR,SAAeU,QAAQC,IAAI,CACrCyN,GAAiB7N,KAAK4K,cAAe5K,KAAKoK,gBAAiBpK,KAAKsK,cAAetK,KAAKwK,iBACpFuD,GAAW/N,KAAK4K,cAAe5K,KAAKoK,gBAAiBpK,KAAKsK,cAAetK,KAAKwK,mBAEhFxK,KAAKL,SAAW8Q,EAChBzQ,KAAKP,MAAQA,CACf,CAAE,MAAO4P,GACPrP,KAAKhG,MAAQ,sBAEbgD,QAAQhD,MAAMqV,EAChB,CAAE,QACArP,KAAK5G,SAAU,CACjB,CACF,IUnJJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,gBCEqCpB,MAAM,e,UAO3BA,MAAM,a,UACNA,MAAM,a,0BA6BXA,MAAM,4B,IACJA,MAAM,oB,wPA9CjBd,EAAAA,EAAAA,IAuDS2B,EAAA,CAvDDb,MAAM,OAAOgQ,UAAU,K,kBAC7B,IAKe,EALf5Q,EAAAA,EAAAA,IAKe0B,EAAA,M,iBALD,IAEZ,C,qBAFY,UAEZ,KAAA1B,EAAAA,EAAAA,IAAYO,IACZP,EAAAA,EAAAA,IAAoJQ,EAAA,CAA7II,MAAM,OAAOV,MAAM,UAAUS,QAAQ,OAAQyQ,SAA2B,IAAjBzH,EAAAtG,MAAMqD,QAAgBiD,EAAA3H,QAAUH,QAAKvB,EAAA,KAAAA,EAAA,GAAAyC,GAAEmV,EAAAjP,MAAM,oB,kBAAmB,IAAc,IAAA3I,EAAA,KAAAA,EAAA,K,QAAd,kBAAc,O,sBAC5IN,EAAAA,EAAAA,IAAwGQ,EAAA,CAAjGN,MAAM,QAAQS,QAAQ,OAAQyQ,SAA2B,IAAjBzH,EAAAtG,MAAMqD,OAAe7E,QAAKvB,EAAA,KAAAA,EAAA,GAAAyC,GAAEmV,EAAAjP,MAAM,W,kBAAU,IAAK,IAAA3I,EAAA,KAAAA,EAAA,K,QAAL,SAAK,O,8BAElGN,EAAAA,EAAAA,IA+CcmC,EAAA,M,iBA9CZ,IAAsE,CAA1C,IAAjBwH,EAAAtG,MAAMqD,S,WAAjBsD,EAAAA,EAAAA,IAAsE,MAAtEJ,GAAmD,oB,WACnD9J,EAAAA,EAAAA,IAmCUwZ,EAAA,C,MAnCMtN,QAAQ,e,kBACtB,IAUQ,EAVRpK,EAAAA,EAAAA,IAUQ,eATNA,EAAAA,EAAAA,IAQK,W,aAPHA,EAAAA,EAAAA,IAAkC,MAA9BhB,MAAM,aAAY,WAAO,I,aAC7BgB,EAAAA,EAAAA,IAAgC,MAA5BhB,MAAM,aAAY,SAAK,I,aAC3BgB,EAAAA,EAAAA,IAAkC,MAA9BhB,MAAM,aAAY,WAAO,IACDkB,EAAAyX,e,WAA5BvP,EAAAA,EAAAA,IAAyD,KAAzDH,GAA0C,gB,eACd/H,EAAAyX,e,WAA5BvP,EAAAA,EAAAA,IAAuD,KAAvDD,GAA0C,c,4BAC1CnI,EAAAA,EAAAA,IAAoD,MAAhDhB,MAAM,YAAY4Y,MAAA,iBAAsB,OAAG,I,eAC/C5X,EAAAA,EAAAA,IAAgD,MAA5ChB,MAAM,YAAY4Y,MAAA,gB,eAG1B5X,EAAAA,EAAAA,IAsBQ,gB,aArBNoI,EAAAA,EAAAA,IAoBKU,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IApBchB,EAAAtG,MAARsE,K,WAAXqC,EAAAA,EAAAA,IAoBK,MApBsBe,IAAKpD,EAAKoD,K,EACnCnJ,EAAAA,EAAAA,IAA2B,WAAA8H,EAAAA,EAAAA,IAApB/B,EAAKC,SAAO,IACnBhG,EAAAA,EAAAA,IAAyB,WAAA8H,EAAAA,EAAAA,IAAlB/B,EAAKzH,OAAK,IACjB0B,EAAAA,EAAAA,IAAkC,WAAA8H,EAAAA,EAAAA,IAA3B/B,EAAK2E,SAAW,KAAJ,GACTxK,EAAAyX,e,WAAVvP,EAAAA,EAAAA,IAA6D,KAAAC,IAAAP,EAAAA,EAAAA,IAAlC5H,EAAA2X,iBAAiB9R,EAAKoD,MAAG,K,eAC1CjJ,EAAAyX,e,WAAVvP,EAAAA,EAAAA,IAA2E,KAAAM,IAAAZ,EAAAA,EAAAA,IAAhD5H,EAAA4X,gBAAgB/R,EAAKoD,IAAKpD,EAAKY,WAAQ,K,gBAClE3G,EAAAA,EAAAA,IAUK,YATH5B,EAAAA,EAAAA,IAQEmE,EAAA,CAPAkG,KAAK,SACL6G,IAAI,IACJlF,QAAQ,UACRrL,QAAQ,WACR,kBACC,cAAagH,EAAKY,SAClB,sBAAoBiQ,GAAK1W,EAAAsQ,YAAYzK,EAAKoD,IAAKyN,I,iDAGpD5W,EAAAA,EAAAA,IAEK,YADH5B,EAAAA,EAAAA,IAAgGQ,EAAA,CAAzFN,MAAM,QAAQS,QAAQ,OAAOI,KAAK,aAAcc,QAAKkB,GAAEmV,EAAAjP,MAAM,cAAetB,EAAKoD,M,4CAKhGnJ,EAAAA,EAAAA,IAOM,MAPN2I,GAOM,EANJ3I,EAAAA,EAAAA,IAGM,MAHNyJ,GAGM,C,uBAHwB,oDAE5B,IAAYvJ,EAAAyX,cAAkC,OAAlB5P,EAAAsI,gB,WAA5BjI,EAAAA,EAAAA,IAAmH,OAAAsB,GAA/D,wBAAoB5B,EAAAA,EAAAA,IAAG5H,EAAA6X,gBAAgBhQ,EAAAsI,gBAAa,K,kBAE1GjS,EAAAA,EAAAA,IAAYO,IACZP,EAAAA,EAAAA,IAAoIQ,EAAA,CAA7HN,MAAM,UAAWkR,SAA2B,IAAjBzH,EAAAtG,MAAMqD,QAAgBiD,EAAA3H,QAAUA,QAAS2H,EAAA3H,QAAUH,QAAKvB,EAAA,KAAAA,EAAA,GAAAyC,GAAEmV,EAAAjP,MAAM,c,kBAAa,IAAa,IAAA3I,EAAA,MAAAA,EAAA,M,QAAb,iBAAa,O,iCAE/GqJ,EAAAiF,U,WAAf9O,EAAAA,EAAAA,IAAgFsK,EAAA,C,MAAvDC,KAAMV,EAAAiQ,YAAahZ,MAAM,Q,kBAAO,IAAa,E,iBAAV+I,EAAAiF,SAAO,K,kDAMzE,QACElO,KAAM,YACNmM,MAAO,CACLxJ,MAAO,CACLgH,KAAMyC,MACN5B,QAASA,IAAM,IAEjBlJ,QAAS,CACPqI,KAAM2C,QACN9B,SAAS,GAEX6G,UAAW,CACT1H,KAAM0C,OACN7B,QAAS,MAEX+G,cAAe,CACb5H,KAAMgL,OACNnK,QAAS,MAEX0D,QAAS,CACPvE,KAAM4C,OACN/B,QAAS,IAEX0O,YAAa,CACXvP,KAAM4C,OACN/B,QAAS,YAGb1C,MAAO,CAAC,aAAc,cAAe,QAAS,WAAY,kBAC1D2E,SAAU,CACRoM,YAAAA,GACE,QAAS3Q,KAAKmJ,SAChB,GAEFjJ,QAAS,CACPsJ,WAAAA,CAAYrH,EAAKrC,GACf,MAAMqN,EAAI8D,SAASnR,EAAO,IAC1BE,KAAKK,MAAM,aAAc,CAAE8B,MAAKxC,SAAU8M,OAAOG,MAAMO,GAAK,EAAIA,GAClE,EACA4D,eAAAA,CAAgB5D,GACd,MAAM+D,EAAMzE,OAAOU,IAAM,EACzB,MAAO,IAAI+D,EAAIC,QAAQ,IACzB,EACAN,gBAAAA,CAAiB1O,GACf,OAAKnC,KAAKmJ,gBAAqCzC,IAAxB1G,KAAKmJ,UAAUhH,IAA8C,OAAxBnC,KAAKmJ,UAAUhH,GACpEnC,KAAK+Q,gBAAgB/Q,KAAKmJ,UAAUhH,IADsD,GAEnG,EACA2O,eAAAA,CAAgB3O,EAAKsO,GACnB,IAAKzQ,KAAKmJ,gBAAqCzC,IAAxB1G,KAAKmJ,UAAUhH,IAA8C,OAAxBnC,KAAKmJ,UAAUhH,GAAe,MAAO,IACjG,MAAMiP,EAAO3E,OAAOzM,KAAKmJ,UAAUhH,KAAS,EACtCkP,EAAI5E,OAAOgE,IAAQ,EACzB,OAAOzQ,KAAK+Q,gBAAgBK,EAAOC,EACrC,IC3GJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,UCLA,MAAMC,GAAmB,WAEzB,SAASC,GAAoB7N,GAC3B,YAAgBgD,IAAZhD,GAAqC,OAAZA,GAAgC,KAAZA,EAAuB,OACjEW,OAAOX,EAChB,CAEO,SAAS8N,KACd,IACE,MAAMpG,EAAMqG,aAAaC,QAAQJ,IACjC,IAAKlG,EAAK,MAAO,CAAE0C,MAAO,KAAMrT,MAAO,IACvC,MAAMkX,EAASxC,KAAKyC,MAAMxG,GAC1B,OAAKuG,GAA4B,kBAAXA,EACf,CAAE7D,MAAO6D,EAAO7D,OAAS,KAAMrT,MAAOyJ,MAAM2N,QAAQF,EAAOlX,OAASkX,EAAOlX,MAAQ,IADxC,CAAEqT,MAAO,KAAMrT,MAAO,GAE1E,CAAE,MAAOqX,GACP,MAAO,CAAEhE,MAAO,KAAMrT,MAAO,GAC/B,CACF,CAEO,SAASsX,GAAS9I,GACvBwI,aAAaO,QAAQV,GAAkBnC,KAAKC,UAAUnG,GACxD,CAEO,SAASgJ,KACd,MAAMC,EAAQ,CAAEpE,MAAO,KAAMrT,MAAO,IAEpC,OADAsX,GAASG,GACFA,CACT,CAMO,SAASC,GAAQlJ,EAAM6E,EAAOsE,GAEnC,GAAInJ,EAAKxO,MAAMqD,OAAS,EAAG,CACzB,MAAM,KAAEhG,EAAI,SAAEyP,GAAa0B,EAAK6E,OAAS,CAAC,EAC1C,IAAKA,GAASA,EAAMhW,OAASA,GAAQgW,EAAMvG,WAAaA,EACtD,MAAO,CAAE0B,OAAMjP,MAAO,8CAE1B,CAEA,MAAMqY,EAAad,GAAoBa,EAAK1O,SACtCvB,EAAM,GAAGkC,OAAO+N,EAAKpT,SAAS6H,iBAAiBxC,OAAO+N,EAAK9a,OAAOuP,iBAAiBwL,IAEnFC,EAAO,CAAExE,MAA6B,IAAtB7E,EAAKxO,MAAMqD,OAAegQ,EAAQ7E,EAAK6E,MAAOrT,MAAO,IAAIwO,EAAKxO,QAE9E8X,EAAMD,EAAK7X,MAAM+X,UAAUjN,GAAKA,EAAEpD,MAAQA,GAChD,GAAIoQ,GAAO,EAAG,CACZ,MAAME,EAAWH,EAAK7X,MAAM8X,GAC5BD,EAAK7X,MAAMiY,OAAOH,EAAK,EAAG,IAAKE,EAAU9S,SAAU8M,OAAOgG,EAAS9S,UAAY8M,OAAO2F,EAAKzS,WAC7F,MACE2S,EAAK7X,MAAMsR,KAAK,CACd5J,MACAnD,QAASoT,EAAKpT,QACd1H,MAAO8a,EAAK9a,MACZoM,QAAS0O,EAAK1O,QACd/D,SAAU8M,OAAO2F,EAAKzS,YAK1B,OADAoS,GAASO,GACF,CAAErJ,KAAMqJ,EACjB,CAEO,SAASK,GAAe1J,EAAM2J,EAASjT,GAC5C,MAAM8Q,EAAMjM,KAAKrJ,IAAI,EAAGsR,OAAO9M,IAAa,GACtC2S,EAAO,CAAExE,MAAO7E,EAAK6E,MAAOrT,MAAOwO,EAAKxO,MAAMqE,IAAIyG,GAAMA,EAAEpD,MAAQyQ,EAAU,IAAKrN,EAAG5F,SAAU8Q,GAAQlL,IAEtGsN,EAAW,CAAE/E,MAAOwE,EAAKxE,MAAOrT,MAAO6X,EAAK7X,MAAMwM,OAAO1B,GAAKA,EAAE5F,SAAW,IAGjF,OAF8B,IAA1BkT,EAASpY,MAAMqD,SAAc+U,EAAS/E,MAAQ,MAClDiE,GAASc,GACFA,CACT,CAEO,SAASC,GAAW7J,EAAM2J,GAC/B,MAAMN,EAAO,CAAExE,MAAO7E,EAAK6E,MAAOrT,MAAOwO,EAAKxO,MAAMwM,OAAO1B,GAAKA,EAAEpD,MAAQyQ,IAG1E,OAF0B,IAAtBN,EAAK7X,MAAMqD,SAAcwU,EAAKxE,MAAQ,MAC1CiE,GAASO,GACFA,CACT,CChFO,SAASS,GAAqBrP,GACnC,MAAgB,KAAZA,GAA8B,OAAZA,QAAgCgD,IAAZhD,EACjC,KAEFA,CACT,CAEOtG,eAAe4V,IAAqB,MAAElF,EAAK,QAAE9O,EAAO,MAAE1H,EAAK,QAAEoM,IAClE,MAAM,KAAE5L,EAAI,SAAEyP,GAAauG,EAC3B,IAAIjQ,EAAQZ,EACTO,KAAK,aACLE,OAAO,MACPmP,GAAG,OAAQ/U,GACX+U,GAAG,WAAYtF,GACfgF,MAAM,UAAWvN,GACjBuN,MAAM,QAASjV,GAElB,MAAM2b,EAAmBF,GAAqBrP,GAC9C,GAAyB,OAArBuP,EAA2B,CAC7B,MAAMtG,EAAgBF,OAAOwG,GAC7BpV,EAAQ4O,OAAOG,MAAMD,GACjB9O,EAAMgP,GAAG,UAAWxI,OAAO4O,IAC3BpV,EAAMgP,GAAG,UAAWF,EAC1B,MACE9O,EAAQA,EAAMiP,GAAG,+BAGnB,MAAM,KAAEvP,EAAI,MAAEvD,SAAgB6D,EAC9B,GAAI7D,EAAO,MAAMA,EACjB,IAAKuD,GAAwB,IAAhBA,EAAKO,OAChB,MAAM,IAAIoV,MAAM,iCAAiClU,KAAW1H,KAASoM,EAAUA,EAAU,KAAO,gBAElG,OAAOnG,EAAK,GAAG6E,EACjB,CAEOhF,eAAe+V,IAAgB,MAAErF,EAAK,QAAE9O,EAAO,MAAE1H,EAAK,QAAEoM,GAAW/D,GACxE,MAAM,KAAE7H,EAAI,SAAEyP,GAAauG,EAC3B,IAAIjQ,EAAQZ,EACTO,KAAK,aACLE,OAAO,KACPmP,GAAG,OAAQ/U,GACX+U,GAAG,WAAYtF,GACfgF,MAAM,UAAWvN,GACjBuN,MAAM,QAASjV,GAElB,MAAM2b,EAAmBF,GAAqBrP,GAC9C,GAAyB,OAArBuP,EAA2B,CAC7B,MAAMtG,EAAgBF,OAAOwG,GAC7BpV,EAAQ4O,OAAOG,MAAMD,GACjB9O,EAAMgP,GAAG,UAAWxI,OAAO4O,IAC3BpV,EAAMgP,GAAG,UAAWF,EAC1B,MACE9O,EAAQA,EAAMiP,GAAG,+BAGnB,MAAQvP,KAAMuI,EAAS9L,MAAOoZ,SAAqBvV,EACnD,GAAIuV,EAAY,MAAMA,EACtB,IAAKtN,GAA8B,IAAnBA,EAAQhI,OACtB,MAAM,IAAIoV,MAAM,kCAAkClU,KAAW1H,KAASoM,EAAUA,EAAU,KAAO,gBAGnG,IAAI2P,EAAiB,EACrB,IAAK,MAAM7T,KAAUsG,EACnBuN,GAAkB5G,OAAOjN,EAAOG,WAAa,EAE/C,GAAI0T,EAAiB1T,EACnB,MAAM,IAAIuT,MAAM,sCAAsCG,gBAA6B1T,KAGrF,IAAI2T,EAAY3T,EAChB,IAAK,MAAMH,KAAUsG,EAAS,CAC5B,GAAIwN,GAAa,EAAG,MACpB,MAAMC,EAAkB9G,OAAOjN,EAAOG,WAAa,EAC7C6T,EAAShP,KAAK8D,IAAIgL,EAAWC,GACnC,GAAIC,EAAS,EAAG,CACd,MAAMC,EAAcF,EAAkBC,GAC9BxZ,MAAO0Z,SAAsBzW,EAClCO,KAAK,aACLmW,OAAO,CAAEhU,SAAU8T,IACnB5G,GAAG,KAAMrN,EAAO4C,IAChByK,GAAG,OAAQrN,EAAO1H,MAClB+U,GAAG,WAAYrN,EAAO+H,UACzB,GAAImM,EAAa,MAAMA,EACvBJ,GAAaE,CACf,CACF,CAEA,GAAIF,EAAY,EACd,MAAM,IAAIJ,MAAM,8CAEpB,CAEA,IfYA,IACEpb,KAAM,cACN2N,WAAY,CAAEmO,qBAAoB,GAAEC,UAASA,IAC7CtW,IAAAA,GACE,MAAO,CACLwK,aAAc,KACdG,iBAAkB,EAClBE,eAAgB,SAChBC,oBAAqB,EACrBK,WAAW,EACXE,gBAAgB,EAChBE,YAAa,GACbC,gBAAiB,UACjBE,KAAM,CAAE6E,MAAO,KAAMrT,MAAO,IAC5ByO,kBAAkB,EAClBI,YAAa,GACbC,gBAAiB,UACjBH,eAAgB,KAChBC,cAAe,KAEnB,EACAyK,OAAAA,GACE9T,KAAKiJ,KAAOuI,IACd,EACAjN,SAAU,CACRwP,cAAAA,GACE,OAAI/T,KAAKkI,mBAAqBlI,KAAKoI,eAC1B6I,SAASjR,KAAKqI,sBAAwB,EAExCrI,KAAKkI,gBACd,EACA8L,UAAAA,GACE,OAAKhU,KAAK+H,cAAiB/H,KAAK+H,aAAatI,MACtCO,KAAK+H,aAAatI,MAAQO,KAAK+T,eADqB,CAE7D,EACAxL,iBAAAA,GACE,IAAKvI,KAAK+H,eAAiB/H,KAAK+H,aAAatI,MAAO,MAAO,KAC3D,MAAMA,EAAQO,KAAK+H,aAAatI,MAAQO,KAAK+T,eAC7C,MAAO,IAAItU,EAAM0R,QAAQ,IAC3B,EACA1I,OAAAA,GACE,OAAOzI,KAAK+H,cACL/H,KAAK+H,aAAatI,OAClBO,KAAK+T,eAAiB,GACtB/T,KAAK+T,iBAAmB/T,KAAK+H,aAAapI,UAAY,EAC/D,GAEFO,QAAS,CACP,uBAAM4H,CAAkBmM,GAItB,GAHAjX,QAAQmR,IAAI,oBAAqB8F,GAG7BA,EAAQnG,OAASmG,EAAQjV,SAAWiV,EAAQ3c,MAC9C,IAEE,MAAM4c,EAAenB,GAAqBkB,EAAQvQ,UAG3CjE,EAAOE,SAAkBQ,QAAQC,IAAI,CAC1C2N,GAAWkG,EAAQnG,MAAOmG,EAAQjV,QAASiV,EAAQ3c,MAAO4c,GAC1DrG,GAAiBoG,EAAQnG,MAAOmG,EAAQjV,QAASiV,EAAQ3c,MAAO4c,KAGlElU,KAAK+H,aAAe,CAClB+F,MAAOmG,EAAQnG,MACf9O,QAASiV,EAAQjV,QACjB1H,MAAO2c,EAAQ3c,MACfoM,QAASwQ,EACTzU,MAAOA,EACPE,SAAUA,GAIZK,KAAKkI,iBAAmB,EACxBlI,KAAKqI,oBAAsB,EAC3BrI,KAAK8I,YAAc,EACrB,CAAE,MAAO9O,GACPgD,QAAQhD,MAAM,+BAAgCA,GAC9CgG,KAAK8I,YAAc,qCACnB9I,KAAK+I,gBAAkB,OACzB,MAEA/I,KAAK+H,aAAe,KACpB/H,KAAK8I,YAAc,EAEvB,EACAD,eAAAA,GACE,GAAK7I,KAAKyI,QAAV,CACAzI,KAAK4I,gBAAiB,EACtB5I,KAAKsJ,YAAc,GACnB,IACE,MAAM8I,EAAO,CACXpT,QAASgB,KAAK+H,aAAa/I,QAC3B1H,MAAO0I,KAAK+H,aAAazQ,MACzBoM,QAAS1D,KAAK+H,aAAarE,QAC3B/D,SAAUK,KAAK+T,iBAET9K,KAAMqJ,EAAI,MAAEtY,GAAUma,GAAYnU,KAAKiJ,KAAMjJ,KAAK+H,aAAa+F,MAAOsE,GAC1EpY,GACFgG,KAAKsJ,YAActP,EACnBgG,KAAKuJ,gBAAkB,UAEvBvJ,KAAKiJ,KAAOqJ,EACZtS,KAAKsJ,YAAc,gBACnBtJ,KAAKuJ,gBAAkB,UAE3B,CAAE,MAAOuI,GACP9R,KAAKsJ,YAAc,wBACnBtJ,KAAKuJ,gBAAkB,OACzB,CAAE,QACAvJ,KAAK4I,gBAAiB,CACxB,CAxByB,CAyB3B,EAEA,gBAAMD,GACJ,GAAK3I,KAAKyI,QAAV,CAEAzI,KAAK0I,WAAY,EACjB1I,KAAK8I,YAAc,GAEnB,IAEE,MAAMsL,QAAwBrG,GAC5B/N,KAAK+H,aAAa+F,MAClB9N,KAAK+H,aAAa/I,QAClBgB,KAAK+H,aAAazQ,MAClB0I,KAAK+H,aAAarE,SAGd2Q,QAA0BrB,GAAqB,CACnDlF,MAAO9N,KAAK+H,aAAa+F,MACzB9O,QAASgB,KAAK+H,aAAa/I,QAC3B1H,MAAO0I,KAAK+H,aAAazQ,MACzBoM,QAAS1D,KAAK+H,aAAarE,UAIvBpG,EAAW,CACf0F,MAAM,IAAI5H,MAAOC,cACjB+G,GAAIiS,EACJvc,KAAMkI,KAAK+H,aAAa+F,MAAMhW,KAC9BkH,QAASgB,KAAK+H,aAAa/I,QAC3BS,OAAQ2U,GAAmB,GAAKpU,KAAK+T,eACrCpU,SAAUK,KAAK+T,eACftQ,eAAgBzD,KAAK+H,aAAa+F,MAAMvG,SACxCjQ,MAAO0I,KAAK+H,aAAazQ,MACzBoM,QAASqP,GAAqB/S,KAAK+H,aAAarE,SAChDb,WAAYuR,SAGR/W,EAAWC,SAGX6V,GAAgB,CACpBrF,MAAO9N,KAAK+H,aAAa+F,MACzB9O,QAASgB,KAAK+H,aAAa/I,QAC3B1H,MAAO0I,KAAK+H,aAAazQ,MACzBoM,QAAS1D,KAAK+H,aAAarE,SAC1B1D,KAAK+T,gBAER/T,KAAK8I,YAAc,qBAAqB9I,KAAK+T,8BAA8BK,GAAmB,GAAKpU,KAAK+T,iBACxG/T,KAAK+I,gBAAkB,UAGvB,MAAMpJ,QAAiBkO,GACrB7N,KAAK+H,aAAa+F,MAClB9N,KAAK+H,aAAa/I,QAClBgB,KAAK+H,aAAazQ,MAClB0I,KAAK+H,aAAarE,SAEpB1D,KAAK+H,aAAapI,SAAWA,EAG7BK,KAAKkI,iBAAmB,EACxBlI,KAAKqI,oBAAsB,CAE7B,CAAE,MAAOrO,GACPgD,QAAQhD,MAAM,uBAAwBA,GACtCgG,KAAK8I,YAAc,gBAAkB9O,EAAMgM,QAC3ChG,KAAK+I,gBAAkB,OACzB,CAAE,QACA/I,KAAK0I,WAAY,CACnB,CAnEyB,CAoE3B,EACAe,eAAAA,EAAgB,IAAEtH,EAAG,SAAExC,IACrBK,KAAKiJ,KAAOqL,GAAmBtU,KAAKiJ,KAAM9G,EAAKxC,GAC/CK,KAAKsJ,YAAc,EACrB,EACAK,gBAAAA,CAAiBxH,GACfnC,KAAKiJ,KAAOsL,GAAevU,KAAKiJ,KAAM9G,GACtCnC,KAAKsJ,YAAc,EACrB,EACAO,WAAAA,GACE7J,KAAKiJ,KAAOuL,KACZxU,KAAKsJ,YAAc,GACnBtJ,KAAKoJ,eAAiB,KACtBpJ,KAAKqJ,cAAgB,IACvB,EACA,oBAAMU,GACJ,GAAK/J,KAAKiJ,MAAmC,IAA3BjJ,KAAKiJ,KAAKxO,MAAMqD,OAAlC,CACAkC,KAAKkJ,kBAAmB,EACxBlJ,KAAKsJ,YAAc,GACnB,IAEE,IAAK,MAAMvK,KAAQiB,KAAKiJ,KAAKxO,MAAO,CAClC,MAAOga,SAAsBtU,QAAQC,IAAI,CACvCyN,GAAiB7N,KAAKiJ,KAAK6E,MAAO/O,EAAKC,QAASD,EAAKzH,MAAOyH,EAAK2E,WAEnE,GAAI+Q,EAAe1V,EAAKY,SAGtB,OAFAK,KAAKsJ,YAAc,8BAA8BvK,EAAKC,WAAWD,EAAKzH,SAASyH,EAAK2E,SAAW,kBAAkB+Q,gBAA2B1V,EAAKY,gBACjJK,KAAKuJ,gBAAkB,QAG3B,CAGA,IAAK,MAAMxK,KAAQiB,KAAKiJ,KAAKxO,MAAO,CAClC,MAAM2Z,QAAwBrG,GAAW/N,KAAKiJ,KAAK6E,MAAO/O,EAAKC,QAASD,EAAKzH,MAAOyH,EAAK2E,SACnF2Q,QAA0BrB,GAAqB,CACnDlF,MAAO9N,KAAKiJ,KAAK6E,MACjB9O,QAASD,EAAKC,QACd1H,MAAOyH,EAAKzH,MACZoM,QAAS3E,EAAK2E,UAEVpG,EAAW,CACf0F,MAAM,IAAI5H,MAAOC,cACjB+G,GAAIiS,EACJvc,KAAMkI,KAAKiJ,KAAK6E,MAAMhW,KACtBkH,QAASD,EAAKC,QACdS,OAAQ2U,GAAmB,GAAKrV,EAAKY,SACrCA,SAAUZ,EAAKY,SACf8D,eAAgBzD,KAAKiJ,KAAK6E,MAAMvG,SAChCjQ,MAAOyH,EAAKzH,MACZoM,QAASqP,GAAqBhU,EAAK2E,SACnCb,WAAYuR,SAER/W,EAAWC,SACX6V,GAAgB,CACpBrF,MAAO9N,KAAKiJ,KAAK6E,MACjB9O,QAASD,EAAKC,QACd1H,MAAOyH,EAAKzH,MACZoM,QAAS3E,EAAK2E,SACb3E,EAAKY,SACV,CAEAK,KAAKiJ,KAAOuL,KACZxU,KAAKsJ,YAAc,sBACnBtJ,KAAKuJ,gBAAkB,SACzB,CAAE,MAAOuI,GACP9U,QAAQhD,MAAM8X,GACd9R,KAAKsJ,YAAc,oBAAoBwI,EAAE9L,UACzChG,KAAKuJ,gBAAkB,OACzB,CAAE,QACAvJ,KAAKkJ,kBAAmB,CAC1B,CAvDsD,CAwDxD,EACA,wBAAMe,GACJ,IAAKjK,KAAKiJ,MAAmC,IAA3BjJ,KAAKiJ,KAAKxO,MAAMqD,SAAiBkC,KAAKiJ,KAAK6E,MAG3D,OAFA9N,KAAKoJ,eAAiB,UACtBpJ,KAAKqJ,cAAgB,MAGvBrJ,KAAKkJ,kBAAmB,EACxB,IACE,MAAMC,EAAY,CAAC,EACnB,IAAIkE,EAAQ,EACZ,IAAK,MAAMtO,KAAQiB,KAAKiJ,KAAKxO,MAAO,CAClC,MAAM2W,QAAarD,GAAW/N,KAAKiJ,KAAK6E,MAAO/O,EAAKC,QAASD,EAAKzH,MAAOyH,EAAK2E,SAC9EyF,EAAUpK,EAAKoD,KAAOiP,EACtB/D,IAAUZ,OAAO2E,IAAS,IAAM3E,OAAO1N,EAAKY,WAAa,EAC3D,CACAK,KAAKoJ,eAAiBD,EACtBnJ,KAAKqJ,cAAgBgE,CACvB,CAAE,MAAOyE,GACP9U,QAAQhD,MAAM8X,GACd9R,KAAKsJ,YAAc,2BACnBtJ,KAAKuJ,gBAAkB,OACzB,CAAE,QACAvJ,KAAKkJ,kBAAmB,CAC1B,CACF,IgB7XJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,UCFA,MAAMwL,GAAS,CACb,CACEC,KAAM,IACNC,SAAU,YAEZ,CACED,KAAM,gBACN7c,KAAM,cACN+c,UAAWC,GAEb,CACEH,KAAM,aACN7c,KAAM,YACN+c,UAAWE,IAEb,CACEJ,KAAM,WACN7c,KAAM,UACN+c,UAAWG,KAITC,IAASC,EAAAA,EAAAA,IAAa,CAC1BC,SAASC,EAAAA,EAAAA,MACTV,YAGF,UCvBA,MAAMW,IAAUC,EAAAA,EAAAA,IAAc,CAC5B7P,WAAU,EACV8P,WAAUA,IAGNC,IAAMC,EAAAA,EAAAA,IAAUC,GAEtBF,GAAIG,IAAIN,IACRG,GAAIG,IAAIV,IAERO,GAAII,MAAM,O,GClBNC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBrP,IAAjBsP,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CAGjDE,QAAS,CAAC,GAOX,OAHAE,EAAoBJ,GAAUK,KAAKF,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAGpEI,EAAOD,OACf,CAGAH,EAAoBO,EAAIF,E,WCzBxB,IAAIG,EAAW,GACfR,EAAoBS,EAAI,SAASC,EAAQC,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAAStR,EAAI,EAAGA,EAAI+Q,EAASxY,OAAQyH,IAAK,CACrCkR,EAAWH,EAAS/Q,GAAG,GACvBmR,EAAKJ,EAAS/Q,GAAG,GACjBoR,EAAWL,EAAS/Q,GAAG,GAE3B,IAJA,IAGIuR,GAAY,EACPC,EAAI,EAAGA,EAAIN,EAAS3Y,OAAQiZ,MACpB,EAAXJ,GAAsBC,GAAgBD,IAAaxS,OAAO4B,KAAK+P,EAAoBS,GAAGS,MAAM,SAAS7U,GAAO,OAAO2T,EAAoBS,EAAEpU,GAAKsU,EAASM,GAAK,GAChKN,EAAS/D,OAAOqE,IAAK,IAErBD,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG7C,GAAGG,EAAW,CACbR,EAAS5D,OAAOnN,IAAK,GACrB,IAAI8G,EAAIqK,SACEhQ,IAAN2F,IAAiBmK,EAASnK,EAC/B,CACD,CACA,OAAOmK,CArBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAIpR,EAAI+Q,EAASxY,OAAQyH,EAAI,GAAK+Q,EAAS/Q,EAAI,GAAG,GAAKoR,EAAUpR,IAAK+Q,EAAS/Q,GAAK+Q,EAAS/Q,EAAI,GACrG+Q,EAAS/Q,GAAK,CAACkR,EAAUC,EAAIC,EAwB/B,C,eC5BAb,EAAoB3I,EAAI,SAAS+I,GAChC,IAAIe,EAASf,GAAUA,EAAOgB,WAC7B,WAAa,OAAOhB,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAJ,EAAoBqB,EAAEF,EAAQ,CAAEhL,EAAGgL,IAC5BA,CACR,C,eCNAnB,EAAoBqB,EAAI,SAASlB,EAASmB,GACzC,IAAI,IAAIjV,KAAOiV,EACXtB,EAAoBuB,EAAED,EAAYjV,KAAS2T,EAAoBuB,EAAEpB,EAAS9T,IAC5EgC,OAAOmT,eAAerB,EAAS9T,EAAK,CAAEoV,YAAY,EAAMrK,IAAKkK,EAAWjV,IAG3E,C,eCPA2T,EAAoB0B,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOzX,MAAQ,IAAI0X,SAAS,cAAb,EAChB,CAAE,MAAO5F,GACR,GAAsB,kBAAX6F,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxB7B,EAAoBuB,EAAI,SAASO,EAAKC,GAAQ,OAAO1T,OAAO2T,UAAUC,eAAe3B,KAAKwB,EAAKC,EAAO,C,eCCtG/B,EAAoBzJ,EAAI,SAAS4J,GACX,qBAAX+B,QAA0BA,OAAOC,aAC1C9T,OAAOmT,eAAerB,EAAS+B,OAAOC,YAAa,CAAEnY,MAAO,WAE7DqE,OAAOmT,eAAerB,EAAS,aAAc,CAAEnW,OAAO,GACvD,C,eCDA,IAAIoY,EAAkB,CACrB,IAAK,GAaNpC,EAAoBS,EAAEQ,EAAI,SAASoB,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4B9a,GAC/D,IAKIwY,EAAUoC,EALV1B,EAAWlZ,EAAK,GAChB+a,EAAc/a,EAAK,GACnBgb,EAAUhb,EAAK,GAGIgI,EAAI,EAC3B,GAAGkR,EAAS+B,KAAK,SAASpW,GAAM,OAA+B,IAAxB8V,EAAgB9V,EAAW,GAAI,CACrE,IAAI2T,KAAYuC,EACZxC,EAAoBuB,EAAEiB,EAAavC,KACrCD,EAAoBO,EAAEN,GAAYuC,EAAYvC,IAGhD,GAAGwC,EAAS,IAAI/B,EAAS+B,EAAQzC,EAClC,CAEA,IADGuC,GAA4BA,EAA2B9a,GACrDgI,EAAIkR,EAAS3Y,OAAQyH,IACzB4S,EAAU1B,EAASlR,GAChBuQ,EAAoBuB,EAAEa,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOrC,EAAoBS,EAAEC,EAC9B,EAEIiC,EAAqBC,KAAK,2CAA6CA,KAAK,4CAA8C,GAC9HD,EAAmBE,QAAQP,EAAqBQ,KAAK,KAAM,IAC3DH,EAAmB1M,KAAOqM,EAAqBQ,KAAK,KAAMH,EAAmB1M,KAAK6M,KAAKH,G,IC/CvF,IAAII,EAAsB/C,EAAoBS,OAAE7P,EAAW,CAAC,KAAM,WAAa,OAAOoP,EAAoB,KAAO,GACjH+C,EAAsB/C,EAAoBS,EAAEsC,E","sources":["webpack://inventory-management-system/./src/App.vue","webpack://inventory-management-system/./src/App.vue?7ccd","webpack://inventory-management-system/./src/views/SalesRecord.vue","webpack://inventory-management-system/./src/components/SalesRecordFilters.vue","webpack://inventory-management-system/./src/lib/supabase.js","webpack://inventory-management-system/./src/api/sales.js","webpack://inventory-management-system/./src/components/SalesRecordFilters.vue?2c89","webpack://inventory-management-system/./src/components/SalesRecordList.vue","webpack://inventory-management-system/./src/components/SalesRecordList.vue?75ec","webpack://inventory-management-system/./src/views/SalesRecord.vue?84fd","webpack://inventory-management-system/./src/views/Inventory.vue","webpack://inventory-management-system/./src/views/Inventory.vue?abe9","webpack://inventory-management-system/./src/views/Selling.vue","webpack://inventory-management-system/./src/components/InventorySearchPanel.vue","webpack://inventory-management-system/./src/components/StoreSelector.vue","webpack://inventory-management-system/./src/api/inventory.js","webpack://inventory-management-system/./src/components/StoreSelector.vue?a4bf","webpack://inventory-management-system/./src/components/ProductSelector.vue","webpack://inventory-management-system/./src/components/ProductSelector.vue?98cc","webpack://inventory-management-system/./src/components/ColorSelector.vue","webpack://inventory-management-system/./src/components/ColorSelector.vue?0d92","webpack://inventory-management-system/./src/components/StorageSelector.vue","webpack://inventory-management-system/./src/components/StorageSelector.vue?bbc1","webpack://inventory-management-system/./src/components/InventorySearchPanel.vue?01b1","webpack://inventory-management-system/./src/components/CartPanel.vue","webpack://inventory-management-system/./src/components/CartPanel.vue?9ff6","webpack://inventory-management-system/./src/lib/cart.js","webpack://inventory-management-system/./src/lib/inventoryOps.js","webpack://inventory-management-system/./src/views/Selling.vue?f5a1","webpack://inventory-management-system/./src/router/index.js","webpack://inventory-management-system/./src/main.js","webpack://inventory-management-system/webpack/bootstrap","webpack://inventory-management-system/webpack/runtime/chunk loaded","webpack://inventory-management-system/webpack/runtime/compat get default export","webpack://inventory-management-system/webpack/runtime/define property getters","webpack://inventory-management-system/webpack/runtime/global","webpack://inventory-management-system/webpack/runtime/hasOwnProperty shorthand","webpack://inventory-management-system/webpack/runtime/make namespace object","webpack://inventory-management-system/webpack/runtime/jsonp chunk loading","webpack://inventory-management-system/webpack/startup"],"sourcesContent":["<template>\r\n  <v-app>\r\n    <v-app-bar\r\n      color=\"primary\"\r\n      dark\r\n      prominent\r\n    >\r\n      <v-toolbar-title>Distributed Inventory and Sales Management System</v-toolbar-title>\r\n      <v-spacer></v-spacer>\r\n      \r\n      <!-- header -->\r\n      <v-btn\r\n        :to=\"{ name: 'Selling' }\"\r\n        color=\"white\"\r\n        variant=\"text\"\r\n        class=\"mr-2\"\r\n      >\r\n        <v-icon left>mdi-cash-register</v-icon>\r\n        selling\r\n      </v-btn>\r\n      \r\n      <v-btn\r\n        :to=\"{ name: 'Inventory' }\"\r\n        color=\"white\"\r\n        variant=\"text\"\r\n        class=\"mr-2\"\r\n      >\r\n        <v-icon left>mdi-warehouse</v-icon>\r\n        Inventory \r\n      </v-btn>\r\n      \r\n      <v-btn\r\n        :to=\"{ name: 'SalesRecord' }\"\r\n        color=\"white\"\r\n        variant=\"text\"\r\n        class=\"mr-2\"\r\n      >\r\n        <v-icon left>mdi-chart-line</v-icon>\r\n        sales record\r\n      </v-btn>\r\n      \r\n      <v-btn icon>\r\n        <v-icon>mdi-account</v-icon>\r\n      </v-btn>\r\n    </v-app-bar>\r\n\r\n    <v-main>\r\n      <router-view />\r\n    </v-main>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App'\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import { render } from \"./App.vue?vue&type=template&id=6a8f2ebe\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-container fluid>\r\n    <v-row>\r\n      <v-col cols=\"12\">\r\n        <!-- Page Title -->\r\n        <v-card class=\"mb-4\">\r\n          <v-card-title class=\"d-flex align-center\">\r\n            <v-icon left size=\"large\" color=\"primary\">mdi-chart-line</v-icon>\r\n            <h1 class=\"text-h4\">Sales Records Query</h1>\r\n            <v-spacer></v-spacer>\r\n            <v-btn\r\n              color=\"primary\"\r\n              variant=\"outlined\"\r\n              @click=\"refreshData\"\r\n              :loading=\"isRefreshing\"\r\n            >\r\n              <v-icon left>mdi-refresh</v-icon>\r\n              Refresh Data\r\n            </v-btn>\r\n          </v-card-title>\r\n          <v-card-text>\r\n            <p class=\"text-body-1 text-grey-darken-1\">\r\n              View and manage all sales records with filtering by date, product, and store\r\n            </p>\r\n          </v-card-text>\r\n        </v-card>\r\n\r\n        <!-- Filter Panel -->\r\n        <SalesRecordFilters\r\n          @filters-change=\"onFiltersChange\"\r\n          @error=\"onFilterError\"\r\n          class=\"mb-4\"\r\n        />\r\n\r\n        <!-- Sales Records List -->\r\n        <SalesRecordList\r\n          :sales-records=\"salesRecords\"\r\n          :stats=\"salesStats\"\r\n          :loading=\"loading\"\r\n          :error=\"error\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <!-- Error Dialog -->\r\n    <v-dialog v-model=\"showErrorDialog\" max-width=\"500px\">\r\n      <v-card>\r\n        <v-card-title class=\"text-h5 text-error\">\r\n          <v-icon left color=\"error\">mdi-alert-circle</v-icon>\r\n          Error\r\n        </v-card-title>\r\n        <v-card-text>\r\n          {{ errorDialogMessage }}\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"primary\" @click=\"showErrorDialog = false\">OK</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport SalesRecordFilters from '../components/SalesRecordFilters.vue'\r\nimport SalesRecordList from '../components/SalesRecordList.vue'\r\nimport { \r\n  fetchSalesWithFilters, \r\n  fetchSalesStats \r\n} from '../api/sales'\r\n\r\nexport default {\r\n  name: 'SalesRecord',\r\n  components: {\r\n    SalesRecordFilters,\r\n    SalesRecordList\r\n  },\r\n  data() {\r\n    return {\r\n      salesRecords: [],\r\n      salesStats: null,\r\n      loading: false,\r\n      isRefreshing: false,\r\n      error: '',\r\n      showErrorDialog: false,\r\n      errorDialogMessage: '',\r\n      currentFilters: {}\r\n    }\r\n  },\r\n  async mounted() {\r\n    // Initial load of all sales records\r\n    await this.loadSalesData()\r\n  },\r\n  methods: {\r\n    async onFiltersChange(filters) {\r\n      this.currentFilters = filters\r\n      await this.loadSalesData(filters)\r\n    },\r\n    \r\n    async loadSalesData(filters = {}) {\r\n      this.loading = true\r\n      this.error = ''\r\n      \r\n      try {\r\n        // Fetch sales records and statistics in parallel\r\n        const [records, stats] = await Promise.all([\r\n          fetchSalesWithFilters(filters),\r\n          fetchSalesStats(filters)\r\n        ])\r\n        \r\n        this.salesRecords = records\r\n        this.salesStats = stats\r\n        \r\n        // If no records found, show message\r\n        if (records.length === 0 && Object.keys(filters).length > 0) {\r\n          this.error = 'No sales records found matching the criteria. Please try adjusting the filter conditions'\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.error('Failed to load sales data:', error)\r\n        this.error = 'Failed to load sales records: ' + error.message\r\n        this.salesRecords = []\r\n        this.salesStats = null\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    \r\n    async refreshData() {\r\n      this.isRefreshing = true\r\n      try {\r\n        await this.loadSalesData(this.currentFilters)\r\n      } finally {\r\n        this.isRefreshing = false\r\n      }\r\n    },\r\n    \r\n    onFilterError(message) {\r\n      this.errorDialogMessage = message\r\n      this.showErrorDialog = true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.v-card {\r\n  border-radius: 12px;\r\n}\r\n\r\n.text-grey-darken-1 {\r\n  color: rgba(0, 0, 0, 0.6) !important;\r\n}\r\n</style>","<template>\r\n  <v-card>\r\n    <v-card-title>\r\n      <v-icon left>mdi-filter</v-icon>\r\n      Filter Conditions\r\n    </v-card-title>\r\n    <v-card-text>\r\n      <v-row>\r\n        <!-- Date Filter -->\r\n        <v-col cols=\"12\" md=\"4\">\r\n          <v-select\r\n            v-model=\"dateFilterType\"\r\n            :items=\"dateFilterOptions\"\r\n            label=\"Date Filter Type\"\r\n            outlined\r\n            dense\r\n            @change=\"onDateFilterTypeChange\"\r\n          ></v-select>\r\n        </v-col>\r\n        \r\n        <!-- Single Date Selection -->\r\n        <v-col cols=\"12\" md=\"4\" v-if=\"dateFilterType === 'single'\">\r\n          <v-date-picker\r\n            v-model=\"singleDate\"\r\n            @update:model-value=\"onDateChange\"\r\n            color=\"primary\"\r\n            show-adjacent-months\r\n            :max=\"new Date().toISOString().split('T')[0]\"\r\n          ></v-date-picker>\r\n        </v-col>\r\n        \r\n        <!-- Date Range Selection -->\r\n        <v-col cols=\"12\" md=\"4\" v-if=\"dateFilterType === 'range'\">\r\n          <v-text-field\r\n            v-model=\"dateRangeText\"\r\n            label=\"Date Range\"\r\n            placeholder=\"Select start and end date\"\r\n            outlined\r\n            dense\r\n            readonly\r\n            append-icon=\"mdi-calendar\"\r\n            @click=\"showDateRangePicker = true\"\r\n          ></v-text-field>\r\n        </v-col>\r\n        \r\n        <!-- Product Filter -->\r\n        <v-col cols=\"12\" md=\"4\">\r\n          <v-combobox\r\n            v-model=\"selectedProducts\"\r\n            :items=\"availableProducts\"\r\n            :loading=\"loadingProducts\"\r\n            label=\"Product Filter\"\r\n            placeholder=\"Select products\"\r\n            outlined\r\n            dense\r\n            multiple\r\n            chips\r\n            clearable\r\n            @update:model-value=\"onFiltersChange\"\r\n          ></v-combobox>\r\n        </v-col>\r\n        \r\n        <!-- Store Name Filter -->\r\n        <v-col cols=\"12\" md=\"4\">\r\n          <v-combobox\r\n            v-model=\"selectedStoreNames\"\r\n            :items=\"availableStoreNames\"\r\n            :loading=\"loadingStoreNames\"\r\n            label=\"Store Filter\"\r\n            placeholder=\"Select stores\"\r\n            outlined\r\n            dense\r\n            multiple\r\n            chips\r\n            clearable\r\n            @update:model-value=\"onFiltersChange\"\r\n          ></v-combobox>\r\n        </v-col>\r\n      </v-row>\r\n      \r\n      <!-- Action Buttons -->\r\n      <v-row class=\"mt-2\">\r\n        <v-col cols=\"12\" class=\"text-right\">\r\n          <v-btn\r\n            color=\"secondary\"\r\n            @click=\"resetFilters\"\r\n            class=\"mr-2\"\r\n          >\r\n            <v-icon left>mdi-refresh</v-icon>\r\n            Reset\r\n          </v-btn>\r\n          <v-btn\r\n            color=\"primary\"\r\n            @click=\"applyFilters\"\r\n            :loading=\"loading\"\r\n          >\r\n            <v-icon left>mdi-magnify</v-icon>\r\n            Search\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card-text>\r\n    \r\n    <!-- Date Range Picker Dialog -->\r\n    <v-dialog v-model=\"showDateRangePicker\" max-width=\"400px\">\r\n      <v-card>\r\n        <v-card-title>Select Date Range</v-card-title>\r\n        <v-card-text>\r\n          <v-date-picker\r\n            v-model=\"dateRange\"\r\n            range\r\n            @update:model-value=\"onDateRangeChange\"\r\n            color=\"primary\"\r\n            show-adjacent-months\r\n            :max=\"new Date().toISOString().split('T')[0]\"\r\n          ></v-date-picker>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn text @click=\"showDateRangePicker = false\">Cancel</v-btn>\r\n          <v-btn color=\"primary\" @click=\"confirmDateRange\">Confirm</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { \r\n  fetchDistinctProducts, \r\n  fetchDistinctStoreNames \r\n} from '../api/sales'\r\n\r\nexport default {\r\n  name: 'SalesRecordFilters',\r\n  emits: ['filters-change'],\r\n  data() {\r\n    return {\r\n      dateFilterType: 'none',\r\n      dateFilterOptions: [\r\n        { title: 'No Date Filter', value: 'none' },\r\n        { title: 'Select Single Date', value: 'single' },\r\n        { title: 'Select Date Range', value: 'range' }\r\n      ],\r\n      singleDate: null,\r\n      dateRange: [],\r\n      dateRangeText: '',\r\n      showDateRangePicker: false,\r\n      selectedProducts: [],\r\n      selectedStoreNames: [],\r\n      availableProducts: [],\r\n      availableStoreNames: [],\r\n      loadingProducts: false,\r\n      loadingStoreNames: false,\r\n      loading: false\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadFilterOptions()\r\n  },\r\n  methods: {\r\n    async loadFilterOptions() {\r\n      // Load product and store options in parallel\r\n      this.loadingProducts = true\r\n      this.loadingStoreNames = true\r\n      \r\n      try {\r\n        const [products, storeNames] = await Promise.all([\r\n          fetchDistinctProducts(),\r\n          fetchDistinctStoreNames()\r\n        ])\r\n        \r\n        this.availableProducts = products\r\n        this.availableStoreNames = storeNames\r\n      } catch (error) {\r\n        console.error('Failed to load filter options:', error)\r\n        this.$emit('error', 'Failed to load filter options')\r\n      } finally {\r\n        this.loadingProducts = false\r\n        this.loadingStoreNames = false\r\n      }\r\n    },\r\n    \r\n    onDateFilterTypeChange() {\r\n      this.resetDateFilters()\r\n      this.onFiltersChange()\r\n    },\r\n    \r\n    onDateChange() {\r\n      this.onFiltersChange()\r\n    },\r\n    \r\n    onDateRangeChange() {\r\n      // Handle date range changes\r\n    },\r\n    \r\n    confirmDateRange() {\r\n      if (this.dateRange && this.dateRange.length > 0) {\r\n        if (this.dateRange.length === 1) {\r\n          this.dateRangeText = this.formatDate(this.dateRange[0])\r\n        } else if (this.dateRange.length === 2) {\r\n          this.dateRangeText = `${this.formatDate(this.dateRange[0])} - ${this.formatDate(this.dateRange[1])}`\r\n        }\r\n      }\r\n      this.showDateRangePicker = false\r\n      this.onFiltersChange()\r\n    },\r\n    \r\n    formatDate(date) {\r\n      if (!date) return ''\r\n      return new Date(date).toLocaleDateString('en-US')\r\n    },\r\n    \r\n    onFiltersChange() {\r\n      // Real-time filter change notification\r\n      this.emitFilters()\r\n    },\r\n    \r\n    emitFilters() {\r\n      const filters = {\r\n        dateRange: this.getDateRangeFilter(),\r\n        products: this.selectedProducts,\r\n        storeNames: this.selectedStoreNames\r\n      }\r\n      \r\n      this.$emit('filters-change', filters)\r\n    },\r\n    \r\n    getDateRangeFilter() {\r\n      if (this.dateFilterType === 'single' && this.singleDate) {\r\n        return [this.singleDate]\r\n      } else if (this.dateFilterType === 'range' && this.dateRange.length > 0) {\r\n        return this.dateRange\r\n      }\r\n      return null\r\n    },\r\n    \r\n    applyFilters() {\r\n      this.loading = true\r\n      this.emitFilters()\r\n      \r\n      // Simulate loading state\r\n      setTimeout(() => {\r\n        this.loading = false\r\n      }, 500)\r\n    },\r\n    \r\n    resetFilters() {\r\n      this.dateFilterType = 'none'\r\n      this.singleDate = null\r\n      this.dateRange = []\r\n      this.dateRangeText = ''\r\n      this.selectedProducts = []\r\n      this.selectedStoreNames = []\r\n      this.emitFilters()\r\n    },\r\n    \r\n    resetDateFilters() {\r\n      this.singleDate = null\r\n      this.dateRange = []\r\n      this.dateRangeText = ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.v-date-picker {\r\n  margin: 0 auto;\r\n}\r\n</style>\r\n","import { createClient } from '@supabase/supabase-js'\r\n\r\n// Read from environment variables injected at build time via Vite/CLI env\r\n// For Vue CLI, we expect variables to be provided using process.env at build time\r\nconst SUPABASE_URL = process.env.VUE_APP_SUPABASE_URL || process.env.SUPABASE_URL\r\nconst SUPABASE_ANON_KEY = process.env.VUE_APP_SUPABASE_ANON_KEY || process.env.SUPABASE_ANON_KEY\r\n\r\nif (!SUPABASE_URL || !SUPABASE_ANON_KEY) {\r\n  // Fallback to avoid runtime crashes; developer will see console error in browser\r\n  // You can set VUE_APP_SUPABASE_URL and VUE_APP_SUPABASE_ANON_KEY in .env.* at frontend root\r\n  // Since backend/.env exists, copy values into frontend/.env.local when building locally\r\n  // eslint-disable-next-line no-console\r\n  console.error('[Supabase] Missing SUPABASE_URL or SUPABASE_ANON_KEY environment variables')\r\n}\r\n\r\nexport const supabase = createClient(\r\n  SUPABASE_URL || '',\r\n  SUPABASE_ANON_KEY || ''\r\n)\r\n\r\nexport default supabase\r\n\r\n\r\n","import supabase from '../lib/supabase'\r\n\r\nconst TABLE_NAME = 'sales'\r\n\r\nexport async function createSale(saleData) {\r\n  const { data, error } = await supabase\r\n    .from(TABLE_NAME)\r\n    .insert([saleData])\r\n    .select()\r\n\r\n  if (error) throw error\r\n  return data\r\n}\r\n\r\nexport async function fetchSales() {\r\n  const { data, error } = await supabase\r\n    .from(TABLE_NAME)\r\n    .select('*')\r\n    .order('time', { ascending: false })\r\n\r\n  if (error) throw error\r\n  return data\r\n}\r\n\r\nexport async function fetchSalesWithFilters(filters) {\r\n  let query = supabase\r\n    .from(TABLE_NAME)\r\n    .select('*')\r\n\r\n  // Date filtering\r\n  if (filters.dateRange) {\r\n    if (filters.dateRange.length === 1) {\r\n      // Single day selection\r\n      const startDate = new Date(filters.dateRange[0])\r\n      startDate.setHours(0, 0, 0, 0)\r\n      const endDate = new Date(filters.dateRange[0])\r\n      endDate.setHours(23, 59, 59, 999)\r\n      \r\n      query = query\r\n        .gte('time', startDate.toISOString())\r\n        .lte('time', endDate.toISOString())\r\n    } else if (filters.dateRange.length === 2) {\r\n      // Date range\r\n      const startDate = new Date(filters.dateRange[0])\r\n      startDate.setHours(0, 0, 0, 0)\r\n      const endDate = new Date(filters.dateRange[1])\r\n      endDate.setHours(23, 59, 59, 999)\r\n      \r\n      query = query\r\n        .gte('time', startDate.toISOString())\r\n        .lte('time', endDate.toISOString())\r\n    }\r\n  }\r\n\r\n  // Product filtering (multiple selection)\r\n  if (filters.products && filters.products.length > 0) {\r\n    query = query.in('product', filters.products)\r\n  }\r\n\r\n  // Store name filtering\r\n  if (filters.storeNames && filters.storeNames.length > 0) {\r\n    query = query.in('name', filters.storeNames)\r\n  }\r\n\r\n  // Sorting and pagination\r\n  query = query.order('time', { ascending: false })\r\n  \r\n  if (filters.limit) {\r\n    query = query.limit(filters.limit)\r\n  }\r\n  \r\n  if (filters.offset) {\r\n    query = query.range(filters.offset, filters.offset + (filters.limit || 20) - 1)\r\n  }\r\n\r\n  const { data, error } = await query\r\n\r\n  if (error) throw error\r\n  return data\r\n}\r\n\r\nexport async function fetchDistinctProducts() {\r\n  const { data, error } = await supabase\r\n    .from(TABLE_NAME)\r\n    .select('product')\r\n    .order('product')\r\n\r\n  if (error) throw error\r\n  \r\n  // Remove duplicates and return product list\r\n  const uniqueProducts = [...new Set(data.map(item => item.product))]\r\n  return uniqueProducts\r\n}\r\n\r\nexport async function fetchDistinctStoreNames() {\r\n  const { data, error } = await supabase\r\n    .from(TABLE_NAME)\r\n    .select('name')\r\n    .order('name')\r\n\r\n  if (error) throw error\r\n  \r\n  // Remove duplicates and return store names list\r\n  const uniqueStoreNames = [...new Set(data.map(item => item.name))]\r\n  return uniqueStoreNames\r\n}\r\n\r\nexport async function fetchSalesStats(filters = {}) {\r\n  let query = supabase\r\n    .from(TABLE_NAME)\r\n    .select('price, quantity')\r\n\r\n  // Apply the same filter conditions\r\n  if (filters.dateRange) {\r\n    if (filters.dateRange.length === 1) {\r\n      const startDate = new Date(filters.dateRange[0])\r\n      startDate.setHours(0, 0, 0, 0)\r\n      const endDate = new Date(filters.dateRange[0])\r\n      endDate.setHours(23, 59, 59, 999)\r\n      \r\n      query = query\r\n        .gte('time', startDate.toISOString())\r\n        .lte('time', endDate.toISOString())\r\n    } else if (filters.dateRange.length === 2) {\r\n      const startDate = new Date(filters.dateRange[0])\r\n      startDate.setHours(0, 0, 0, 0)\r\n      const endDate = new Date(filters.dateRange[1])\r\n      endDate.setHours(23, 59, 59, 999)\r\n      \r\n      query = query\r\n        .gte('time', startDate.toISOString())\r\n        .lte('time', endDate.toISOString())\r\n    }\r\n  }\r\n\r\n  if (filters.products && filters.products.length > 0) {\r\n    query = query.in('product', filters.products)\r\n  }\r\n\r\n  if (filters.storeNames && filters.storeNames.length > 0) {\r\n    query = query.in('name', filters.storeNames)\r\n  }\r\n\r\n  const { data, error } = await query\r\n\r\n  if (error) throw error\r\n\r\n  // Calculate statistics\r\n  const totalRecords = data.length\r\n  const totalRevenue = data.reduce((sum, record) => sum + (record.price || 0), 0)\r\n  const totalQuantity = data.reduce((sum, record) => sum + (record.quantity || 0), 0)\r\n\r\n  return {\r\n    totalRecords,\r\n    totalRevenue,\r\n    totalQuantity\r\n  }\r\n}\r\n\r\nexport default {\r\n  createSale,\r\n  fetchSales,\r\n  fetchSalesWithFilters,\r\n  fetchDistinctProducts,\r\n  fetchDistinctStoreNames,\r\n  fetchSalesStats\r\n}\r\n","import { render } from \"./SalesRecordFilters.vue?vue&type=template&id=5827b50c&scoped=true\"\nimport script from \"./SalesRecordFilters.vue?vue&type=script&lang=js\"\nexport * from \"./SalesRecordFilters.vue?vue&type=script&lang=js\"\n\nimport \"./SalesRecordFilters.vue?vue&type=style&index=0&id=5827b50c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5827b50c\"]])\n\nexport default __exports__","<template>\r\n  <v-card>\r\n    <v-card-title>\r\n      <v-icon left>mdi-format-list-bulleted</v-icon>\r\n      Sales Records\r\n      <v-spacer></v-spacer>\r\n      <v-chip color=\"primary\" variant=\"outlined\">\r\n        Total {{ totalRecords }} Records\r\n      </v-chip>\r\n    </v-card-title>\r\n    \r\n    <v-card-text>\r\n      <!-- Statistics -->\r\n      <v-row class=\"mb-4\" v-if=\"stats\">\r\n        <v-col cols=\"12\" md=\"4\">\r\n          <v-card color=\"primary\" variant=\"tonal\">\r\n            <v-card-text class=\"text-center\">\r\n              <div class=\"text-h6\">{{ stats.totalRecords }}</div>\r\n              <div class=\"text-caption\">Total Records</div>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"4\">\r\n          <v-card color=\"success\" variant=\"tonal\">\r\n            <v-card-text class=\"text-center\">\r\n              <div class=\"text-h6\">${{ stats.totalRevenue.toLocaleString() }}</div>\r\n              <div class=\"text-caption\">Total Revenue</div>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"4\">\r\n          <v-card color=\"info\" variant=\"tonal\">\r\n            <v-card-text class=\"text-center\">\r\n              <div class=\"text-h6\">{{ stats.totalQuantity }}</div>\r\n              <div class=\"text-caption\">Total Quantity</div>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <!-- Loading State -->\r\n      <div v-if=\"loading\" class=\"text-center py-8\">\r\n        <v-progress-circular indeterminate color=\"primary\" size=\"64\"></v-progress-circular>\r\n        <div class=\"mt-2\">Loading...</div>\r\n      </div>\r\n\r\n      <!-- Error State -->\r\n      <v-alert v-else-if=\"error\" type=\"error\" class=\"mb-4\">\r\n        {{ error }}\r\n      </v-alert>\r\n\r\n      <!-- No Data State -->\r\n      <div v-else-if=\"salesRecords.length === 0\" class=\"text-center py-8\">\r\n        <v-icon size=\"64\" color=\"grey\">mdi-inbox-outline</v-icon>\r\n        <div class=\"text-h6 mt-2\">No Sales Records Found</div>\r\n        <div class=\"text-body-2 text-grey\">Please adjust filter conditions or check data</div>\r\n      </div>\r\n\r\n      <!-- Sales Records List -->\r\n      <div v-else>\r\n        <v-expansion-panels v-model=\"expandedPanels\" multiple>\r\n          <v-expansion-panel\r\n            v-for=\"(record, index) in paginatedRecords\"\r\n            :key=\"record.id || index\"\r\n            :value=\"index\"\r\n          >\r\n            <v-expansion-panel-title>\r\n              <template v-slot:default=\"{ expanded }\">\r\n                <v-row no-gutters>\r\n                  <v-col cols=\"12\" md=\"3\">\r\n                    <v-icon :icon=\"expanded ? 'mdi-chevron-up' : 'mdi-chevron-down'\"></v-icon>\r\n                    <span class=\"ml-2\">{{ record.product }}</span>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" md=\"2\">\r\n                    <span class=\"text-caption text-grey\">Store:</span>\r\n                    <div class=\"font-weight-medium\">{{ record.name }}</div>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" md=\"2\">\r\n                    <span class=\"text-caption text-grey\">Qty:</span>\r\n                    <div class=\"font-weight-medium\">{{ record.quantity }}</div>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" md=\"2\">\r\n                    <span class=\"text-caption text-grey\">Unit:</span>\r\n                    <div class=\"font-weight-medium\">${{ record.unit_price }}</div>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" md=\"2\">\r\n                    <span class=\"text-caption text-grey\">Total:</span>\r\n                    <div class=\"font-weight-bold text-primary\">${{ record.price }}</div>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" md=\"1\">\r\n                    <span class=\"text-caption text-grey\">Time:</span>\r\n                    <div class=\"text-caption\">{{ formatDate(record.time) }}</div>\r\n                  </v-col>\r\n                </v-row>\r\n              </template>\r\n            </v-expansion-panel-title>\r\n            \r\n            <v-expansion-panel-text>\r\n              <v-divider class=\"mb-3\"></v-divider>\r\n              \r\n              <v-row>\r\n                <v-col cols=\"12\" md=\"6\">\r\n                  <v-list density=\"compact\">\r\n                    <v-list-item>\r\n                      <template v-slot:prepend>\r\n                        <v-icon>mdi-store</v-icon>\r\n                      </template>\r\n                      <v-list-item-title>Store Name</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ record.name }}</v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    \r\n                    <v-list-item>\r\n                      <template v-slot:prepend>\r\n                        <v-icon>mdi-map-marker</v-icon>\r\n                      </template>\r\n                      <v-list-item-title>Store Location</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ record.store_location }}</v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    \r\n                    <v-list-item>\r\n                      <template v-slot:prepend>\r\n                        <v-icon>mdi-package-variant</v-icon>\r\n                      </template>\r\n                      <v-list-item-title>Product</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ record.product }}</v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    \r\n                    <v-list-item>\r\n                      <template v-slot:prepend>\r\n                        <v-icon>mdi-palette</v-icon>\r\n                      </template>\r\n                      <v-list-item-title>Color</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ record.color }}</v-list-item-subtitle>\r\n                    </v-list-item>\r\n                  </v-list>\r\n                </v-col>\r\n                \r\n                <v-col cols=\"12\" md=\"6\">\r\n                  <v-list density=\"compact\">\r\n                    <v-list-item v-if=\"record.storage\">\r\n                      <template v-slot:prepend>\r\n                        <v-icon>mdi-memory</v-icon>\r\n                      </template>\r\n                      <v-list-item-title>Storage</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ record.storage }}GB</v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    \r\n                    <v-list-item>\r\n                      <template v-slot:prepend>\r\n                        <v-icon>mdi-numeric</v-icon>\r\n                      </template>\r\n                      <v-list-item-title>Quantity</v-list-item-title>\r\n                      <v-list-item-subtitle>{{ record.quantity }}</v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    \r\n                    <v-list-item>\r\n                      <template v-slot:prepend>\r\n                        <v-icon>mdi-currency-usd</v-icon>\r\n                      </template>\r\n                      <v-list-item-title>Unit Price</v-list-item-title>\r\n                      <v-list-item-subtitle>${{ record.unit_price }}</v-list-item-subtitle>\r\n                    </v-list-item>\r\n                    \r\n                    <v-list-item>\r\n                      <template v-slot:prepend>\r\n                        <v-icon>mdi-calculator</v-icon>\r\n                      </template>\r\n                      <v-list-item-title>Total Price</v-list-item-title>\r\n                      <v-list-item-subtitle class=\"text-h6 text-primary\">${{ record.price }}</v-list-item-subtitle>\r\n                    </v-list-item>\r\n                  </v-list>\r\n                </v-col>\r\n              </v-row>\r\n              \r\n              <v-divider class=\"mt-3\"></v-divider>\r\n              \r\n              <v-row class=\"mt-2\">\r\n                <v-col cols=\"12\" class=\"text-right\">\r\n                  <v-chip color=\"grey\" variant=\"outlined\" size=\"small\">\r\n                    <v-icon start>mdi-clock</v-icon>\r\n                    Sale Time: {{ formatDateTime(record.time) }}\r\n                  </v-chip>\r\n                  <v-chip color=\"grey\" variant=\"outlined\" size=\"small\" class=\"ml-2\">\r\n                    <v-icon start>mdi-identifier</v-icon>\r\n                    ID: {{ record.id }}\r\n                  </v-chip>\r\n                </v-col>\r\n              </v-row>\r\n            </v-expansion-panel-text>\r\n          </v-expansion-panel>\r\n        </v-expansion-panels>\r\n        \r\n        <!-- Pagination -->\r\n        <v-pagination\r\n          v-if=\"totalPages > 1\"\r\n          v-model=\"currentPage\"\r\n          :length=\"totalPages\"\r\n          :total-visible=\"7\"\r\n          class=\"mt-4\"\r\n          @update:model-value=\"onPageChange\"\r\n        ></v-pagination>\r\n      </div>\r\n    </v-card-text>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'SalesRecordList',\r\n  props: {\r\n    salesRecords: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    stats: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    error: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentPage: 1,\r\n      itemsPerPage: 20,\r\n      expandedPanels: []\r\n    }\r\n  },\r\n  computed: {\r\n    totalRecords() {\r\n      return this.salesRecords.length\r\n    },\r\n    totalPages() {\r\n      return Math.ceil(this.totalRecords / this.itemsPerPage)\r\n    },\r\n    paginatedRecords() {\r\n      const start = (this.currentPage - 1) * this.itemsPerPage\r\n      const end = start + this.itemsPerPage\r\n      return this.salesRecords.slice(start, end)\r\n    }\r\n  },\r\n  watch: {\r\n    salesRecords() {\r\n      // Reset to first page when records change\r\n      this.currentPage = 1\r\n      this.expandedPanels = []\r\n    }\r\n  },\r\n  methods: {\r\n    formatDate(dateString) {\r\n      if (!dateString) return ''\r\n      const date = new Date(dateString)\r\n      return date.toLocaleDateString('en-US')\r\n    },\r\n    \r\n    formatDateTime(dateString) {\r\n      if (!dateString) return ''\r\n      const date = new Date(dateString)\r\n      return date.toLocaleString('en-US')\r\n    },\r\n    \r\n    onPageChange(page) {\r\n      this.currentPage = page\r\n      // Scroll to top\r\n      this.$nextTick(() => {\r\n        const element = this.$el.querySelector('.v-card')\r\n        if (element) {\r\n          element.scrollIntoView({ behavior: 'smooth' })\r\n        }\r\n      })\r\n    },\r\n    \r\n    expandAll() {\r\n      this.expandedPanels = Array.from({ length: this.paginatedRecords.length }, (_, i) => i)\r\n    },\r\n    \r\n    collapseAll() {\r\n      this.expandedPanels = []\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.v-expansion-panel-title {\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.v-list-item {\r\n  min-height: 36px;\r\n}\r\n\r\n.v-chip {\r\n  font-size: 0.75rem;\r\n}\r\n</style>\r\n","import { render } from \"./SalesRecordList.vue?vue&type=template&id=1232b3a8&scoped=true\"\nimport script from \"./SalesRecordList.vue?vue&type=script&lang=js\"\nexport * from \"./SalesRecordList.vue?vue&type=script&lang=js\"\n\nimport \"./SalesRecordList.vue?vue&type=style&index=0&id=1232b3a8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1232b3a8\"]])\n\nexport default __exports__","import { render } from \"./SalesRecord.vue?vue&type=template&id=5fb0bc80&scoped=true\"\nimport script from \"./SalesRecord.vue?vue&type=script&lang=js\"\nexport * from \"./SalesRecord.vue?vue&type=script&lang=js\"\n\nimport \"./SalesRecord.vue?vue&type=style&index=0&id=5fb0bc80&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5fb0bc80\"]])\n\nexport default __exports__","<template>\r\n  <v-container fluid>\r\n    <v-row>\r\n      <v-col cols=\"12\">\r\n        <v-card>\r\n          <v-card-title>\r\n            <h1 class=\"text-h4\">Inventory</h1>\r\n          </v-card-title>\r\n          <v-card-text>\r\n            <v-row class=\"mb-4\" dense>\r\n              <v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n                <v-text-field\r\n                  v-model=\"idFilter\"\r\n                  label=\"ID\"\r\n                  clearable\r\n                  density=\"comfortable\"\r\n                />\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n                <v-text-field\r\n                  v-model=\"productFilter\"\r\n                  label=\"Product\"\r\n                  clearable\r\n                  density=\"comfortable\"\r\n                />\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n                <v-text-field\r\n                  v-model=\"nameFilter\"\r\n                  label=\"Store Name\"\r\n                  clearable\r\n                  density=\"comfortable\"\r\n                />\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n                <v-text-field\r\n                  v-model=\"locationFilter\"\r\n                  label=\"Store Location\"\r\n                  clearable\r\n                  density=\"comfortable\"\r\n                />\r\n              </v-col>\r\n            </v-row>\r\n            <v-data-table\r\n              :headers='headers'\r\n              :items='filteredProducts'\r\n              v-model:sort-by=\"sortBy\"\r\n            >\r\n              <template #[`item.price`]=\"{ item }\">\r\n                <span v-if=\"item.price !== null && item.price !== undefined\">\r\n                  ${{ item.price }}\r\n                </span>\r\n                <span v-else>-</span>\r\n              </template>\r\n            </v-data-table>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport supabase from '../lib/supabase'\r\n\r\nconst TABLE_NAME = 'inventory'\r\n\r\nexport default {\r\n  name: 'InventoryPage',\r\n  data(){\r\n    return {\r\n      headers:[\r\n        {title: 'ID', value: 'id'},\r\n        {title: 'Product', value: 'product'},\r\n        {title: 'Color', value: 'color'},\r\n        {title: 'Storage', value: 'storage'},\r\n        {title: 'Stock Quantity', value: 'quantity'},\r\n        {title: 'Price', value: 'price'},\r\n        {title: 'Store Name', value: 'name'},\r\n        {title: 'Store Location', value: 'location'},\r\n        {title: 'Update Time', value: 'UpdateTime'},\r\n      ],\r\n      products: [],\r\n      // filters\r\n      idFilter: '',\r\n      productFilter: '',\r\n      nameFilter: '',\r\n      locationFilter: '',\r\n      // initial sort by store name ascending\r\n      sortBy: [{ key: 'name', order: 'asc' }]\r\n    };\r\n  },\r\n  computed: {\r\n    filteredProducts(){\r\n      const idQ = String(this.idFilter || '').trim().toLowerCase()\r\n      const productQ = String(this.productFilter || '').trim().toLowerCase()\r\n      const nameQ = String(this.nameFilter || '').trim().toLowerCase()\r\n      const locationQ = String(this.locationFilter || '').trim().toLowerCase()\r\n\r\n      if (!idQ && !productQ && !nameQ && !locationQ) return this.products\r\n\r\n      return (this.products || []).filter((row) => {\r\n        const idStr = row && row.id !== undefined && row.id !== null ? String(row.id).toLowerCase() : ''\r\n        const productStr = row && row.product ? String(row.product).toLowerCase() : ''\r\n        const nameStr = row && row.name ? String(row.name).toLowerCase() : ''\r\n        const locationStr = row && row.location ? String(row.location).toLowerCase() : ''\r\n\r\n        const idOk = !idQ || idStr.includes(idQ)\r\n        const productOk = !productQ || productStr.includes(productQ)\r\n        const nameOk = !nameQ || nameStr.includes(nameQ)\r\n        const locationOk = !locationQ || locationStr.includes(locationQ)\r\n\r\n        return idOk && productOk && nameOk && locationOk\r\n      })\r\n    }\r\n  },\r\n  async mounted(){\r\n    try{\r\n      const {data, error} = await supabase\r\n      .from (TABLE_NAME)\r\n      .select('*');\r\n      if (error) throw error\r\n      this.products = data\r\n    }catch (error){\r\n      console.error('Error fetching data:', error)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./Inventory.vue?vue&type=template&id=50eaf771\"\nimport script from \"./Inventory.vue?vue&type=script&lang=js\"\nexport * from \"./Inventory.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-container fluid>\r\n    <v-row>\r\n      <v-col cols=\"12\">\r\n        <v-card>\r\n          <v-card-title>\r\n            <h1 class=\"text-h4\">Selling</h1>\r\n          </v-card-title>\r\n          <v-card-text>\r\n            <InventorySearchPanel @change=\"onSelectionChange\" />\r\n            \r\n\r\n            <!-- Quantity Selection - Always show when selectedItem exists -->\r\n            <v-card v-if=\"selectedItem\" class=\"mt-4\" elevation=\"2\">\r\n              <v-card-title>Select Sale Quantity</v-card-title>\r\n              <v-card-text>\r\n                <v-row>\r\n                  <v-col cols=\"12\">\r\n                    <v-radio-group v-model=\"selectedQuantity\" row>\r\n                      <v-radio label=\"1\" :value=\"1\"></v-radio>\r\n                      <v-radio label=\"2\" :value=\"2\"></v-radio>\r\n                      <v-radio label=\"3\" :value=\"3\"></v-radio>\r\n                      <v-radio label=\"4\" :value=\"4\"></v-radio>\r\n                      <v-radio label=\"Custom\" :value=\"customQuantity\"></v-radio>\r\n                    </v-radio-group>\r\n                  </v-col>\r\n                  <v-col cols=\"6\" v-if=\"selectedQuantity === customQuantity\">\r\n                    <v-text-field\r\n                      v-model=\"customQuantityValue\"\r\n                      label=\"Custom Quantity\"\r\n                      type=\"number\"\r\n                      min=\"1\"\r\n                      :max=\"selectedItem.quantity\"\r\n                      outlined\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"6\">\r\n                    <div class=\"text-h6\">\r\n                      <strong>Total Price: {{ totalPriceDisplay }}</strong>\r\n                    </div>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </v-card>\r\n\r\n            <!-- Sell Button - Always show when selectedItem exists -->\r\n            <v-card v-if=\"selectedItem\" class=\"mt-4\" elevation=\"2\">\r\n              <v-card-text>\r\n                <v-btn\r\n                  color=\"primary\"\r\n                  size=\"large\"\r\n                  :disabled=\"!canSell\"\r\n                  :loading=\"isSelling\"\r\n                  @click=\"handleSell\"\r\n                >\r\n                  Checkout\r\n                </v-btn>\r\n                <v-btn\r\n                  class=\"ml-2\"\r\n                  color=\"secondary\"\r\n                  size=\"large\"\r\n                  :disabled=\"!canSell\"\r\n                  :loading=\"isAddingToCart\"\r\n                  @click=\"handleAddToCart\"\r\n                >\r\n                  Add to Cart\r\n                </v-btn>\r\n                <v-alert\r\n                  v-if=\"sellMessage\"\r\n                  :type=\"sellMessageType\"\r\n                  class=\"mt-2\"\r\n                >\r\n                  {{ sellMessage }}\r\n                </v-alert>\r\n              </v-card-text>\r\n            </v-card>\r\n\r\n            <!-- Cart Panel at bottom -->\r\n            <CartPanel\r\n              :items=\"cart.items\"\r\n              :loading=\"isCartProcessing\"\r\n              :estimates=\"priceEstimates\"\r\n              :total-estimate=\"totalEstimate\"\r\n              :message=\"cartMessage\"\r\n              :message-type=\"cartMessageType\"\r\n              @update-qty=\"onCartUpdateQty\"\r\n              @remove-item=\"onCartRemoveItem\"\r\n              @clear=\"onCartClear\"\r\n              @checkout=\"onCartCheckout\"\r\n              @refresh-prices=\"onRefreshEstimates\"\r\n            />\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport InventorySearchPanel from '../components/InventorySearchPanel.vue'\r\nimport { fetchPrice, fetchQuantitySum } from '../api/inventory'\r\nimport { createSale } from '../api/sales'\r\nimport CartPanel from '../components/CartPanel.vue'\r\nimport { loadCart, addItem as cartAddItem, updateQuantity as cartUpdateQuantity, removeItem as cartRemoveItem, clearCart as cartClear } from '../lib/cart'\r\nimport { sanitizeStorageValue, getInventoryRecordId, deductInventory } from '../lib/inventoryOps'\r\n\r\nexport default {\r\n  name: 'SellingPage',\r\n  components: { InventorySearchPanel, CartPanel },\r\n  data() {\r\n    return {\r\n      selectedItem: null,\r\n      selectedQuantity: 1,\r\n      customQuantity: 'custom',\r\n      customQuantityValue: 1,\r\n      isSelling: false,\r\n      isAddingToCart: false,\r\n      sellMessage: '',\r\n      sellMessageType: 'success',\r\n      cart: { store: null, items: [] },\r\n      isCartProcessing: false,\r\n      cartMessage: '',\r\n      cartMessageType: 'success',\r\n      priceEstimates: null,\r\n      totalEstimate: null\r\n    }\r\n  },\r\n  created() {\r\n    this.cart = loadCart()\r\n  },\r\n  computed: {\r\n    actualQuantity() {\r\n      if (this.selectedQuantity === this.customQuantity) {\r\n        return parseInt(this.customQuantityValue) || 1\r\n      }\r\n      return this.selectedQuantity\r\n    },\r\n    totalPrice() {\r\n      if (!this.selectedItem || !this.selectedItem.price) return 0\r\n      return this.selectedItem.price * this.actualQuantity\r\n    },\r\n    totalPriceDisplay() {\r\n      if (!this.selectedItem || !this.selectedItem.price) return '$0'\r\n      const price = this.selectedItem.price * this.actualQuantity\r\n      return `$${price.toFixed(2)}`\r\n    },\r\n    canSell() {\r\n      return this.selectedItem && \r\n             this.selectedItem.price && \r\n             this.actualQuantity > 0 && \r\n             this.actualQuantity <= (this.selectedItem.quantity || 0)\r\n    }\r\n  },\r\n  methods: {\r\n    async onSelectionChange(payload) {\r\n      console.log('Selection changed', payload)\r\n      \r\n      // Check if we have all required fields (store, product, color)\r\n      if (payload.store && payload.product && payload.color) {\r\n        try {\r\n          // Handle storage field properly - use null instead of empty string for bigint\r\n          const storageValue = sanitizeStorageValue(payload.storage)\r\n          \r\n          // Fetch price and inventory information\r\n          const [price, quantity] = await Promise.all([\r\n            fetchPrice(payload.store, payload.product, payload.color, storageValue),\r\n            fetchQuantitySum(payload.store, payload.product, payload.color, storageValue)\r\n          ])\r\n          \r\n          this.selectedItem = {\r\n            store: payload.store,\r\n            product: payload.product,\r\n            color: payload.color,\r\n            storage: storageValue,\r\n            price: price,\r\n            quantity: quantity\r\n          }\r\n          \r\n          // Reset quantity selection\r\n          this.selectedQuantity = 1\r\n          this.customQuantityValue = 1\r\n          this.sellMessage = ''\r\n        } catch (error) {\r\n          console.error('Error fetching item details:', error)\r\n          this.sellMessage = 'Error fetching product information'\r\n          this.sellMessageType = 'error'\r\n        }\r\n      } else {\r\n        this.selectedItem = null\r\n        this.sellMessage = ''\r\n      }\r\n    },\r\n    handleAddToCart() {\r\n      if (!this.canSell) return\r\n      this.isAddingToCart = true\r\n      this.cartMessage = ''\r\n      try {\r\n        const line = {\r\n          product: this.selectedItem.product,\r\n          color: this.selectedItem.color,\r\n          storage: this.selectedItem.storage,\r\n          quantity: this.actualQuantity\r\n        }\r\n        const { cart: next, error } = cartAddItem(this.cart, this.selectedItem.store, line)\r\n        if (error) {\r\n          this.cartMessage = error\r\n          this.cartMessageType = 'error'\r\n        } else {\r\n          this.cart = next\r\n          this.cartMessage = 'Added to cart'\r\n          this.cartMessageType = 'success'\r\n        }\r\n      } catch (e) {\r\n        this.cartMessage = 'Failed to add to cart'\r\n        this.cartMessageType = 'error'\r\n      } finally {\r\n        this.isAddingToCart = false\r\n      }\r\n    },\r\n    \r\n    async handleSell() {\r\n      if (!this.canSell) return\r\n      \r\n      this.isSelling = true\r\n      this.sellMessage = ''\r\n      \r\n      try {\r\n        // Latest unit price at checkout time\r\n        const latestUnitPrice = await fetchPrice(\r\n          this.selectedItem.store,\r\n          this.selectedItem.product,\r\n          this.selectedItem.color,\r\n          this.selectedItem.storage\r\n        )\r\n        // Get the inventory record ID before deducting\r\n        const inventoryRecordId = await getInventoryRecordId({\r\n          store: this.selectedItem.store,\r\n          product: this.selectedItem.product,\r\n          color: this.selectedItem.color,\r\n          storage: this.selectedItem.storage\r\n        })\r\n        \r\n        // Create sale record with inventory ID\r\n        const saleData = {\r\n          time: new Date().toISOString(),\r\n          id: inventoryRecordId, // Use the same ID as inventory record\r\n          name: this.selectedItem.store.name,\r\n          product: this.selectedItem.product,\r\n          price: (latestUnitPrice || 0) * this.actualQuantity,\r\n          quantity: this.actualQuantity,\r\n          store_location: this.selectedItem.store.location,\r\n          color: this.selectedItem.color,\r\n          storage: sanitizeStorageValue(this.selectedItem.storage),\r\n          unit_price: latestUnitPrice\r\n        }\r\n        \r\n        await createSale(saleData)\r\n        \r\n        // Deduct inventory from the inventory table\r\n        await deductInventory({\r\n          store: this.selectedItem.store,\r\n          product: this.selectedItem.product,\r\n          color: this.selectedItem.color,\r\n          storage: this.selectedItem.storage\r\n        }, this.actualQuantity)\r\n        \r\n        this.sellMessage = `Successfully sold ${this.actualQuantity} items for $${(latestUnitPrice || 0) * this.actualQuantity}`\r\n        this.sellMessageType = 'success'\r\n        \r\n        // Refresh inventory information\r\n        const quantity = await fetchQuantitySum(\r\n          this.selectedItem.store, \r\n          this.selectedItem.product, \r\n          this.selectedItem.color, \r\n          this.selectedItem.storage\r\n        )\r\n        this.selectedItem.quantity = quantity\r\n        \r\n        // Reset quantity selection\r\n        this.selectedQuantity = 1\r\n        this.customQuantityValue = 1\r\n        \r\n      } catch (error) {\r\n        console.error('Error creating sale:', error)\r\n        this.sellMessage = 'Sale failed: ' + error.message\r\n        this.sellMessageType = 'error'\r\n      } finally {\r\n        this.isSelling = false\r\n      }\r\n    },\r\n    onCartUpdateQty({ key, quantity }) {\r\n      this.cart = cartUpdateQuantity(this.cart, key, quantity)\r\n      this.cartMessage = ''\r\n    },\r\n    onCartRemoveItem(key) {\r\n      this.cart = cartRemoveItem(this.cart, key)\r\n      this.cartMessage = ''\r\n    },\r\n    onCartClear() {\r\n      this.cart = cartClear()\r\n      this.cartMessage = ''\r\n      this.priceEstimates = null\r\n      this.totalEstimate = null\r\n    },\r\n    async onCartCheckout() {\r\n      if (!this.cart || this.cart.items.length === 0) return\r\n      this.isCartProcessing = true\r\n      this.cartMessage = ''\r\n      try {\r\n        // 先逐筆驗最新單價與可售數量\r\n        for (const item of this.cart.items) {\r\n          const [qtyAvailable] = await Promise.all([\r\n            fetchQuantitySum(this.cart.store, item.product, item.color, item.storage)\r\n          ])\r\n          if (qtyAvailable < item.quantity) {\r\n            this.cartMessage = `Insufficient inventory for ${item.product} ${item.color} ${item.storage || ''}. Available: ${qtyAvailable}, Required: ${item.quantity}`\r\n            this.cartMessageType = 'error'\r\n            return\r\n          }\r\n        }\r\n\r\n        // 逐筆結帳與扣庫存（依你的決策逐筆處理）\r\n        for (const item of this.cart.items) {\r\n          const latestUnitPrice = await fetchPrice(this.cart.store, item.product, item.color, item.storage)\r\n          const inventoryRecordId = await getInventoryRecordId({\r\n            store: this.cart.store,\r\n            product: item.product,\r\n            color: item.color,\r\n            storage: item.storage\r\n          })\r\n          const saleData = {\r\n            time: new Date().toISOString(),\r\n            id: inventoryRecordId,\r\n            name: this.cart.store.name,\r\n            product: item.product,\r\n            price: (latestUnitPrice || 0) * item.quantity,\r\n            quantity: item.quantity,\r\n            store_location: this.cart.store.location,\r\n            color: item.color,\r\n            storage: sanitizeStorageValue(item.storage),\r\n            unit_price: latestUnitPrice\r\n          }\r\n          await createSale(saleData)\r\n          await deductInventory({\r\n            store: this.cart.store,\r\n            product: item.product,\r\n            color: item.color,\r\n            storage: item.storage\r\n          }, item.quantity)\r\n        }\r\n\r\n        this.cart = cartClear()\r\n        this.cartMessage = 'Checkout completed.'\r\n        this.cartMessageType = 'success'\r\n      } catch (e) {\r\n        console.error(e)\r\n        this.cartMessage = `Checkout failed: ${e.message}`\r\n        this.cartMessageType = 'error'\r\n      } finally {\r\n        this.isCartProcessing = false\r\n      }\r\n    },\r\n    async onRefreshEstimates() {\r\n      if (!this.cart || this.cart.items.length === 0 || !this.cart.store) {\r\n        this.priceEstimates = null\r\n        this.totalEstimate = null\r\n        return\r\n      }\r\n      this.isCartProcessing = true\r\n      try {\r\n        const estimates = {}\r\n        let total = 0\r\n        for (const item of this.cart.items) {\r\n          const unit = await fetchPrice(this.cart.store, item.product, item.color, item.storage)\r\n          estimates[item.key] = unit\r\n          total += (Number(unit) || 0) * (Number(item.quantity) || 0)\r\n        }\r\n        this.priceEstimates = estimates\r\n        this.totalEstimate = total\r\n      } catch (e) {\r\n        console.error(e)\r\n        this.cartMessage = 'Failed to refresh prices'\r\n        this.cartMessageType = 'error'\r\n      } finally {\r\n        this.isCartProcessing = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","<template>\r\n  <v-card>\r\n    <v-card-text>\r\n      <v-expansion-panels v-model=\"activePanel\" variant=\"accordion\" class=\"mb-4\">\r\n        <v-expansion-panel>\r\n          <v-expansion-panel-title>Product</v-expansion-panel-title>\r\n          <v-expansion-panel-text>\r\n            <ProductSelector v-model=\"selectedProduct\" />\r\n          </v-expansion-panel-text>\r\n        </v-expansion-panel>\r\n\r\n        <v-expansion-panel v-if=\"!!selectedProduct\">\r\n          <v-expansion-panel-title>Color</v-expansion-panel-title>\r\n          <v-expansion-panel-text>\r\n            <ColorSelector :product=\"selectedProduct\" v-model=\"selectedColor\" />\r\n          </v-expansion-panel-text>\r\n        </v-expansion-panel>\r\n\r\n        <v-expansion-panel v-if=\"!!selectedColor\">\r\n          <v-expansion-panel-title>Storage</v-expansion-panel-title>\r\n          <v-expansion-panel-text>\r\n            <StorageSelector\r\n              :product=\"selectedProduct\"\r\n              :color=\"selectedColor\"\r\n              v-model=\"selectedStorage\"\r\n              @options=\"onStorageOptions\"\r\n            />\r\n          </v-expansion-panel-text>\r\n        </v-expansion-panel>\r\n\r\n        <v-expansion-panel v-if=\"!!selectedColor\">\r\n          <v-expansion-panel-title>Store</v-expansion-panel-title>\r\n          <v-expansion-panel-text>\r\n            <StoreSelector\r\n              v-model=\"selectedStore\"\r\n              :product=\"selectedProduct\"\r\n              :color=\"selectedColor\"\r\n              :storage=\"selectedStorage\"\r\n            />\r\n          </v-expansion-panel-text>\r\n        </v-expansion-panel>\r\n      </v-expansion-panels>\r\n\r\n      <v-row class=\"mt-2\">\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-alert v-if=\"error\" type=\"error\" density=\"comfortable\">{{ error }}</v-alert>\r\n          <v-skeleton-loader v-else-if=\"loading\" type=\"text\" />\r\n          <div v-else class=\"text-subtitle-1\">\r\n            <span v-if=\"selectedStore\">Quantity:</span>\r\n            <span v-if=\"selectedStore\" class=\"font-weight-bold ml-1\">{{ quantityDisplay }}</span>\r\n            <span v-if=\"selectedStore && selectedStorage\" class=\"ml-4\">Storage:</span>\r\n            <span v-if=\"selectedStore && selectedStorage\" class=\"font-weight-bold ml-1\">{{ selectedStorage }}GB</span>\r\n            <span v-if=\"selectedStore && price !== null && price !== undefined\" class=\"ml-4\">Price:</span>\r\n            <span v-if=\"selectedStore && price !== null && price !== undefined\" class=\"font-weight-bold ml-1\">${{ price }}</span>\r\n          </div>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card-text>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport StoreSelector from './StoreSelector.vue'\r\nimport ProductSelector from './ProductSelector.vue'\r\nimport ColorSelector from './ColorSelector.vue'\r\nimport StorageSelector from './StorageSelector.vue'\r\nimport { fetchQuantitySum, fetchPrice } from '../api/inventory'\r\n\r\nexport default {\r\n  name: 'InventorySearchPanel',\r\n  components: { StoreSelector, ProductSelector, ColorSelector, StorageSelector },\r\n  emits: ['change'],\r\n  data() {\r\n    return {\r\n      selectedStore: null,\r\n      selectedProduct: '',\r\n      selectedColor: '',\r\n      selectedStorage: '',\r\n      loading: false,\r\n      error: '',\r\n      quantity: null,\r\n      price: null,\r\n      storageOptionsCount: 0,\r\n      activePanel: 0\r\n    }\r\n  },\r\n  computed: {\r\n    quantityDisplay() {\r\n      return this.quantity === null ? '-' : this.quantity\r\n    },\r\n    hasStoreProductColor() {\r\n      return !!this.selectedStore && !!this.selectedProduct && !!this.selectedColor\r\n    }\r\n  },\r\n  watch: {\r\n    selectedProduct() { this.resetAfterProduct(); this.emitSelection(); this.activePanel = 1 },\r\n    selectedColor() { this.resetAfterColor(); this.emitSelection(); this.activePanel = 2 },\r\n    selectedStorage() { this.emitSelection(); this.activePanel = 3 },\r\n    selectedStore() { this.triggerQuery(); this.activePanel = 3 }\r\n  },\r\n  methods: {\r\n    onStorageOptions(count) {\r\n      this.storageOptionsCount = count\r\n    },\r\n    resetAfterProduct() {\r\n      this.selectedColor = ''\r\n      this.selectedStorage = ''\r\n      this.selectedStore = null\r\n      this.storageOptionsCount = 0\r\n      this.quantity = null\r\n      this.price = null\r\n    },\r\n    resetAfterColor() {\r\n      this.selectedStorage = ''\r\n      this.selectedStore = null\r\n      this.storageOptionsCount = 0\r\n      this.quantity = null\r\n      this.price = null\r\n    },\r\n    emitSelection() {\r\n      this.$emit('change', {\r\n        store: this.selectedStore,\r\n        product: this.selectedProduct,\r\n        color: this.selectedColor,\r\n        storage: this.selectedStorage\r\n      })\r\n    },\r\n    async triggerQuery() {\r\n      this.emitSelection()\r\n\r\n      if (!this.selectedStore || !this.selectedProduct || !this.selectedColor) {\r\n        this.quantity = null\r\n        this.price = null\r\n        return\r\n      }\r\n\r\n      this.loading = true\r\n      this.error = ''\r\n      try {\r\n        const [qty, price] = await Promise.all([\r\n          fetchQuantitySum(this.selectedStore, this.selectedProduct, this.selectedColor, this.selectedStorage),\r\n          fetchPrice(this.selectedStore, this.selectedProduct, this.selectedColor, this.selectedStorage)\r\n        ])\r\n        this.quantity = qty\r\n        this.price = price\r\n      } catch (err) {\r\n        this.error = 'Failed to load data'\r\n        // eslint-disable-next-line no-console\r\n        console.error(err)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\r\n\r\n","<template>\r\n  <v-autocomplete\r\n    :items=\"storeItems\"\r\n    :loading=\"loading\"\r\n    :model-value=\"modelValue\"\r\n    item-title=\"label\"\r\n    item-value=\"value\"\r\n    label=\"Store\"\r\n    placeholder=\"Select a store\"\r\n    clearable\r\n    @update:model-value=\"onUpdate\"\r\n  >\r\n    <template #item=\"{ props, item }\">\r\n      <v-list-item\r\n        v-bind=\"props\"\r\n        :disabled=\"item?.raw?.notAvailable === true\"\r\n        :class=\"item?.raw?.notAvailable ? 'text-disabled' : ''\"\r\n      >\r\n        <v-list-item-title>\r\n          {{ item?.raw?.label }}\r\n        </v-list-item-title>\r\n      </v-list-item>\r\n    </template>\r\n  </v-autocomplete>\r\n</template>\r\n\r\n<script>\r\nimport { fetchDistinctStores, fetchStoresByProductColorStorage } from '../api/inventory'\r\n\r\nexport default {\r\n  name: 'StoreSelector',\r\n  props: {\r\n    modelValue: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    product: { type: String, default: '' },\r\n    color: { type: String, default: '' },\r\n    storage: { type: [String, Number], default: '' }\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      storeItems: []\r\n    }\r\n  },\r\n  methods: {\r\n    onUpdate(val) {\r\n      this.$emit('update:modelValue', val)\r\n    },\r\n    async loadStores() {\r\n      this.loading = true\r\n      try {\r\n        const allStores = await fetchDistinctStores()\r\n        console.log('All stores from fetchDistinctStores:', allStores)\r\n\r\n        // Build a quick lookup for selection-supported stores (present rows) and availability by quantity\r\n        let presenceMap = new Map()\r\n        if (this.product && this.color) {\r\n          const storesForSelection = await fetchStoresByProductColorStorage(this.product, this.color, this.storage)\r\n          console.log('Stores from fetchStoresByProductColorStorage:', storesForSelection)\r\n          for (const s of storesForSelection) {\r\n            const key = `${String(s.name).trim().replace(/\\s+/g, ' ').toLowerCase()}__${String(s.location).trim().replace(/\\s+/g, ' ').toLowerCase()}`\r\n            presenceMap.set(key, { hasProduct: true, available: s.available })\r\n          }\r\n        }\r\n\r\n        const normalizeKey = (n, l) => `${String(n).trim().replace(/\\s+/g, ' ').toLowerCase()}__${String(l).trim().replace(/\\s+/g, ' ').toLowerCase()}`\r\n        const storeMap = new Map()\r\n        \r\n        // Process each store and ensure no duplicates\r\n        for (const s of allStores) {\r\n          const key = normalizeKey(s.name, s.location)\r\n          \r\n          // Skip if we already processed this store\r\n          if (storeMap.has(key)) {\r\n            console.log('Skipping duplicate store:', s.name, s.location)\r\n            continue\r\n          }\r\n          \r\n          const presence = presenceMap.get(key)\r\n          const hasProduct = presence?.hasProduct === true\r\n          const hasInventory = presence?.available === true\r\n          const cleanName = String(s.name).trim().replace(/\\s+/g, ' ')\r\n          const cleanLocation = String(s.location).trim().replace(/\\s+/g, ' ')\r\n          \r\n          let label = `${cleanName} — ${cleanLocation}`\r\n          if (this.product && this.color) {\r\n            if (!hasProduct) {\r\n              label = `(not available) ${label}`\r\n            } else if (!hasInventory) {\r\n              label = `(no available) ${label}`\r\n            }\r\n          }\r\n          \r\n          const value = { name: cleanName, location: cleanLocation }\r\n          const item = {\r\n            label,\r\n            value,\r\n            notAvailable: this.product && this.color ? !hasProduct : false\r\n          }\r\n          \r\n          storeMap.set(key, item)\r\n          console.log('Added store to map:', key, item)\r\n        }\r\n        \r\n        const finalItems = Array.from(storeMap.values())\r\n        console.log('Final store items:', finalItems)\r\n        \r\n        // Check for duplicate values\r\n        const valueSet = new Set()\r\n        const uniqueItems = []\r\n        for (const item of finalItems) {\r\n          const valueKey = JSON.stringify(item.value)\r\n          if (!valueSet.has(valueKey)) {\r\n            valueSet.add(valueKey)\r\n            uniqueItems.push(item)\r\n          } else {\r\n            console.log('Found duplicate value:', item.value)\r\n          }\r\n        }\r\n        \r\n        console.log('Unique items after deduplication:', uniqueItems)\r\n        this.storeItems = uniqueItems\r\n      } catch (err) {\r\n        // eslint-disable-next-line no-console\r\n        console.error('Failed to load stores', err)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadStores()\r\n  },\r\n  watch: {\r\n    product() { this.loadStores() },\r\n    color() { this.loadStores() },\r\n    storage() { this.loadStores() }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\r\n\r\n","import supabase from '../lib/supabase'\r\n\r\nconst TABLE_NAME = 'inventory'\r\n\r\nexport async function fetchDistinctStores() {\r\n  const { data, error } = await supabase\r\n    .from(TABLE_NAME)\r\n    .select('name, location')\r\n    .not('name', 'is', null)\r\n    .not('location', 'is', null)\r\n\r\n  if (error) throw error\r\n\r\n  const seen = new Set()\r\n  const stores = []\r\n  const collapse = s => String(s).trim().replace(/\\s+/g, ' ')\r\n  for (const row of data) {\r\n    const name = collapse(row.name)\r\n    const location = collapse(row.location)\r\n    const key = `${name.toLowerCase()}__${location.toLowerCase()}`\r\n    if (!seen.has(key)) {\r\n      seen.add(key)\r\n      stores.push({\r\n        name,\r\n        location,\r\n        label: `${name} — ${location}`\r\n      })\r\n    }\r\n  }\r\n  return stores.sort((a, b) => a.label.localeCompare(b.label))\r\n}\r\n\r\n// New: fetch distinct products across all stores\r\nexport async function fetchDistinctProducts() {\r\n  const { data, error } = await supabase\r\n    .from(TABLE_NAME)\r\n    .select('product')\r\n    .not('product', 'is', null)\r\n\r\n  if (error) throw error\r\n\r\n  const set = new Set((data || []).map(r => String(r.product).trim().toLowerCase()))\r\n  return Array.from(set).sort()\r\n}\r\n\r\n// New: fetch distinct colors across all stores for a given product\r\nexport async function fetchColorsByProduct(product) {\r\n  const { data, error } = await supabase\r\n    .from(TABLE_NAME)\r\n    .select('color')\r\n    .ilike('product', product)\r\n    .not('color', 'is', null)\r\n\r\n  if (error) throw error\r\n\r\n  const set = new Set((data || []).map(r => String(r.color).trim().toLowerCase()))\r\n  return Array.from(set).sort()\r\n}\r\n\r\n// New: fetch distinct storages across all stores for a given product+color\r\nexport async function fetchStoragesByProductColor(product, color) {\r\n  const { data, error } = await supabase\r\n    .from(TABLE_NAME)\r\n    .select('storage')\r\n    .ilike('product', product)\r\n    .ilike('color', color)\r\n    .not('storage', 'is', null)\r\n\r\n  if (error) throw error\r\n\r\n  const set = new Set((data || []).map(r => String(r.storage).trim()))\r\n  return Array.from(set).sort((a, b) => Number(a) - Number(b))\r\n}\r\n\r\n// New: fetch stores for a given product/color/storage with availability flag\r\nexport async function fetchStoresByProductColorStorage(product, color, storage) {\r\n  let query = supabase\r\n    .from(TABLE_NAME)\r\n    .select('name, location, quantity')\r\n    .ilike('product', product)\r\n    .ilike('color', color)\r\n\r\n  if (storage !== undefined && storage !== null && storage !== '') {\r\n    const storageNumber = Number(storage)\r\n    query = Number.isNaN(storageNumber)\r\n      ? query.eq('storage', String(storage))\r\n      : query.eq('storage', storageNumber)\r\n  } else {\r\n    query = query.or('storage.is.null,storage.eq.0')\r\n  }\r\n\r\n  const { data, error } = await query\r\n\r\n  if (error) throw error\r\n\r\n  const collapse = s => String(s).trim().replace(/\\s+/g, ' ')\r\n  const aggregate = new Map()\r\n  for (const row of data || []) {\r\n    const name = collapse(row.name)\r\n    const location = collapse(row.location)\r\n    const key = `${name.toLowerCase()}__${location.toLowerCase()}`\r\n    const prev = aggregate.get(key) || 0\r\n    const n = Number(row.quantity)\r\n    aggregate.set(key, prev + (Number.isNaN(n) ? 0 : n))\r\n  }\r\n\r\n  const results = []\r\n  for (const [key, total] of aggregate.entries()) {\r\n    const [nameLower, locationLower] = key.split('__')\r\n    // We need to restore the original case by finding it from the original data\r\n    const originalRow = data.find(row => \r\n      collapse(row.name).toLowerCase() === nameLower && \r\n      collapse(row.location).toLowerCase() === locationLower\r\n    )\r\n    const name = originalRow ? collapse(originalRow.name) : nameLower\r\n    const location = originalRow ? collapse(originalRow.location) : locationLower\r\n    const available = total > 0\r\n    const baseLabel = `${name} — ${location}`\r\n    const label = available ? baseLabel : `(no available) ${baseLabel}`\r\n    results.push({ name, location, label, available })\r\n  }\r\n  return results.sort((a, b) => a.label.localeCompare(b.label))\r\n}\r\n\r\nexport async function fetchProductsByStore(store) {\r\n  const { name, location } = store\r\n  const { data, error } = await supabase\r\n    .from(TABLE_NAME)\r\n    .select('product')\r\n    .eq('name', name)\r\n    .eq('location', location)\r\n    .not('product', 'is', null)\r\n\r\n  if (error) throw error\r\n\r\n  const set = new Set(data.map(r => String(r.product).trim().toLowerCase()))\r\n  return Array.from(set).sort()\r\n}\r\n\r\nexport async function fetchColorsByStoreAndProduct(store, product) {\r\n  const { name, location } = store\r\n  const { data, error } = await supabase\r\n    .from(TABLE_NAME)\r\n    .select('color')\r\n    .eq('name', name)\r\n    .eq('location', location)\r\n    .ilike('product', product)\r\n    .not('color', 'is', null)\r\n\r\n  if (error) throw error\r\n\r\n  const set = new Set(data.map(r => String(r.color).trim().toLowerCase()))\r\n  return Array.from(set).sort()\r\n}\r\n\r\nexport async function fetchStoragesByStoreProductColor(store, product, color) {\r\n  const { name, location } = store\r\n  const { data, error } = await supabase\r\n    .from(TABLE_NAME)\r\n    .select('storage')\r\n    .eq('name', name)\r\n    .eq('location', location)\r\n    .ilike('product', product)\r\n    .ilike('color', color)\r\n    .not('storage', 'is', null)\r\n\r\n  if (error) throw error\r\n\r\n  const set = new Set(\r\n    (data || []).map(r => String(r.storage).trim())\r\n  )\r\n  // sort numeric ascending when possible\r\n  return Array.from(set).sort((a, b) => Number(a) - Number(b))\r\n}\r\n\r\nexport async function fetchQuantitySum(store, product, color, storage) {\r\n  const { name, location } = store\r\n  let query = supabase\r\n    .from(TABLE_NAME)\r\n    .select('quantity')\r\n    .eq('name', name)\r\n    .eq('location', location)\r\n    .ilike('product', product)\r\n    .ilike('color', color)\r\n\r\n  if (storage !== undefined && storage !== null && storage !== '') {\r\n    const storageNumber = Number(storage)\r\n    query = Number.isNaN(storageNumber)\r\n      ? query.eq('storage', String(storage))\r\n      : query.eq('storage', storageNumber)\r\n  } else {\r\n    // If no storage specified, match records where storage is null or 0\r\n    query = query.or('storage.is.null,storage.eq.0')\r\n  }\r\n\r\n  const { data, error } = await query\r\n\r\n  if (error) throw error\r\n\r\n  let total = 0\r\n  for (const row of data || []) {\r\n    const n = Number(row.quantity)\r\n    if (!Number.isNaN(n)) total += n\r\n  }\r\n  return total\r\n}\r\n\r\nexport async function fetchPrice(store, product, color, storage) {\r\n  const { name, location } = store\r\n  let query = supabase\r\n    .from(TABLE_NAME)\r\n    .select('price')\r\n    .eq('name', name)\r\n    .eq('location', location)\r\n    .ilike('product', product)\r\n    .ilike('color', color)\r\n\r\n  if (storage !== undefined && storage !== null && storage !== '') {\r\n    const storageNumber = Number(storage)\r\n    query = Number.isNaN(storageNumber)\r\n      ? query.eq('storage', String(storage))\r\n      : query.eq('storage', storageNumber)\r\n  } else {\r\n    // If no storage specified, match records where storage is null or 0\r\n    query = query.or('storage.is.null,storage.eq.0')\r\n  }\r\n\r\n  const { data, error } = await query\r\n\r\n  if (error) throw error\r\n\r\n  // 返回第一個找到的價格，如果沒有則返回 null\r\n  if (data && data.length > 0) {\r\n    return data[0].price\r\n  }\r\n  return null\r\n}\r\n\r\nexport default {\r\n  fetchDistinctStores,\r\n  fetchDistinctProducts,\r\n  fetchColorsByProduct,\r\n  fetchStoragesByProductColor,\r\n  fetchStoresByProductColorStorage,\r\n  fetchProductsByStore,\r\n  fetchColorsByStoreAndProduct,\r\n  fetchStoragesByStoreProductColor,\r\n  fetchQuantitySum,\r\n  fetchPrice\r\n}\r\n\r\n\r\n","import { render } from \"./StoreSelector.vue?vue&type=template&id=32bbd27c\"\nimport script from \"./StoreSelector.vue?vue&type=script&lang=js\"\nexport * from \"./StoreSelector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-autocomplete\r\n    :disabled=\"false\"\r\n    :items=\"items\"\r\n    :loading=\"loading\"\r\n    :model-value=\"modelValue\"\r\n    label=\"Product\"\r\n    placeholder=\"Select a product\"\r\n    clearable\r\n    @update:model-value=\"$emit('update:modelValue', $event)\"\r\n  />\r\n  \r\n</template>\r\n\r\n<script>\r\nimport { fetchDistinctProducts } from '../api/inventory'\r\n\r\nexport default {\r\n  name: 'ProductSelector',\r\n  props: {\r\n    modelValue: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    store: { // kept for compatibility, unused in new flow\r\n      type: Object,\r\n      default: null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      items: []\r\n    }\r\n  },\r\n  watch: {\r\n    modelValue() {},\r\n  },\r\n  mounted() {\r\n    this.load()\r\n  },\r\n  methods: {\r\n    async load() {\r\n      this.loading = true\r\n      try {\r\n        const products = await fetchDistinctProducts()\r\n        this.items = products.length > 0 ? products : ['(not available)']\r\n      } catch (err) {\r\n        // eslint-disable-next-line no-console\r\n        console.error('Failed to load products', err)\r\n        this.items = ['(not available)']\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\r\n\r\n","import { render } from \"./ProductSelector.vue?vue&type=template&id=b76fc30a\"\nimport script from \"./ProductSelector.vue?vue&type=script&lang=js\"\nexport * from \"./ProductSelector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-autocomplete\r\n    :disabled=\"!product\"\r\n    :items=\"items\"\r\n    :loading=\"loading\"\r\n    :model-value=\"modelValue\"\r\n    label=\"Color\"\r\n    placeholder=\"Select a color\"\r\n    clearable\r\n    @update:model-value=\"$emit('update:modelValue', $event)\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { fetchColorsByProduct } from '../api/inventory'\r\n\r\nexport default {\r\n  name: 'ColorSelector',\r\n  props: {\r\n    modelValue: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    store: { // kept for compatibility, unused in new flow\r\n      type: Object,\r\n      default: null\r\n    },\r\n    product: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      items: []\r\n    }\r\n  },\r\n  watch: {\r\n    product: {\r\n      handler() { this.load() },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    async load() {\r\n      if (!this.product) {\r\n        this.items = []\r\n        return\r\n      }\r\n      this.loading = true\r\n      try {\r\n        const colors = await fetchColorsByProduct(this.product)\r\n        this.items = (colors && colors.length) ? colors : ['(not available)']\r\n      } catch (err) {\r\n        // eslint-disable-next-line no-console\r\n        console.error('Failed to load colors', err)\r\n        this.items = ['(not available)']\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\r\n\r\n","import { render } from \"./ColorSelector.vue?vue&type=template&id=0ecbbb45\"\nimport script from \"./ColorSelector.vue?vue&type=script&lang=js\"\nexport * from \"./ColorSelector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-autocomplete\r\n    :disabled=\"!product || !color\"\r\n    :items=\"displayItems\"\r\n    :loading=\"loading\"\r\n    :model-value=\"modelValue\"\r\n    item-title=\"label\"\r\n    item-value=\"value\"\r\n    label=\"Storage\"\r\n    placeholder=\"Select storage\"\r\n    clearable\r\n    @update:model-value=\"$emit('update:modelValue', $event)\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { fetchStoragesByProductColor } from '../api/inventory'\r\n\r\nexport default {\r\n  name: 'StorageSelector',\r\n  props: {\r\n    modelValue: {\r\n      type: [String, Number],\r\n      default: ''\r\n    },\r\n    store: { type: Object, default: null }, // kept for compatibility, unused in new flow\r\n    product: { type: String, default: '' },\r\n    color: { type: String, default: '' }\r\n  },\r\n  emits: ['update:modelValue', 'options'],\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      items: []\r\n    }\r\n  },\r\n  computed: {\r\n    displayItems() {\r\n      return this.items.map(v => (\r\n        v === '(not available)'\r\n          ? { label: '(not available)', value: '' }\r\n          : { label: `${v}GB`, value: v }\r\n      ))\r\n    }\r\n  },\r\n  watch: {\r\n    product: { handler() { this.load() }, immediate: true },\r\n    color() { this.load() }\r\n  },\r\n  methods: {\r\n    async load() {\r\n      if (!this.product || !this.color) {\r\n        this.items = []\r\n        this.$emit('options', 0)\r\n        return\r\n      }\r\n      this.loading = true\r\n      try {\r\n        const storages = await fetchStoragesByProductColor(this.product, this.color)\r\n        this.items = (storages && storages.length) ? storages : ['(not available)']\r\n        this.$emit('options', this.items.length)\r\n        if (this.items.length === 0) {\r\n          // 清空已选存储，避免卡住查询\r\n          this.$emit('update:modelValue', '')\r\n        }\r\n      } catch (err) {\r\n        // eslint-disable-next-line no-console\r\n        console.error('Failed to load storages', err)\r\n        this.items = ['(not available)']\r\n        this.$emit('options', 1)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\r\n\r\n","import { render } from \"./StorageSelector.vue?vue&type=template&id=1fcb3a55\"\nimport script from \"./StorageSelector.vue?vue&type=script&lang=js\"\nexport * from \"./StorageSelector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./InventorySearchPanel.vue?vue&type=template&id=113d676d\"\nimport script from \"./InventorySearchPanel.vue?vue&type=script&lang=js\"\nexport * from \"./InventorySearchPanel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-card class=\"mt-4\" elevation=\"2\">\r\n    <v-card-title>\r\n      Cart\r\n      <v-spacer />\r\n      <v-btn class=\"mr-2\" color=\"primary\" variant=\"text\" :disabled=\"items.length === 0 || loading\" @click=\"$emit('refresh-prices')\">Refresh Prices</v-btn>\r\n      <v-btn color=\"error\" variant=\"text\" :disabled=\"items.length === 0\" @click=\"$emit('clear')\">Clear</v-btn>\r\n    </v-card-title>\r\n    <v-card-text>\r\n      <div v-if=\"items.length === 0\" class=\"text-body-2\">Cart is empty</div>\r\n      <v-table v-else density=\"comfortable\">\r\n        <thead>\r\n          <tr>\r\n            <th class=\"text-left\">Product</th>\r\n            <th class=\"text-left\">Color</th>\r\n            <th class=\"text-left\">Storage</th>\r\n            <th class=\"text-left\" v-if=\"hasEstimates\">Unit Price</th>\r\n            <th class=\"text-left\" v-if=\"hasEstimates\">Subtotal</th>\r\n            <th class=\"text-left\" style=\"width: 140px;\">Qty</th>\r\n            <th class=\"text-left\" style=\"width: 80px;\"></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in items\" :key=\"item.key\">\r\n            <td>{{ item.product }}</td>\r\n            <td>{{ item.color }}</td>\r\n            <td>{{ item.storage || '-' }}</td>\r\n            <td v-if=\"hasEstimates\">{{ displayUnitPrice(item.key) }}</td>\r\n            <td v-if=\"hasEstimates\">{{ displaySubtotal(item.key, item.quantity) }}</td>\r\n            <td>\r\n              <v-text-field\r\n                type=\"number\"\r\n                min=\"1\"\r\n                density=\"compact\"\r\n                variant=\"outlined\"\r\n                hide-details\r\n                :model-value=\"item.quantity\"\r\n                @update:model-value=\"v => onUpdateQty(item.key, v)\"\r\n              />\r\n            </td>\r\n            <td>\r\n              <v-btn color=\"error\" variant=\"text\" icon=\"mdi-delete\" @click=\"$emit('remove-item', item.key)\" />\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </v-table>\r\n      <div class=\"mt-4 d-flex align-center\">\r\n        <div class=\"text-body-2 mr-2\">\r\n          Prices are estimated and finalized at checkout\r\n          <span v-if=\"hasEstimates && totalEstimate !== null\"> — Estimated Total: {{ displayCurrency(totalEstimate) }}</span>\r\n        </div>\r\n        <v-spacer />\r\n        <v-btn color=\"primary\" :disabled=\"items.length === 0 || loading\" :loading=\"loading\" @click=\"$emit('checkout')\">Checkout Cart</v-btn>\r\n      </div>\r\n      <v-alert v-if=\"message\" :type=\"messageType\" class=\"mt-3\">{{ message }}</v-alert>\r\n    </v-card-text>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CartPanel',\r\n  props: {\r\n    items: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    estimates: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    totalEstimate: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    message: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    messageType: {\r\n      type: String,\r\n      default: 'success'\r\n    }\r\n  },\r\n  emits: ['update-qty', 'remove-item', 'clear', 'checkout', 'refresh-prices'],\r\n  computed: {\r\n    hasEstimates() {\r\n      return !!this.estimates\r\n    }\r\n  },\r\n  methods: {\r\n    onUpdateQty(key, value) {\r\n      const n = parseInt(value, 10)\r\n      this.$emit('update-qty', { key, quantity: Number.isNaN(n) ? 1 : n })\r\n    },\r\n    displayCurrency(n) {\r\n      const num = Number(n) || 0\r\n      return `$${num.toFixed(2)}`\r\n    },\r\n    displayUnitPrice(key) {\r\n      if (!this.estimates || this.estimates[key] === undefined || this.estimates[key] === null) return '-'\r\n      return this.displayCurrency(this.estimates[key])\r\n    },\r\n    displaySubtotal(key, qty) {\r\n      if (!this.estimates || this.estimates[key] === undefined || this.estimates[key] === null) return '-'\r\n      const unit = Number(this.estimates[key]) || 0\r\n      const q = Number(qty) || 0\r\n      return this.displayCurrency(unit * q)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\r\n\r\n","import { render } from \"./CartPanel.vue?vue&type=template&id=2bbf603c\"\nimport script from \"./CartPanel.vue?vue&type=script&lang=js\"\nexport * from \"./CartPanel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// 購物車持久化與操作工具\r\n\r\nconst CART_STORAGE_KEY = 'app_cart'\r\n\r\nfunction normalizeStorageKey(storage) {\r\n  if (storage === undefined || storage === null || storage === '') return 'NULL'\r\n  return String(storage)\r\n}\r\n\r\nexport function loadCart() {\r\n  try {\r\n    const raw = localStorage.getItem(CART_STORAGE_KEY)\r\n    if (!raw) return { store: null, items: [] }\r\n    const parsed = JSON.parse(raw)\r\n    if (!parsed || typeof parsed !== 'object') return { store: null, items: [] }\r\n    return { store: parsed.store || null, items: Array.isArray(parsed.items) ? parsed.items : [] }\r\n  } catch (e) {\r\n    return { store: null, items: [] }\r\n  }\r\n}\r\n\r\nexport function saveCart(cart) {\r\n  localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart))\r\n}\r\n\r\nexport function clearCart() {\r\n  const empty = { store: null, items: [] }\r\n  saveCart(empty)\r\n  return empty\r\n}\r\n\r\nexport function getCartStore(cart) {\r\n  return cart && cart.store ? cart.store : null\r\n}\r\n\r\nexport function addItem(cart, store, line) {\r\n  // 同店限制\r\n  if (cart.items.length > 0) {\r\n    const { name, location } = cart.store || {}\r\n    if (!store || store.name !== name || store.location !== location) {\r\n      return { cart, error: 'Cart only allows items from the same store.' }\r\n    }\r\n  }\r\n\r\n  const storageKey = normalizeStorageKey(line.storage)\r\n  const key = `${String(line.product).toLowerCase()}|${String(line.color).toLowerCase()}|${storageKey}`\r\n\r\n  const next = { store: cart.items.length === 0 ? store : cart.store, items: [...cart.items] }\r\n\r\n  const idx = next.items.findIndex(i => i.key === key)\r\n  if (idx >= 0) {\r\n    const existing = next.items[idx]\r\n    next.items.splice(idx, 1, { ...existing, quantity: Number(existing.quantity) + Number(line.quantity) })\r\n  } else {\r\n    next.items.push({\r\n      key,\r\n      product: line.product,\r\n      color: line.color,\r\n      storage: line.storage,\r\n      quantity: Number(line.quantity)\r\n    })\r\n  }\r\n\r\n  saveCart(next)\r\n  return { cart: next }\r\n}\r\n\r\nexport function updateQuantity(cart, lineKey, quantity) {\r\n  const qty = Math.max(0, Number(quantity) || 0)\r\n  const next = { store: cart.store, items: cart.items.map(i => (i.key === lineKey ? { ...i, quantity: qty } : i)) }\r\n  // 移除 0 量\r\n  const filtered = { store: next.store, items: next.items.filter(i => i.quantity > 0) }\r\n  if (filtered.items.length === 0) filtered.store = null\r\n  saveCart(filtered)\r\n  return filtered\r\n}\r\n\r\nexport function removeItem(cart, lineKey) {\r\n  const next = { store: cart.store, items: cart.items.filter(i => i.key !== lineKey) }\r\n  if (next.items.length === 0) next.store = null\r\n  saveCart(next)\r\n  return next\r\n}\r\n\r\nexport default {\r\n  loadCart,\r\n  saveCart,\r\n  clearCart,\r\n  getCartStore,\r\n  addItem,\r\n  updateQuantity,\r\n  removeItem\r\n}\r\n\r\n\r\n","import supabase from './supabase'\r\n\r\nexport function sanitizeStorageValue(storage) {\r\n  if (storage === '' || storage === null || storage === undefined) {\r\n    return null\r\n  }\r\n  return storage\r\n}\r\n\r\nexport async function getInventoryRecordId({ store, product, color, storage }) {\r\n  const { name, location } = store\r\n  let query = supabase\r\n    .from('inventory')\r\n    .select('id')\r\n    .eq('name', name)\r\n    .eq('location', location)\r\n    .ilike('product', product)\r\n    .ilike('color', color)\r\n\r\n  const sanitizedStorage = sanitizeStorageValue(storage)\r\n  if (sanitizedStorage !== null) {\r\n    const storageNumber = Number(sanitizedStorage)\r\n    query = Number.isNaN(storageNumber)\r\n      ? query.eq('storage', String(sanitizedStorage))\r\n      : query.eq('storage', storageNumber)\r\n  } else {\r\n    query = query.or('storage.is.null,storage.eq.')\r\n  }\r\n\r\n  const { data, error } = await query\r\n  if (error) throw error\r\n  if (!data || data.length === 0) {\r\n    throw new Error(`No inventory record found for ${product} ${color} ${storage ? storage + 'GB' : 'no storage'}`)\r\n  }\r\n  return data[0].id\r\n}\r\n\r\nexport async function deductInventory({ store, product, color, storage }, quantity) {\r\n  const { name, location } = store\r\n  let query = supabase\r\n    .from('inventory')\r\n    .select('*')\r\n    .eq('name', name)\r\n    .eq('location', location)\r\n    .ilike('product', product)\r\n    .ilike('color', color)\r\n\r\n  const sanitizedStorage = sanitizeStorageValue(storage)\r\n  if (sanitizedStorage !== null) {\r\n    const storageNumber = Number(sanitizedStorage)\r\n    query = Number.isNaN(storageNumber)\r\n      ? query.eq('storage', String(sanitizedStorage))\r\n      : query.eq('storage', storageNumber)\r\n  } else {\r\n    query = query.or('storage.is.null,storage.eq.')\r\n  }\r\n\r\n  const { data: records, error: fetchError } = await query\r\n  if (fetchError) throw fetchError\r\n  if (!records || records.length === 0) {\r\n    throw new Error(`No inventory records found for ${product} ${color} ${storage ? storage + 'GB' : 'no storage'}`)\r\n  }\r\n\r\n  let totalAvailable = 0\r\n  for (const record of records) {\r\n    totalAvailable += Number(record.quantity) || 0\r\n  }\r\n  if (totalAvailable < quantity) {\r\n    throw new Error(`Insufficient inventory. Available: ${totalAvailable}, Required: ${quantity}`)\r\n  }\r\n\r\n  let remaining = quantity\r\n  for (const record of records) {\r\n    if (remaining <= 0) break\r\n    const currentQuantity = Number(record.quantity) || 0\r\n    const deduct = Math.min(remaining, currentQuantity)\r\n    if (deduct > 0) {\r\n      const newQuantity = currentQuantity - deduct\r\n      const { error: updateError } = await supabase\r\n        .from('inventory')\r\n        .update({ quantity: newQuantity })\r\n        .eq('id', record.id)\r\n        .eq('name', record.name)\r\n        .eq('location', record.location)\r\n      if (updateError) throw updateError\r\n      remaining -= deduct\r\n    }\r\n  }\r\n\r\n  if (remaining > 0) {\r\n    throw new Error('Insufficient inventory to complete the sale')\r\n  }\r\n}\r\n\r\nexport default {\r\n  sanitizeStorageValue,\r\n  getInventoryRecordId,\r\n  deductInventory\r\n}\r\n\r\n\r\n","import { render } from \"./Selling.vue?vue&type=template&id=2379b2ea\"\nimport script from \"./Selling.vue?vue&type=script&lang=js\"\nexport * from \"./Selling.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\r\nimport SalesRecord from '../views/SalesRecord.vue'\r\nimport Inventory from '../views/Inventory.vue'\r\nimport Selling from '../views/Selling.vue'\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    redirect: '/selling'\r\n  },\r\n  {\r\n    path: '/sales-record',\r\n    name: 'SalesRecord',\r\n    component: SalesRecord\r\n  },\r\n  {\r\n    path: '/inventory',\r\n    name: 'Inventory',\r\n    component: Inventory\r\n  },\r\n  {\r\n    path: '/selling',\r\n    name: 'Selling',\r\n    component: Selling\r\n  }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes\r\n})\r\n\r\nexport default router\r\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport { createVuetify } from 'vuetify'\r\nimport 'vuetify/styles'\r\nimport '@mdi/font/css/materialdesignicons.css'\r\nimport * as components from 'vuetify/components'\r\nimport * as directives from 'vuetify/directives'\r\nimport router from './router'\r\n\r\nconst vuetify = createVuetify({\r\n  components,\r\n  directives,\r\n})\r\n\r\nconst app = createApp(App)\r\n\r\napp.use(vuetify)\r\napp.use(router)\r\n\r\napp.mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkinventory_management_system\"] = self[\"webpackChunkinventory_management_system\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(9581); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_v_app","_createVNode","_component_v_app_bar","color","dark","prominent","_component_v_toolbar_title","_cache","_component_v_spacer","_component_v_btn","to","name","variant","class","_component_v_icon","left","icon","_component_v_main","_component_router_view","__exports__","render","_component_v_container","fluid","_component_v_row","_component_v_col","cols","_component_v_card","_component_v_card_title","size","_createElementVNode","onClick","$options","refreshData","loading","$data","isRefreshing","_component_v_card_text","_component_SalesRecordFilters","onFiltersChange","onError","onFilterError","_component_SalesRecordList","salesRecords","stats","salesStats","error","_component_v_dialog","showErrorDialog","$event","errorDialogMessage","_component_v_card_actions","md","_component_v_select","dateFilterType","items","dateFilterOptions","label","outlined","dense","onChange","onDateFilterTypeChange","_component_v_date_picker","singleDate","onDateChange","max","Date","toISOString","split","_component_v_text_field","dateRangeText","placeholder","readonly","showDateRangePicker","_component_v_combobox","selectedProducts","availableProducts","loadingProducts","multiple","chips","clearable","selectedStoreNames","availableStoreNames","loadingStoreNames","resetFilters","applyFilters","dateRange","onDateRangeChange","range","text","confirmDateRange","SUPABASE_URL","process","SUPABASE_ANON_KEY","console","supabase","createClient","TABLE_NAME","async","createSale","saleData","data","from","insert","select","fetchSalesWithFilters","filters","query","length","startDate","setHours","endDate","gte","lte","products","in","storeNames","order","ascending","limit","offset","fetchDistinctProducts","uniqueProducts","Set","map","item","product","fetchDistinctStoreNames","uniqueStoreNames","fetchSalesStats","totalRecords","totalRevenue","reduce","sum","record","price","totalQuantity","quantity","emits","title","value","mounted","this","loadFilterOptions","methods","Promise","all","$emit","resetDateFilters","formatDate","date","toLocaleDateString","emitFilters","getDateRangeFilter","setTimeout","_component_v_chip","_toDisplayString","$props","_hoisted_1","_hoisted_2","toLocaleString","_hoisted_3","_createElementBlock","_hoisted_4","_component_v_progress_circular","indeterminate","_component_v_alert","type","_hoisted_5","_hoisted_6","_component_v_expansion_panels","expandedPanels","_Fragment","_renderList","paginatedRecords","index","_component_v_expansion_panel","key","id","_component_v_expansion_panel_title","default","_withCtx","expanded","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","unit_price","_hoisted_11","_hoisted_12","time","_component_v_expansion_panel_text","_component_v_divider","_component_v_list","density","_component_v_list_item","prepend","_component_v_list_item_title","_component_v_list_item_subtitle","store_location","storage","start","formatDateTime","totalPages","_component_v_pagination","currentPage","onPageChange","props","Array","Object","Boolean","String","itemsPerPage","computed","Math","ceil","end","slice","watch","dateString","page","$nextTick","element","$el","querySelector","scrollIntoView","behavior","expandAll","_","i","collapseAll","components","SalesRecordFilters","SalesRecordList","currentFilters","loadSalesData","records","keys","message","sm","idFilter","productFilter","nameFilter","locationFilter","_component_v_data_table","headers","filteredProducts","sortBy","undefined","idQ","trim","toLowerCase","productQ","nameQ","locationQ","filter","row","idStr","productStr","nameStr","locationStr","location","idOk","includes","productOk","nameOk","locationOk","_component_InventorySearchPanel","onSelectionChange","selectedItem","elevation","_component_v_radio_group","selectedQuantity","_component_v_radio","customQuantity","customQuantityValue","min","totalPriceDisplay","disabled","canSell","isSelling","handleSell","isAddingToCart","handleAddToCart","sellMessage","sellMessageType","_component_CartPanel","cart","isCartProcessing","estimates","priceEstimates","totalEstimate","cartMessage","cartMessageType","onUpdateQty","onCartUpdateQty","onRemoveItem","onCartRemoveItem","onClear","onCartClear","onCheckout","onCartCheckout","onRefreshPrices","onRefreshEstimates","activePanel","_component_ProductSelector","selectedProduct","_component_ColorSelector","selectedColor","_component_StorageSelector","selectedStorage","onOptions","onStorageOptions","_component_StoreSelector","selectedStore","_component_v_skeleton_loader","quantityDisplay","_component_v_autocomplete","storeItems","modelValue","onUpdate","_mergeProps","raw","notAvailable","fetchDistinctStores","not","seen","stores","collapse","s","replace","has","add","push","sort","a","b","localeCompare","set","r","fetchColorsByProduct","ilike","fetchStoragesByProductColor","Number","fetchStoresByProductColorStorage","storageNumber","isNaN","eq","or","aggregate","Map","prev","get","n","results","total","entries","nameLower","locationLower","originalRow","find","available","baseLabel","fetchQuantitySum","store","fetchPrice","val","loadStores","allStores","log","presenceMap","storesForSelection","hasProduct","normalizeKey","l","storeMap","presence","hasInventory","cleanName","cleanLocation","finalItems","values","valueSet","uniqueItems","valueKey","JSON","stringify","err","_ctx","load","handler","immediate","colors","displayItems","v","storages","StoreSelector","ProductSelector","ColorSelector","StorageSelector","storageOptionsCount","hasStoreProductColor","resetAfterProduct","emitSelection","resetAfterColor","triggerQuery","count","qty","_component_v_table","hasEstimates","style","displayUnitPrice","displaySubtotal","displayCurrency","messageType","parseInt","num","toFixed","unit","q","CART_STORAGE_KEY","normalizeStorageKey","loadCart","localStorage","getItem","parsed","parse","isArray","e","saveCart","setItem","clearCart","empty","addItem","line","storageKey","next","idx","findIndex","existing","splice","updateQuantity","lineKey","filtered","removeItem","sanitizeStorageValue","getInventoryRecordId","sanitizedStorage","Error","deductInventory","fetchError","totalAvailable","remaining","currentQuantity","deduct","newQuantity","updateError","update","InventorySearchPanel","CartPanel","created","actualQuantity","totalPrice","payload","storageValue","cartAddItem","latestUnitPrice","inventoryRecordId","cartUpdateQuantity","cartRemoveItem","cartClear","qtyAvailable","routes","path","redirect","component","SalesRecord","Inventory","Selling","router","createRouter","history","createWebHistory","vuetify","createVuetify","directives","app","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}