(function(){"use strict";var e={3448:function(e,t,o){var l=o(5130),n=o(6768);function r(e,t,o,l,r,a){const c=(0,n.g2)("v-toolbar-title"),i=(0,n.g2)("v-spacer"),s=(0,n.g2)("v-icon"),u=(0,n.g2)("v-btn"),d=(0,n.g2)("v-app-bar"),m=(0,n.g2)("router-view"),f=(0,n.g2)("v-main"),v=(0,n.g2)("v-app");return(0,n.uX)(),(0,n.Wv)(v,null,{default:(0,n.k6)(()=>[(0,n.bF)(d,{color:"primary",dark:"",prominent:""},{default:(0,n.k6)(()=>[(0,n.bF)(c,null,{default:(0,n.k6)(()=>[...t[0]||(t[0]=[(0,n.eW)("Distributed Inventory and Sales Management System",-1)])]),_:1}),(0,n.bF)(i),(0,n.bF)(u,{to:{name:"Selling"},color:"white",variant:"text",class:"mr-2"},{default:(0,n.k6)(()=>[(0,n.bF)(s,{left:""},{default:(0,n.k6)(()=>[...t[1]||(t[1]=[(0,n.eW)("mdi-cash-register",-1)])]),_:1}),t[2]||(t[2]=(0,n.eW)(" selling ",-1))]),_:1}),(0,n.bF)(u,{to:{name:"Inventory"},color:"white",variant:"text",class:"mr-2"},{default:(0,n.k6)(()=>[(0,n.bF)(s,{left:""},{default:(0,n.k6)(()=>[...t[3]||(t[3]=[(0,n.eW)("mdi-warehouse",-1)])]),_:1}),t[4]||(t[4]=(0,n.eW)(" Inventory ",-1))]),_:1}),(0,n.bF)(u,{to:{name:"SalesRecord"},color:"white",variant:"text",class:"mr-2"},{default:(0,n.k6)(()=>[(0,n.bF)(s,{left:""},{default:(0,n.k6)(()=>[...t[5]||(t[5]=[(0,n.eW)("mdi-chart-line",-1)])]),_:1}),t[6]||(t[6]=(0,n.eW)(" sales record ",-1))]),_:1}),(0,n.bF)(u,{icon:""},{default:(0,n.k6)(()=>[(0,n.bF)(s,null,{default:(0,n.k6)(()=>[...t[7]||(t[7]=[(0,n.eW)("mdi-account",-1)])]),_:1})]),_:1})]),_:1}),(0,n.bF)(f,null,{default:(0,n.k6)(()=>[(0,n.bF)(m)]),_:1})]),_:1})}var a={name:"App"},c=o(1241);const i=(0,c.A)(a,[["render",r]]);var s=i,u=o(5753),d=(o(5524),o(2801)),m=o(3425),f=o(1387);function v(e,t,o,l,r,a){const c=(0,n.g2)("v-card-title"),i=(0,n.g2)("v-card-text"),s=(0,n.g2)("v-card"),u=(0,n.g2)("v-col"),d=(0,n.g2)("v-row"),m=(0,n.g2)("v-container");return(0,n.uX)(),(0,n.Wv)(m,{fluid:""},{default:(0,n.k6)(()=>[(0,n.bF)(d,null,{default:(0,n.k6)(()=>[(0,n.bF)(u,{cols:"12"},{default:(0,n.k6)(()=>[(0,n.bF)(s,null,{default:(0,n.k6)(()=>[(0,n.bF)(c,null,{default:(0,n.k6)(()=>[...t[0]||(t[0]=[(0,n.Lk)("h1",{class:"text-h4"},"sales record",-1)])]),_:1}),(0,n.bF)(i,null,{default:(0,n.k6)(()=>[...t[1]||(t[1]=[(0,n.Lk)("p",{class:"text-h6"},"sales record page",-1),(0,n.Lk)("p",null,"sales record function",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var h={name:"SalesRecord"};const g=(0,c.A)(h,[["render",v]]);var p=g;function b(e,t,o,l,r,a){const c=(0,n.g2)("v-card-title"),i=(0,n.g2)("v-card-text"),s=(0,n.g2)("v-card"),u=(0,n.g2)("v-col"),d=(0,n.g2)("v-row"),m=(0,n.g2)("v-container");return(0,n.uX)(),(0,n.Wv)(m,{fluid:""},{default:(0,n.k6)(()=>[(0,n.bF)(d,null,{default:(0,n.k6)(()=>[(0,n.bF)(u,{cols:"12"},{default:(0,n.k6)(()=>[(0,n.bF)(s,null,{default:(0,n.k6)(()=>[(0,n.bF)(c,null,{default:(0,n.k6)(()=>[...t[0]||(t[0]=[(0,n.Lk)("h1",{class:"text-h4"},"Inventory ",-1)])]),_:1}),(0,n.bF)(i,null,{default:(0,n.k6)(()=>[...t[1]||(t[1]=[(0,n.Lk)("p",{class:"text-h6"},"this is Inventory page",-1),(0,n.Lk)("p",null,"Inventory function",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var y={name:"InventoryPage"};const _=(0,c.A)(y,[["render",b]]);var S=_;function k(e,t,o,l,r,a){const c=(0,n.g2)("v-card-title"),i=(0,n.g2)("InventorySearchPanel"),s=(0,n.g2)("v-card-text"),u=(0,n.g2)("v-card"),d=(0,n.g2)("v-col"),m=(0,n.g2)("v-row"),f=(0,n.g2)("v-container");return(0,n.uX)(),(0,n.Wv)(f,{fluid:""},{default:(0,n.k6)(()=>[(0,n.bF)(m,null,{default:(0,n.k6)(()=>[(0,n.bF)(d,{cols:"12"},{default:(0,n.k6)(()=>[(0,n.bF)(u,null,{default:(0,n.k6)(()=>[(0,n.bF)(c,null,{default:(0,n.k6)(()=>[...t[0]||(t[0]=[(0,n.Lk)("h1",{class:"text-h4"},"selling",-1)])]),_:1}),(0,n.bF)(s,null,{default:(0,n.k6)(()=>[(0,n.bF)(i,{onChange:a.onSelectionChange},null,8,["onChange"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var F=o(4232);const w={key:2,class:"text-subtitle-1"},A={class:"font-weight-bold ml-1"};function P(e,t,o,l,r,a){const c=(0,n.g2)("StoreSelector"),i=(0,n.g2)("v-col"),s=(0,n.g2)("ProductSelector"),u=(0,n.g2)("ColorSelector"),d=(0,n.g2)("v-row"),m=(0,n.g2)("v-alert"),f=(0,n.g2)("v-skeleton-loader"),v=(0,n.g2)("v-card-text"),h=(0,n.g2)("v-card");return(0,n.uX)(),(0,n.Wv)(h,null,{default:(0,n.k6)(()=>[(0,n.bF)(v,null,{default:(0,n.k6)(()=>[(0,n.bF)(d,null,{default:(0,n.k6)(()=>[(0,n.bF)(i,{cols:"12",md:"6"},{default:(0,n.k6)(()=>[(0,n.bF)(c,{modelValue:r.selectedStore,"onUpdate:modelValue":t[0]||(t[0]=e=>r.selectedStore=e)},null,8,["modelValue"])]),_:1}),(0,n.bF)(i,{cols:"12",md:"3"},{default:(0,n.k6)(()=>[(0,n.bF)(s,{store:r.selectedStore,modelValue:r.selectedProduct,"onUpdate:modelValue":t[1]||(t[1]=e=>r.selectedProduct=e)},null,8,["store","modelValue"])]),_:1}),(0,n.bF)(i,{cols:"12",md:"3"},{default:(0,n.k6)(()=>[(0,n.bF)(u,{store:r.selectedStore,product:r.selectedProduct,modelValue:r.selectedColor,"onUpdate:modelValue":t[2]||(t[2]=e=>r.selectedColor=e)},null,8,["store","product","modelValue"])]),_:1})]),_:1}),(0,n.bF)(d,{class:"mt-2"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{cols:"12",md:"6"},{default:(0,n.k6)(()=>[r.error?((0,n.uX)(),(0,n.Wv)(m,{key:0,type:"error",density:"comfortable"},{default:(0,n.k6)(()=>[(0,n.eW)((0,F.v_)(r.error),1)]),_:1})):r.loading?((0,n.uX)(),(0,n.Wv)(f,{key:1,type:"text"})):((0,n.uX)(),(0,n.CE)("div",w,[t[3]||(t[3]=(0,n.Lk)("span",null,"Quantity:",-1)),(0,n.Lk)("span",A,(0,F.v_)(a.quantityDisplay),1)]))]),_:1})]),_:1})]),_:1})]),_:1})}function V(e,t,o,l,r,a){const c=(0,n.g2)("v-autocomplete");return(0,n.uX)(),(0,n.Wv)(c,{items:r.storeItems,loading:r.loading,"model-value":o.modelValue,"item-title":"label","item-value":"value",label:"Store",placeholder:"Select a store",clearable:"","onUpdate:modelValue":a.onUpdate},null,8,["items","loading","model-value","onUpdate:modelValue"])}o(8111),o(1701),o(4114),o(7642),o(8004),o(3853),o(5876),o(2475),o(5024),o(1698);var E=o(1300);const U={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_SUPABASE_URL||{NODE_ENV:"production",BASE_URL:"/"}.SUPABASE_URL,O={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_SUPABASE_ANON_KEY||{NODE_ENV:"production",BASE_URL:"/"}.SUPABASE_ANON_KEY;U&&O||console.error("[Supabase] Missing SUPABASE_URL or SUPABASE_ANON_KEY environment variables");const q=(0,E.UU)(U||"",O||"");var C=q;const x="inventory";async function L(){const{data:e,error:t}=await C.from(x).select("name, location").neq("name",null).neq("location",null);if(t)throw t;const o=new Set,l=[];for(const n of e){const e=`${n.name}__${n.location}`;o.has(e)||(o.add(e),l.push({name:n.name,location:n.location,label:`${n.name} â€” ${n.location}`}))}return l}async function N(e){const{name:t,location:o}=e,{data:l,error:n}=await C.from(x).select("product").eq("name",t).eq("location",o).neq("product",null);if(n)throw n;const r=new Set(l.map(e=>String(e.product).trim().toLowerCase()));return Array.from(r).sort()}async function W(e,t){const{name:o,location:l}=e,{data:n,error:r}=await C.from(x).select("color").eq("name",o).eq("location",l).ilike("product",t).neq("color",null);if(r)throw r;const a=new Set(n.map(e=>String(e.color).trim().toLowerCase()));return Array.from(a).sort()}async function I(e,t,o){const{name:l,location:n}=e,{data:r,error:a}=await C.from(x).select("quantity").eq("name",l).eq("location",n).ilike("product",t).ilike("color",o);if(a)throw a;let c=0;for(const i of r||[]){const e=Number(i.quantity);Number.isNaN(e)||(c+=e)}return c}var j={name:"StoreSelector",props:{modelValue:{type:Object,default:null}},data(){return{loading:!1,storeItems:[]}},methods:{onUpdate(e){this.$emit("update:modelValue",e)},async loadStores(){this.loading=!0;try{const e=await L();this.storeItems=e.map(e=>({label:e.label,value:{name:e.name,location:e.location}}))}catch(e){console.error("Failed to load stores",e)}finally{this.loading=!1}}},mounted(){this.loadStores()}};const X=(0,c.A)(j,[["render",V]]);var B=X;function R(e,t,o,l,r,a){const c=(0,n.g2)("v-autocomplete");return(0,n.uX)(),(0,n.Wv)(c,{disabled:!o.store,items:r.items,loading:r.loading,"model-value":o.modelValue,label:"Product",placeholder:"Select a product",clearable:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},null,8,["disabled","items","loading","model-value"])}var $={name:"ProductSelector",props:{modelValue:{type:String,default:""},store:{type:Object,default:null}},data(){return{loading:!1,items:[]}},watch:{store:{handler(){this.load()},immediate:!0}},methods:{async load(){if(this.store){this.loading=!0;try{const e=await N(this.store);this.items=e}catch(e){console.error("Failed to load products",e)}finally{this.loading=!1}}else this.items=[]}}};const D=(0,c.A)($,[["render",R]]);var M=D;function Q(e,t,o,l,r,a){const c=(0,n.g2)("v-autocomplete");return(0,n.uX)(),(0,n.Wv)(c,{disabled:!o.store||!o.product,items:r.items,loading:r.loading,"model-value":o.modelValue,label:"Color",placeholder:"Select a color",clearable:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},null,8,["disabled","items","loading","model-value"])}var T={name:"ColorSelector",props:{modelValue:{type:String,default:""},store:{type:Object,default:null},product:{type:String,default:""}},data(){return{loading:!1,items:[]}},watch:{store:{handler(){this.load()},immediate:!0},product(){this.load()}},methods:{async load(){if(this.store&&this.product){this.loading=!0;try{const e=await W(this.store,this.product);this.items=e}catch(e){console.error("Failed to load colors",e)}finally{this.loading=!1}}else this.items=[]}}};const K=(0,c.A)(T,[["render",Q]]);var Y=K,z={name:"InventorySearchPanel",components:{StoreSelector:B,ProductSelector:M,ColorSelector:Y},emits:["change"],data(){return{selectedStore:null,selectedProduct:"",selectedColor:"",loading:!1,error:"",quantity:null}},computed:{quantityDisplay(){return null===this.quantity?"-":this.quantity}},watch:{selectedStore(){this.triggerQuery()},selectedProduct(){this.triggerQuery()},selectedColor(){this.triggerQuery()}},methods:{async triggerQuery(){if(this.$emit("change",{store:this.selectedStore,product:this.selectedProduct,color:this.selectedColor}),this.selectedStore&&this.selectedProduct&&this.selectedColor){this.loading=!0,this.error="";try{const e=await I(this.selectedStore,this.selectedProduct,this.selectedColor);this.quantity=e}catch(e){this.error="Failed to load quantity",console.error(e)}finally{this.loading=!1}}else this.quantity=null}}};const G=(0,c.A)(z,[["render",P]]);var H=G,J={name:"SellingPage",components:{InventorySearchPanel:H},methods:{onSelectionChange(e){console.log("Selection changed",e)}}};const Z=(0,c.A)(J,[["render",k]]);var ee=Z;const te=[{path:"/",redirect:"/selling"},{path:"/sales-record",name:"SalesRecord",component:p},{path:"/inventory",name:"Inventory",component:S},{path:"/selling",name:"Selling",component:ee}],oe=(0,f.aE)({history:(0,f.LA)(),routes:te});var le=oe;const ne=(0,u.$N)({components:d,directives:m}),re=(0,l.Ef)(s);re.use(ne),re.use(le),re.mount("#app")}},t={};function o(l){var n=t[l];if(void 0!==n)return n.exports;var r=t[l]={exports:{}};return e[l].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,l,n,r){if(!l){var a=1/0;for(u=0;u<e.length;u++){l=e[u][0],n=e[u][1],r=e[u][2];for(var c=!0,i=0;i<l.length;i++)(!1&r||a>=r)&&Object.keys(o.O).every(function(e){return o.O[e](l[i])})?l.splice(i--,1):(c=!1,r<a&&(a=r));if(c){e.splice(u--,1);var s=n();void 0!==s&&(t=s)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[l,n,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,r,a=l[0],c=l[1],i=l[2],s=0;if(a.some(function(t){return 0!==e[t]})){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);if(i)var u=i(o)}for(t&&t(l);s<a.length;s++)r=a[s],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(u)},l=self["webpackChunkinventory_management_system"]=self["webpackChunkinventory_management_system"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=o.O(void 0,[504],function(){return o(3448)});l=o.O(l)})();
//# sourceMappingURL=app.83704193.js.map