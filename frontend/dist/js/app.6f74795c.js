(function(){"use strict";var e={8672:function(e,t,o){var l=o(5130),a=o(6768);function r(e,t,o,l,r,n){const s=(0,a.g2)("v-toolbar-title"),i=(0,a.g2)("v-spacer"),c=(0,a.g2)("v-icon"),d=(0,a.g2)("v-btn"),u=(0,a.g2)("v-app-bar"),m=(0,a.g2)("router-view"),g=(0,a.g2)("v-main"),h=(0,a.g2)("v-app");return(0,a.uX)(),(0,a.Wv)(h,null,{default:(0,a.k6)(()=>[(0,a.bF)(u,{color:"primary",dark:"",prominent:""},{default:(0,a.k6)(()=>[(0,a.bF)(s,null,{default:(0,a.k6)(()=>[...t[0]||(t[0]=[(0,a.eW)("Distributed Inventory and Sales Management System",-1)])]),_:1}),(0,a.bF)(i),(0,a.bF)(d,{to:{name:"Selling"},color:"white",variant:"text",class:"mr-2"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{left:""},{default:(0,a.k6)(()=>[...t[1]||(t[1]=[(0,a.eW)("mdi-cash-register",-1)])]),_:1}),t[2]||(t[2]=(0,a.eW)(" selling ",-1))]),_:1}),(0,a.bF)(d,{to:{name:"Inventory"},color:"white",variant:"text",class:"mr-2"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{left:""},{default:(0,a.k6)(()=>[...t[3]||(t[3]=[(0,a.eW)("mdi-warehouse",-1)])]),_:1}),t[4]||(t[4]=(0,a.eW)(" Inventory ",-1))]),_:1}),(0,a.bF)(d,{to:{name:"SalesRecord"},color:"white",variant:"text",class:"mr-2"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{left:""},{default:(0,a.k6)(()=>[...t[5]||(t[5]=[(0,a.eW)("mdi-chart-line",-1)])]),_:1}),t[6]||(t[6]=(0,a.eW)(" sales record ",-1))]),_:1}),(0,a.bF)(d,{icon:""},{default:(0,a.k6)(()=>[(0,a.bF)(c,null,{default:(0,a.k6)(()=>[...t[7]||(t[7]=[(0,a.eW)("mdi-account",-1)])]),_:1})]),_:1})]),_:1}),(0,a.bF)(g,null,{default:(0,a.k6)(()=>[(0,a.bF)(m)]),_:1})]),_:1})}var n={name:"App"},s=o(1241);const i=(0,s.A)(n,[["render",r]]);var c=i,d=o(5753),u=(o(5524),o(2801)),m=o(3425),g=o(1387);function h(e,t,o,l,r,n){const s=(0,a.g2)("v-card-title"),i=(0,a.g2)("v-card-text"),c=(0,a.g2)("v-card"),d=(0,a.g2)("v-col"),u=(0,a.g2)("v-row"),m=(0,a.g2)("v-container");return(0,a.uX)(),(0,a.Wv)(m,{fluid:""},{default:(0,a.k6)(()=>[(0,a.bF)(u,null,{default:(0,a.k6)(()=>[(0,a.bF)(d,{cols:"12"},{default:(0,a.k6)(()=>[(0,a.bF)(c,null,{default:(0,a.k6)(()=>[(0,a.bF)(s,null,{default:(0,a.k6)(()=>[...t[0]||(t[0]=[(0,a.Lk)("h1",{class:"text-h4"},"sales record",-1)])]),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)(()=>[...t[1]||(t[1]=[(0,a.Lk)("p",{class:"text-h6"},"sales record page",-1),(0,a.Lk)("p",null,"sales record function",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var f={name:"SalesRecord"};const p=(0,s.A)(f,[["render",h]]);var v=p;function b(e,t,o,l,r,n){const s=(0,a.g2)("v-card-title"),i=(0,a.g2)("v-card-text"),c=(0,a.g2)("v-card"),d=(0,a.g2)("v-col"),u=(0,a.g2)("v-row"),m=(0,a.g2)("v-container");return(0,a.uX)(),(0,a.Wv)(m,{fluid:""},{default:(0,a.k6)(()=>[(0,a.bF)(u,null,{default:(0,a.k6)(()=>[(0,a.bF)(d,{cols:"12"},{default:(0,a.k6)(()=>[(0,a.bF)(c,null,{default:(0,a.k6)(()=>[(0,a.bF)(s,null,{default:(0,a.k6)(()=>[...t[0]||(t[0]=[(0,a.Lk)("h1",{class:"text-h4"},"Inventory ",-1)])]),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)(()=>[...t[1]||(t[1]=[(0,a.Lk)("p",{class:"text-h6"},"this is Inventory page",-1),(0,a.Lk)("p",null,"Inventory function",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var y={name:"InventoryPage"};const S=(0,s.A)(y,[["render",b]]);var k=S;function _(e,t,o,l,r,n){const s=(0,a.g2)("v-card-title"),i=(0,a.g2)("InventorySearchPanel"),c=(0,a.g2)("v-card-text"),d=(0,a.g2)("v-card"),u=(0,a.g2)("v-col"),m=(0,a.g2)("v-row"),g=(0,a.g2)("v-container");return(0,a.uX)(),(0,a.Wv)(g,{fluid:""},{default:(0,a.k6)(()=>[(0,a.bF)(m,null,{default:(0,a.k6)(()=>[(0,a.bF)(u,{cols:"12"},{default:(0,a.k6)(()=>[(0,a.bF)(d,null,{default:(0,a.k6)(()=>[(0,a.bF)(s,null,{default:(0,a.k6)(()=>[...t[0]||(t[0]=[(0,a.Lk)("h1",{class:"text-h4"},"selling",-1)])]),_:1}),(0,a.bF)(c,null,{default:(0,a.k6)(()=>[(0,a.bF)(i,{onChange:n.onSelectionChange},null,8,["onChange"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var F=o(4232);const w={key:2,class:"text-subtitle-1"},V={class:"font-weight-bold ml-1"},C={key:0,class:"ml-4"},P={key:1,class:"font-weight-bold ml-1"};function I(e,t,o,l,r,n){const s=(0,a.g2)("v-expansion-panel-title"),i=(0,a.g2)("StoreSelector"),c=(0,a.g2)("v-expansion-panel-text"),d=(0,a.g2)("v-expansion-panel"),u=(0,a.g2)("ProductSelector"),m=(0,a.g2)("ColorSelector"),g=(0,a.g2)("StorageSelector"),h=(0,a.g2)("v-expansion-panels"),f=(0,a.g2)("v-alert"),p=(0,a.g2)("v-skeleton-loader"),v=(0,a.g2)("v-col"),b=(0,a.g2)("v-row"),y=(0,a.g2)("v-card-text"),S=(0,a.g2)("v-card");return(0,a.uX)(),(0,a.Wv)(S,null,{default:(0,a.k6)(()=>[(0,a.bF)(y,null,{default:(0,a.k6)(()=>[(0,a.bF)(h,{modelValue:r.activePanel,"onUpdate:modelValue":t[4]||(t[4]=e=>r.activePanel=e),variant:"accordion",class:"mb-4"},{default:(0,a.k6)(()=>[(0,a.bF)(d,null,{default:(0,a.k6)(()=>[(0,a.bF)(s,null,{default:(0,a.k6)(()=>[...t[5]||(t[5]=[(0,a.eW)("Store",-1)])]),_:1}),(0,a.bF)(c,null,{default:(0,a.k6)(()=>[(0,a.bF)(i,{modelValue:r.selectedStore,"onUpdate:modelValue":t[0]||(t[0]=e=>r.selectedStore=e)},null,8,["modelValue"])]),_:1})]),_:1}),r.selectedStore?((0,a.uX)(),(0,a.Wv)(d,{key:0},{default:(0,a.k6)(()=>[(0,a.bF)(s,null,{default:(0,a.k6)(()=>[...t[6]||(t[6]=[(0,a.eW)("Product",-1)])]),_:1}),(0,a.bF)(c,null,{default:(0,a.k6)(()=>[(0,a.bF)(u,{store:r.selectedStore,modelValue:r.selectedProduct,"onUpdate:modelValue":t[1]||(t[1]=e=>r.selectedProduct=e)},null,8,["store","modelValue"])]),_:1})]),_:1})):(0,a.Q3)("",!0),r.selectedProduct?((0,a.uX)(),(0,a.Wv)(d,{key:1},{default:(0,a.k6)(()=>[(0,a.bF)(s,null,{default:(0,a.k6)(()=>[...t[7]||(t[7]=[(0,a.eW)("Color",-1)])]),_:1}),(0,a.bF)(c,null,{default:(0,a.k6)(()=>[(0,a.bF)(m,{store:r.selectedStore,product:r.selectedProduct,modelValue:r.selectedColor,"onUpdate:modelValue":t[2]||(t[2]=e=>r.selectedColor=e)},null,8,["store","product","modelValue"])]),_:1})]),_:1})):(0,a.Q3)("",!0),n.hasStoreProductColor?((0,a.uX)(),(0,a.Wv)(d,{key:2,style:(0,F.Tr)({display:r.storageOptionsCount>0?"":"none"})},{default:(0,a.k6)(()=>[(0,a.bF)(s,null,{default:(0,a.k6)(()=>[...t[8]||(t[8]=[(0,a.eW)("Storage",-1)])]),_:1}),(0,a.bF)(c,null,{default:(0,a.k6)(()=>[(0,a.bF)(g,{store:r.selectedStore,product:r.selectedProduct,color:r.selectedColor,modelValue:r.selectedStorage,"onUpdate:modelValue":t[3]||(t[3]=e=>r.selectedStorage=e),onOptions:n.onStorageOptions},null,8,["store","product","color","modelValue","onOptions"])]),_:1})]),_:1},8,["style"])):(0,a.Q3)("",!0)]),_:1},8,["modelValue"]),(0,a.bF)(b,{class:"mt-2"},{default:(0,a.k6)(()=>[(0,a.bF)(v,{cols:"12",md:"6"},{default:(0,a.k6)(()=>[r.error?((0,a.uX)(),(0,a.Wv)(f,{key:0,type:"error",density:"comfortable"},{default:(0,a.k6)(()=>[(0,a.eW)((0,F.v_)(r.error),1)]),_:1})):r.loading?((0,a.uX)(),(0,a.Wv)(p,{key:1,type:"text"})):((0,a.uX)(),(0,a.CE)("div",w,[t[9]||(t[9]=(0,a.Lk)("span",null,"Quantity:",-1)),(0,a.Lk)("span",V,(0,F.v_)(n.quantityDisplay),1),r.selectedStorage?((0,a.uX)(),(0,a.CE)("span",C,"Storage:")):(0,a.Q3)("",!0),r.selectedStorage?((0,a.uX)(),(0,a.CE)("span",P,(0,F.v_)(r.selectedStorage)+"GB",1)):(0,a.Q3)("",!0)]))]),_:1})]),_:1})]),_:1})]),_:1})}function O(e,t,o,l,r,n){const s=(0,a.g2)("v-autocomplete");return(0,a.uX)(),(0,a.Wv)(s,{items:r.storeItems,loading:r.loading,"model-value":o.modelValue,"item-title":"label","item-value":"value",label:"Store",placeholder:"Select a store",clearable:"","onUpdate:modelValue":n.onUpdate},null,8,["items","loading","model-value","onUpdate:modelValue"])}o(8111),o(1701),o(4114),o(7642),o(8004),o(3853),o(5876),o(2475),o(5024),o(1698);var x=o(1300);const W="https://obhzromrgwodaxsjlgfs.supabase.co",q="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9iaHpyb21yZ3dvZGF4c2psZ2ZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2NDg1NTgsImV4cCI6MjA3NDIyNDU1OH0.7gjEbFfzzXOTxt3fhnBxEfSqKtazQ_5ywY4i_I84O-E";W&&q||console.error("[Supabase] Missing SUPABASE_URL or SUPABASE_ANON_KEY environment variables");const X=(0,x.UU)(W||"",q||"");var A=X;const N="inventory";async function U(){const{data:e,error:t}=await A.from(N).select("name, location").not("name","is",null).not("location","is",null);if(t)throw t;const o=new Set,l=[];for(const a of e){const e=`${a.name}__${a.location}`;o.has(e)||(o.add(e),l.push({name:a.name,location:a.location,label:`${a.name} â€” ${a.location}`}))}return l}async function j(e){const{name:t,location:o}=e,{data:l,error:a}=await A.from(N).select("product").eq("name",t).eq("location",o).not("product","is",null);if(a)throw a;const r=new Set(l.map(e=>String(e.product).trim().toLowerCase()));return Array.from(r).sort()}async function $(e,t){const{name:o,location:l}=e,{data:a,error:r}=await A.from(N).select("color").eq("name",o).eq("location",l).ilike("product",t).not("color","is",null);if(r)throw r;const n=new Set(a.map(e=>String(e.color).trim().toLowerCase()));return Array.from(n).sort()}async function L(e,t,o){const{name:l,location:a}=e,{data:r,error:n}=await A.from(N).select("storage").eq("name",l).eq("location",a).ilike("product",t).ilike("color",o).not("storage","is",null);if(n)throw n;const s=new Set((r||[]).map(e=>String(e.storage).trim()));return Array.from(s).sort((e,t)=>Number(e)-Number(t))}async function E(e,t,o,l){const{name:a,location:r}=e;let n=A.from(N).select("quantity").eq("name",a).eq("location",r).ilike("product",t).ilike("color",o);if(void 0!==l&&null!==l&&String(l).length>0){const e=Number(l);n=Number.isNaN(e)?n.eq("storage",String(l)):n.eq("storage",e)}const{data:s,error:i}=await n;if(i)throw i;let c=0;for(const d of s||[]){const e=Number(d.quantity);Number.isNaN(e)||(c+=e)}return c}var Q={name:"StoreSelector",props:{modelValue:{type:Object,default:null}},data(){return{loading:!1,storeItems:[]}},methods:{onUpdate(e){this.$emit("update:modelValue",e)},async loadStores(){this.loading=!0;try{const e=await U();this.storeItems=e.map(e=>({label:e.label,value:{name:e.name,location:e.location}}))}catch(e){console.error("Failed to load stores",e)}finally{this.loading=!1}}},mounted(){this.loadStores()}};const z=(0,s.A)(Q,[["render",O]]);var T=z;function J(e,t,o,l,r,n){const s=(0,a.g2)("v-autocomplete");return(0,a.uX)(),(0,a.Wv)(s,{disabled:!o.store,items:r.items,loading:r.loading,"model-value":o.modelValue,label:"Product",placeholder:"Select a product",clearable:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},null,8,["disabled","items","loading","model-value"])}var M={name:"ProductSelector",props:{modelValue:{type:String,default:""},store:{type:Object,default:null}},data(){return{loading:!1,items:[]}},watch:{store:{handler(){this.load()},immediate:!0}},methods:{async load(){if(this.store){this.loading=!0;try{const e=await j(this.store);this.items=e}catch(e){console.error("Failed to load products",e)}finally{this.loading=!1}}else this.items=[]}}};const Z=(0,s.A)(M,[["render",J]]);var B=Z;function D(e,t,o,l,r,n){const s=(0,a.g2)("v-autocomplete");return(0,a.uX)(),(0,a.Wv)(s,{disabled:!o.store||!o.product,items:r.items,loading:r.loading,"model-value":o.modelValue,label:"Color",placeholder:"Select a color",clearable:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},null,8,["disabled","items","loading","model-value"])}var R={name:"ColorSelector",props:{modelValue:{type:String,default:""},store:{type:Object,default:null},product:{type:String,default:""}},data(){return{loading:!1,items:[]}},watch:{store:{handler(){this.load()},immediate:!0},product(){this.load()}},methods:{async load(){if(this.store&&this.product){this.loading=!0;try{const e=await $(this.store,this.product);this.items=e}catch(e){console.error("Failed to load colors",e)}finally{this.loading=!1}}else this.items=[]}}};const G=(0,s.A)(R,[["render",D]]);var Y=G;function H(e,t,o,l,r,n){const s=(0,a.g2)("v-autocomplete");return(0,a.uX)(),(0,a.Wv)(s,{disabled:!o.store||!o.product||!o.color,items:n.displayItems,loading:r.loading,"model-value":o.modelValue,"item-title":"label","item-value":"value",label:"Storage",placeholder:"Select storage",clearable:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},null,8,["disabled","items","loading","model-value"])}var K={name:"StorageSelector",props:{modelValue:{type:[String,Number],default:""},store:{type:Object,default:null},product:{type:String,default:""},color:{type:String,default:""}},emits:["update:modelValue","options"],data(){return{loading:!1,items:[]}},computed:{displayItems(){return this.items.map(e=>({label:`${e}GB`,value:e}))}},watch:{store:{handler(){this.load()},immediate:!0},product(){this.load()},color(){this.load()}},methods:{async load(){if(!this.store||!this.product||!this.color)return this.items=[],void this.$emit("options",0);this.loading=!0;try{const e=await L(this.store,this.product,this.color);this.items=e,this.$emit("options",this.items.length),0===this.items.length&&this.$emit("update:modelValue","")}catch(e){console.error("Failed to load storages",e),this.$emit("options",0)}finally{this.loading=!1}}}};const ee=(0,s.A)(K,[["render",H]]);var te=ee,oe={name:"InventorySearchPanel",components:{StoreSelector:T,ProductSelector:B,ColorSelector:Y,StorageSelector:te},emits:["change"],data(){return{selectedStore:null,selectedProduct:"",selectedColor:"",selectedStorage:"",loading:!1,error:"",quantity:null,storageOptionsCount:0,activePanel:0}},computed:{quantityDisplay(){return null===this.quantity?"-":this.quantity},hasStoreProductColor(){return!!this.selectedStore&&!!this.selectedProduct&&!!this.selectedColor}},watch:{selectedStore(){this.resetStorageState(),this.triggerQuery(),this.activePanel=1},selectedProduct(){this.resetStorageState(),this.triggerQuery(),this.activePanel=2},selectedColor(){this.resetStorageState(),this.triggerQuery(),this.activePanel=3},selectedStorage(){this.triggerQuery()}},methods:{onStorageOptions(e){this.storageOptionsCount=e},resetStorageState(){this.selectedStorage="",this.storageOptionsCount=0},async triggerQuery(){if(this.$emit("change",{store:this.selectedStore,product:this.selectedProduct,color:this.selectedColor}),this.selectedStore&&this.selectedProduct&&this.selectedColor){this.loading=!0,this.error="";try{const e=await E(this.selectedStore,this.selectedProduct,this.selectedColor,this.selectedStorage);this.quantity=e}catch(e){this.error="Failed to load quantity",console.error(e)}finally{this.loading=!1}}else this.quantity=null}}};const le=(0,s.A)(oe,[["render",I]]);var ae=le,re={name:"SellingPage",components:{InventorySearchPanel:ae},methods:{onSelectionChange(e){console.log("Selection changed",e)}}};const ne=(0,s.A)(re,[["render",_]]);var se=ne;const ie=[{path:"/",redirect:"/selling"},{path:"/sales-record",name:"SalesRecord",component:v},{path:"/inventory",name:"Inventory",component:k},{path:"/selling",name:"Selling",component:se}],ce=(0,g.aE)({history:(0,g.LA)(),routes:ie});var de=ce;const ue=(0,d.$N)({components:u,directives:m}),me=(0,l.Ef)(c);me.use(ue),me.use(de),me.mount("#app")}},t={};function o(l){var a=t[l];if(void 0!==a)return a.exports;var r=t[l]={exports:{}};return e[l].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,l,a,r){if(!l){var n=1/0;for(d=0;d<e.length;d++){l=e[d][0],a=e[d][1],r=e[d][2];for(var s=!0,i=0;i<l.length;i++)(!1&r||n>=r)&&Object.keys(o.O).every(function(e){return o.O[e](l[i])})?l.splice(i--,1):(s=!1,r<n&&(n=r));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[l,a,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,r,n=l[0],s=l[1],i=l[2],c=0;if(n.some(function(t){return 0!==e[t]})){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(i)var d=i(o)}for(t&&t(l);c<n.length;c++)r=n[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},l=self["webpackChunkinventory_management_system"]=self["webpackChunkinventory_management_system"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=o.O(void 0,[504],function(){return o(8672)});l=o.O(l)})();
//# sourceMappingURL=app.6f74795c.js.map